function gf(e,t){for(var r=0;r<t.length;r++){const s=t[r];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(s,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=r(a);fetch(a.href,l)}})();function vf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Vu={exports:{}},Ca={},Qu={exports:{}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ss=Symbol.for("react.element"),yf=Symbol.for("react.portal"),bf=Symbol.for("react.fragment"),jf=Symbol.for("react.strict_mode"),Nf=Symbol.for("react.profiler"),wf=Symbol.for("react.provider"),kf=Symbol.for("react.context"),Sf=Symbol.for("react.forward_ref"),Cf=Symbol.for("react.suspense"),Ef=Symbol.for("react.memo"),Ff=Symbol.for("react.lazy"),Zi=Symbol.iterator;function Tf(e){return e===null||typeof e!="object"?null:(e=Zi&&e[Zi]||e["@@iterator"],typeof e=="function"?e:null)}var Gu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Yu=Object.assign,Ku={};function on(e,t,r){this.props=e,this.context=t,this.refs=Ku,this.updater=r||Gu}on.prototype.isReactComponent={};on.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};on.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Xu(){}Xu.prototype=on.prototype;function Io(e,t,r){this.props=e,this.context=t,this.refs=Ku,this.updater=r||Gu}var Ro=Io.prototype=new Xu;Ro.constructor=Io;Yu(Ro,on.prototype);Ro.isPureReactComponent=!0;var qi=Array.isArray,Ju=Object.prototype.hasOwnProperty,zo={current:null},Zu={key:!0,ref:!0,__self:!0,__source:!0};function qu(e,t,r){var s,a={},l=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(l=""+t.key),t)Ju.call(t,s)&&!Zu.hasOwnProperty(s)&&(a[s]=t[s]);var c=arguments.length-2;if(c===1)a.children=r;else if(1<c){for(var i=Array(c),u=0;u<c;u++)i[u]=arguments[u+2];a.children=i}if(e&&e.defaultProps)for(s in c=e.defaultProps,c)a[s]===void 0&&(a[s]=c[s]);return{$$typeof:ss,type:e,key:l,ref:o,props:a,_owner:zo.current}}function Pf(e,t){return{$$typeof:ss,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Oo(e){return typeof e=="object"&&e!==null&&e.$$typeof===ss}function Lf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var ec=/\/+/g;function qa(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Lf(""+e.key):t.toString(36)}function zs(e,t,r,s,a){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ss:case yf:o=!0}}if(o)return o=e,a=a(o),e=s===""?"."+qa(o,0):s,qi(a)?(r="",e!=null&&(r=e.replace(ec,"$&/")+"/"),zs(a,t,r,"",function(u){return u})):a!=null&&(Oo(a)&&(a=Pf(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(ec,"$&/")+"/")+e)),t.push(a)),1;if(o=0,s=s===""?".":s+":",qi(e))for(var c=0;c<e.length;c++){l=e[c];var i=s+qa(l,c);o+=zs(l,t,r,i,a)}else if(i=Tf(e),typeof i=="function")for(e=i.call(e),c=0;!(l=e.next()).done;)l=l.value,i=s+qa(l,c++),o+=zs(l,t,r,i,a);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ps(e,t,r){if(e==null)return e;var s=[],a=0;return zs(e,s,"","",function(l){return t.call(r,l,a++)}),s}function Mf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ze={current:null},Os={transition:null},_f={ReactCurrentDispatcher:ze,ReactCurrentBatchConfig:Os,ReactCurrentOwner:zo};function ed(){throw Error("act(...) is not supported in production builds of React.")}J.Children={map:ps,forEach:function(e,t,r){ps(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ps(e,function(){t++}),t},toArray:function(e){return ps(e,function(t){return t})||[]},only:function(e){if(!Oo(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};J.Component=on;J.Fragment=bf;J.Profiler=Nf;J.PureComponent=Io;J.StrictMode=jf;J.Suspense=Cf;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_f;J.act=ed;J.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=Yu({},e.props),a=e.key,l=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,o=zo.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(i in t)Ju.call(t,i)&&!Zu.hasOwnProperty(i)&&(s[i]=t[i]===void 0&&c!==void 0?c[i]:t[i])}var i=arguments.length-2;if(i===1)s.children=r;else if(1<i){c=Array(i);for(var u=0;u<i;u++)c[u]=arguments[u+2];s.children=c}return{$$typeof:ss,type:e.type,key:a,ref:l,props:s,_owner:o}};J.createContext=function(e){return e={$$typeof:kf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:wf,_context:e},e.Consumer=e};J.createElement=qu;J.createFactory=function(e){var t=qu.bind(null,e);return t.type=e,t};J.createRef=function(){return{current:null}};J.forwardRef=function(e){return{$$typeof:Sf,render:e}};J.isValidElement=Oo;J.lazy=function(e){return{$$typeof:Ff,_payload:{_status:-1,_result:e},_init:Mf}};J.memo=function(e,t){return{$$typeof:Ef,type:e,compare:t===void 0?null:t}};J.startTransition=function(e){var t=Os.transition;Os.transition={};try{e()}finally{Os.transition=t}};J.unstable_act=ed;J.useCallback=function(e,t){return ze.current.useCallback(e,t)};J.useContext=function(e){return ze.current.useContext(e)};J.useDebugValue=function(){};J.useDeferredValue=function(e){return ze.current.useDeferredValue(e)};J.useEffect=function(e,t){return ze.current.useEffect(e,t)};J.useId=function(){return ze.current.useId()};J.useImperativeHandle=function(e,t,r){return ze.current.useImperativeHandle(e,t,r)};J.useInsertionEffect=function(e,t){return ze.current.useInsertionEffect(e,t)};J.useLayoutEffect=function(e,t){return ze.current.useLayoutEffect(e,t)};J.useMemo=function(e,t){return ze.current.useMemo(e,t)};J.useReducer=function(e,t,r){return ze.current.useReducer(e,t,r)};J.useRef=function(e){return ze.current.useRef(e)};J.useState=function(e){return ze.current.useState(e)};J.useSyncExternalStore=function(e,t,r){return ze.current.useSyncExternalStore(e,t,r)};J.useTransition=function(){return ze.current.useTransition()};J.version="18.3.1";Qu.exports=J;var p=Qu.exports;const td=vf(p),Af=gf({__proto__:null,default:td},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var If=p,Rf=Symbol.for("react.element"),zf=Symbol.for("react.fragment"),Of=Object.prototype.hasOwnProperty,Df=If.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Bf={key:!0,ref:!0,__self:!0,__source:!0};function rd(e,t,r){var s,a={},l=null,o=null;r!==void 0&&(l=""+r),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)Of.call(t,s)&&!Bf.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:Rf,type:e,key:l,ref:o,props:a,_owner:Df.current}}Ca.Fragment=zf;Ca.jsx=rd;Ca.jsxs=rd;Vu.exports=Ca;var n=Vu.exports,Al={},nd={exports:{}},Ze={},sd={exports:{}},ad={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(B,V){var H=B.length;B.push(V);e:for(;0<H;){var C=H-1>>>1,O=B[C];if(0<a(O,V))B[C]=V,B[H]=O,H=C;else break e}}function r(B){return B.length===0?null:B[0]}function s(B){if(B.length===0)return null;var V=B[0],H=B.pop();if(H!==V){B[0]=H;e:for(var C=0,O=B.length,Z=O>>>1;C<Z;){var te=2*(C+1)-1,ge=B[te],K=te+1,fe=B[K];if(0>a(ge,H))K<O&&0>a(fe,ge)?(B[C]=fe,B[K]=H,C=K):(B[C]=ge,B[te]=H,C=te);else if(K<O&&0>a(fe,H))B[C]=fe,B[K]=H,C=K;else break e}}return V}function a(B,V){var H=B.sortIndex-V.sortIndex;return H!==0?H:B.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var o=Date,c=o.now();e.unstable_now=function(){return o.now()-c}}var i=[],u=[],m=1,d=null,h=3,w=!1,j=!1,N=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(B){for(var V=r(u);V!==null;){if(V.callback===null)s(u);else if(V.startTime<=B)s(u),V.sortIndex=V.expirationTime,t(i,V);else break;V=r(u)}}function S(B){if(N=!1,v(B),!j)if(r(i)!==null)j=!0,Q(k);else{var V=r(u);V!==null&&ye(S,V.startTime-B)}}function k(B,V){j=!1,N&&(N=!1,x(A),A=-1),w=!0;var H=h;try{for(v(V),d=r(i);d!==null&&(!(d.expirationTime>V)||B&&!M());){var C=d.callback;if(typeof C=="function"){d.callback=null,h=d.priorityLevel;var O=C(d.expirationTime<=V);V=e.unstable_now(),typeof O=="function"?d.callback=O:d===r(i)&&s(i),v(V)}else s(i);d=r(i)}if(d!==null)var Z=!0;else{var te=r(u);te!==null&&ye(S,te.startTime-V),Z=!1}return Z}finally{d=null,h=H,w=!1}}var P=!1,R=null,A=-1,F=5,_=-1;function M(){return!(e.unstable_now()-_<F)}function L(){if(R!==null){var B=e.unstable_now();_=B;var V=!0;try{V=R(!0,B)}finally{V?E():(P=!1,R=null)}}else P=!1}var E;if(typeof f=="function")E=function(){f(L)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,W=T.port2;T.port1.onmessage=L,E=function(){W.postMessage(null)}}else E=function(){b(L,0)};function Q(B){R=B,P||(P=!0,E())}function ye(B,V){A=b(function(){B(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_continueExecution=function(){j||w||(j=!0,Q(k))},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(i)},e.unstable_next=function(B){switch(h){case 1:case 2:case 3:var V=3;break;default:V=h}var H=h;h=V;try{return B()}finally{h=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(B,V){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var H=h;h=B;try{return V()}finally{h=H}},e.unstable_scheduleCallback=function(B,V,H){var C=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?C+H:C):H=C,B){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=H+O,B={id:m++,callback:V,priorityLevel:B,startTime:H,expirationTime:O,sortIndex:-1},H>C?(B.sortIndex=H,t(u,B),r(i)===null&&B===r(u)&&(N?(x(A),A=-1):N=!0,ye(S,H-C))):(B.sortIndex=O,t(i,B),j||w||(j=!0,Q(k))),B},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(B){var V=h;return function(){var H=h;h=V;try{return B.apply(this,arguments)}finally{h=H}}}})(ad);sd.exports=ad;var $f=sd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uf=p,Je=$f;function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ld=new Set,Dn={};function Fr(e,t){Zr(e,t),Zr(e+"Capture",t)}function Zr(e,t){for(Dn[e]=t,e=0;e<t.length;e++)ld.add(t[e])}var At=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Il=Object.prototype.hasOwnProperty,Wf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,tc={},rc={};function Hf(e){return Il.call(rc,e)?!0:Il.call(tc,e)?!1:Wf.test(e)?rc[e]=!0:(tc[e]=!0,!1)}function Vf(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Qf(e,t,r,s){if(t===null||typeof t>"u"||Vf(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Oe(e,t,r,s,a,l,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=o}var Te={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Te[e]=new Oe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Te[t]=new Oe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Te[e]=new Oe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Te[e]=new Oe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Te[e]=new Oe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Te[e]=new Oe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Te[e]=new Oe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Te[e]=new Oe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Te[e]=new Oe(e,5,!1,e.toLowerCase(),null,!1,!1)});var Do=/[\-:]([a-z])/g;function Bo(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Do,Bo);Te[t]=new Oe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Do,Bo);Te[t]=new Oe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Do,Bo);Te[t]=new Oe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Te[e]=new Oe(e,1,!1,e.toLowerCase(),null,!1,!1)});Te.xlinkHref=new Oe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Te[e]=new Oe(e,1,!1,e.toLowerCase(),null,!0,!0)});function $o(e,t,r,s){var a=Te.hasOwnProperty(t)?Te[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Qf(t,r,a,s)&&(r=null),s||a===null?Hf(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,s=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var Ot=Uf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ms=Symbol.for("react.element"),Ar=Symbol.for("react.portal"),Ir=Symbol.for("react.fragment"),Uo=Symbol.for("react.strict_mode"),Rl=Symbol.for("react.profiler"),od=Symbol.for("react.provider"),id=Symbol.for("react.context"),Wo=Symbol.for("react.forward_ref"),zl=Symbol.for("react.suspense"),Ol=Symbol.for("react.suspense_list"),Ho=Symbol.for("react.memo"),Ht=Symbol.for("react.lazy"),cd=Symbol.for("react.offscreen"),nc=Symbol.iterator;function gn(e){return e===null||typeof e!="object"?null:(e=nc&&e[nc]||e["@@iterator"],typeof e=="function"?e:null)}var me=Object.assign,el;function Cn(e){if(el===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);el=t&&t[1]||""}return`
`+el+e}var tl=!1;function rl(e,t){if(!e||tl)return"";tl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var s=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){s=u}e.call(t.prototype)}else{try{throw Error()}catch(u){s=u}e()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),l=s.stack.split(`
`),o=a.length-1,c=l.length-1;1<=o&&0<=c&&a[o]!==l[c];)c--;for(;1<=o&&0<=c;o--,c--)if(a[o]!==l[c]){if(o!==1||c!==1)do if(o--,c--,0>c||a[o]!==l[c]){var i=`
`+a[o].replace(" at new "," at ");return e.displayName&&i.includes("<anonymous>")&&(i=i.replace("<anonymous>",e.displayName)),i}while(1<=o&&0<=c);break}}}finally{tl=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Cn(e):""}function Gf(e){switch(e.tag){case 5:return Cn(e.type);case 16:return Cn("Lazy");case 13:return Cn("Suspense");case 19:return Cn("SuspenseList");case 0:case 2:case 15:return e=rl(e.type,!1),e;case 11:return e=rl(e.type.render,!1),e;case 1:return e=rl(e.type,!0),e;default:return""}}function Dl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ir:return"Fragment";case Ar:return"Portal";case Rl:return"Profiler";case Uo:return"StrictMode";case zl:return"Suspense";case Ol:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case id:return(e.displayName||"Context")+".Consumer";case od:return(e._context.displayName||"Context")+".Provider";case Wo:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ho:return t=e.displayName||null,t!==null?t:Dl(e.type)||"Memo";case Ht:t=e._payload,e=e._init;try{return Dl(e(t))}catch{}}return null}function Yf(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Dl(t);case 8:return t===Uo?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function or(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ud(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Kf(e){var t=ud(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,l=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){s=""+o,l.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function fs(e){e._valueTracker||(e._valueTracker=Kf(e))}function dd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=ud(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function Js(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Bl(e,t){var r=t.checked;return me({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function sc(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=or(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function pd(e,t){t=t.checked,t!=null&&$o(e,"checked",t,!1)}function $l(e,t){pd(e,t);var r=or(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ul(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ul(e,t.type,or(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ac(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ul(e,t,r){(t!=="number"||Js(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var En=Array.isArray;function Qr(e,t,r,s){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&s&&(e[r].defaultSelected=!0)}else{for(r=""+or(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Wl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(I(91));return me({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function lc(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(I(92));if(En(r)){if(1<r.length)throw Error(I(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:or(r)}}function md(e,t){var r=or(t.value),s=or(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function oc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function fd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?fd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var hs,hd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(hs=hs||document.createElement("div"),hs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=hs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Bn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Pn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xf=["Webkit","ms","Moz","O"];Object.keys(Pn).forEach(function(e){Xf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Pn[t]=Pn[e]})});function xd(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Pn.hasOwnProperty(e)&&Pn[e]?(""+t).trim():t+"px"}function gd(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,a=xd(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,a):e[r]=a}}var Jf=me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vl(e,t){if(t){if(Jf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(I(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(I(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(I(61))}if(t.style!=null&&typeof t.style!="object")throw Error(I(62))}}function Ql(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gl=null;function Vo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Yl=null,Gr=null,Yr=null;function ic(e){if(e=os(e)){if(typeof Yl!="function")throw Error(I(280));var t=e.stateNode;t&&(t=La(t),Yl(e.stateNode,e.type,t))}}function vd(e){Gr?Yr?Yr.push(e):Yr=[e]:Gr=e}function yd(){if(Gr){var e=Gr,t=Yr;if(Yr=Gr=null,ic(e),t)for(e=0;e<t.length;e++)ic(t[e])}}function bd(e,t){return e(t)}function jd(){}var nl=!1;function Nd(e,t,r){if(nl)return e(t,r);nl=!0;try{return bd(e,t,r)}finally{nl=!1,(Gr!==null||Yr!==null)&&(jd(),yd())}}function $n(e,t){var r=e.stateNode;if(r===null)return null;var s=La(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(I(231,t,typeof r));return r}var Kl=!1;if(At)try{var vn={};Object.defineProperty(vn,"passive",{get:function(){Kl=!0}}),window.addEventListener("test",vn,vn),window.removeEventListener("test",vn,vn)}catch{Kl=!1}function Zf(e,t,r,s,a,l,o,c,i){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(m){this.onError(m)}}var Ln=!1,Zs=null,qs=!1,Xl=null,qf={onError:function(e){Ln=!0,Zs=e}};function eh(e,t,r,s,a,l,o,c,i){Ln=!1,Zs=null,Zf.apply(qf,arguments)}function th(e,t,r,s,a,l,o,c,i){if(eh.apply(this,arguments),Ln){if(Ln){var u=Zs;Ln=!1,Zs=null}else throw Error(I(198));qs||(qs=!0,Xl=u)}}function Tr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function wd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function cc(e){if(Tr(e)!==e)throw Error(I(188))}function rh(e){var t=e.alternate;if(!t){if(t=Tr(e),t===null)throw Error(I(188));return t!==e?null:e}for(var r=e,s=t;;){var a=r.return;if(a===null)break;var l=a.alternate;if(l===null){if(s=a.return,s!==null){r=s;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===r)return cc(a),e;if(l===s)return cc(a),t;l=l.sibling}throw Error(I(188))}if(r.return!==s.return)r=a,s=l;else{for(var o=!1,c=a.child;c;){if(c===r){o=!0,r=a,s=l;break}if(c===s){o=!0,s=a,r=l;break}c=c.sibling}if(!o){for(c=l.child;c;){if(c===r){o=!0,r=l,s=a;break}if(c===s){o=!0,s=l,r=a;break}c=c.sibling}if(!o)throw Error(I(189))}}if(r.alternate!==s)throw Error(I(190))}if(r.tag!==3)throw Error(I(188));return r.stateNode.current===r?e:t}function kd(e){return e=rh(e),e!==null?Sd(e):null}function Sd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Sd(e);if(t!==null)return t;e=e.sibling}return null}var Cd=Je.unstable_scheduleCallback,uc=Je.unstable_cancelCallback,nh=Je.unstable_shouldYield,sh=Je.unstable_requestPaint,ve=Je.unstable_now,ah=Je.unstable_getCurrentPriorityLevel,Qo=Je.unstable_ImmediatePriority,Ed=Je.unstable_UserBlockingPriority,ea=Je.unstable_NormalPriority,lh=Je.unstable_LowPriority,Fd=Je.unstable_IdlePriority,Ea=null,Nt=null;function oh(e){if(Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(Ea,e,void 0,(e.current.flags&128)===128)}catch{}}var ft=Math.clz32?Math.clz32:uh,ih=Math.log,ch=Math.LN2;function uh(e){return e>>>=0,e===0?32:31-(ih(e)/ch|0)|0}var xs=64,gs=4194304;function Fn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ta(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,a=e.suspendedLanes,l=e.pingedLanes,o=r&268435455;if(o!==0){var c=o&~a;c!==0?s=Fn(c):(l&=o,l!==0&&(s=Fn(l)))}else o=r&~a,o!==0?s=Fn(o):l!==0&&(s=Fn(l));if(s===0)return 0;if(t!==0&&t!==s&&!(t&a)&&(a=s&-s,l=t&-t,a>=l||a===16&&(l&4194240)!==0))return t;if(s&4&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-ft(t),a=1<<r,s|=e[r],t&=~a;return s}function dh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ph(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,l=e.pendingLanes;0<l;){var o=31-ft(l),c=1<<o,i=a[o];i===-1?(!(c&r)||c&s)&&(a[o]=dh(c,t)):i<=t&&(e.expiredLanes|=c),l&=~c}}function Jl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Td(){var e=xs;return xs<<=1,!(xs&4194240)&&(xs=64),e}function sl(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function as(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ft(t),e[t]=r}function mh(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-ft(r),l=1<<a;t[a]=0,s[a]=-1,e[a]=-1,r&=~l}}function Go(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-ft(r),a=1<<s;a&t|e[s]&t&&(e[s]|=t),r&=~a}}var re=0;function Pd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ld,Yo,Md,_d,Ad,Zl=!1,vs=[],Jt=null,Zt=null,qt=null,Un=new Map,Wn=new Map,Qt=[],fh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dc(e,t){switch(e){case"focusin":case"focusout":Jt=null;break;case"dragenter":case"dragleave":Zt=null;break;case"mouseover":case"mouseout":qt=null;break;case"pointerover":case"pointerout":Un.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wn.delete(t.pointerId)}}function yn(e,t,r,s,a,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:l,targetContainers:[a]},t!==null&&(t=os(t),t!==null&&Yo(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function hh(e,t,r,s,a){switch(t){case"focusin":return Jt=yn(Jt,e,t,r,s,a),!0;case"dragenter":return Zt=yn(Zt,e,t,r,s,a),!0;case"mouseover":return qt=yn(qt,e,t,r,s,a),!0;case"pointerover":var l=a.pointerId;return Un.set(l,yn(Un.get(l)||null,e,t,r,s,a)),!0;case"gotpointercapture":return l=a.pointerId,Wn.set(l,yn(Wn.get(l)||null,e,t,r,s,a)),!0}return!1}function Id(e){var t=vr(e.target);if(t!==null){var r=Tr(t);if(r!==null){if(t=r.tag,t===13){if(t=wd(r),t!==null){e.blockedOn=t,Ad(e.priority,function(){Md(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ds(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=ql(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);Gl=s,r.target.dispatchEvent(s),Gl=null}else return t=os(r),t!==null&&Yo(t),e.blockedOn=r,!1;t.shift()}return!0}function pc(e,t,r){Ds(e)&&r.delete(t)}function xh(){Zl=!1,Jt!==null&&Ds(Jt)&&(Jt=null),Zt!==null&&Ds(Zt)&&(Zt=null),qt!==null&&Ds(qt)&&(qt=null),Un.forEach(pc),Wn.forEach(pc)}function bn(e,t){e.blockedOn===t&&(e.blockedOn=null,Zl||(Zl=!0,Je.unstable_scheduleCallback(Je.unstable_NormalPriority,xh)))}function Hn(e){function t(a){return bn(a,e)}if(0<vs.length){bn(vs[0],e);for(var r=1;r<vs.length;r++){var s=vs[r];s.blockedOn===e&&(s.blockedOn=null)}}for(Jt!==null&&bn(Jt,e),Zt!==null&&bn(Zt,e),qt!==null&&bn(qt,e),Un.forEach(t),Wn.forEach(t),r=0;r<Qt.length;r++)s=Qt[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<Qt.length&&(r=Qt[0],r.blockedOn===null);)Id(r),r.blockedOn===null&&Qt.shift()}var Kr=Ot.ReactCurrentBatchConfig,ra=!0;function gh(e,t,r,s){var a=re,l=Kr.transition;Kr.transition=null;try{re=1,Ko(e,t,r,s)}finally{re=a,Kr.transition=l}}function vh(e,t,r,s){var a=re,l=Kr.transition;Kr.transition=null;try{re=4,Ko(e,t,r,s)}finally{re=a,Kr.transition=l}}function Ko(e,t,r,s){if(ra){var a=ql(e,t,r,s);if(a===null)fl(e,t,s,na,r),dc(e,s);else if(hh(a,e,t,r,s))s.stopPropagation();else if(dc(e,s),t&4&&-1<fh.indexOf(e)){for(;a!==null;){var l=os(a);if(l!==null&&Ld(l),l=ql(e,t,r,s),l===null&&fl(e,t,s,na,r),l===a)break;a=l}a!==null&&s.stopPropagation()}else fl(e,t,s,null,r)}}var na=null;function ql(e,t,r,s){if(na=null,e=Vo(s),e=vr(e),e!==null)if(t=Tr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=wd(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return na=e,null}function Rd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ah()){case Qo:return 1;case Ed:return 4;case ea:case lh:return 16;case Fd:return 536870912;default:return 16}default:return 16}}var Yt=null,Xo=null,Bs=null;function zd(){if(Bs)return Bs;var e,t=Xo,r=t.length,s,a="value"in Yt?Yt.value:Yt.textContent,l=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(s=1;s<=o&&t[r-s]===a[l-s];s++);return Bs=a.slice(e,1<s?1-s:void 0)}function $s(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ys(){return!0}function mc(){return!1}function qe(e){function t(r,s,a,l,o){this._reactName=r,this._targetInst=a,this.type=s,this.nativeEvent=l,this.target=o,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(r=e[c],this[c]=r?r(l):l[c]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?ys:mc,this.isPropagationStopped=mc,this}return me(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ys)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ys)},persist:function(){},isPersistent:ys}),t}var cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jo=qe(cn),ls=me({},cn,{view:0,detail:0}),yh=qe(ls),al,ll,jn,Fa=me({},ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==jn&&(jn&&e.type==="mousemove"?(al=e.screenX-jn.screenX,ll=e.screenY-jn.screenY):ll=al=0,jn=e),al)},movementY:function(e){return"movementY"in e?e.movementY:ll}}),fc=qe(Fa),bh=me({},Fa,{dataTransfer:0}),jh=qe(bh),Nh=me({},ls,{relatedTarget:0}),ol=qe(Nh),wh=me({},cn,{animationName:0,elapsedTime:0,pseudoElement:0}),kh=qe(wh),Sh=me({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ch=qe(Sh),Eh=me({},cn,{data:0}),hc=qe(Eh),Fh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Th={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ph={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ph[e])?!!t[e]:!1}function Zo(){return Lh}var Mh=me({},ls,{key:function(e){if(e.key){var t=Fh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=$s(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Th[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zo,charCode:function(e){return e.type==="keypress"?$s(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$s(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_h=qe(Mh),Ah=me({},Fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xc=qe(Ah),Ih=me({},ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zo}),Rh=qe(Ih),zh=me({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Oh=qe(zh),Dh=me({},Fa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Bh=qe(Dh),$h=[9,13,27,32],qo=At&&"CompositionEvent"in window,Mn=null;At&&"documentMode"in document&&(Mn=document.documentMode);var Uh=At&&"TextEvent"in window&&!Mn,Od=At&&(!qo||Mn&&8<Mn&&11>=Mn),gc=" ",vc=!1;function Dd(e,t){switch(e){case"keyup":return $h.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Rr=!1;function Wh(e,t){switch(e){case"compositionend":return Bd(t);case"keypress":return t.which!==32?null:(vc=!0,gc);case"textInput":return e=t.data,e===gc&&vc?null:e;default:return null}}function Hh(e,t){if(Rr)return e==="compositionend"||!qo&&Dd(e,t)?(e=zd(),Bs=Xo=Yt=null,Rr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Od&&t.locale!=="ko"?null:t.data;default:return null}}var Vh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Vh[e.type]:t==="textarea"}function $d(e,t,r,s){vd(s),t=sa(t,"onChange"),0<t.length&&(r=new Jo("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var _n=null,Vn=null;function Qh(e){Zd(e,0)}function Ta(e){var t=Dr(e);if(dd(t))return e}function Gh(e,t){if(e==="change")return t}var Ud=!1;if(At){var il;if(At){var cl="oninput"in document;if(!cl){var bc=document.createElement("div");bc.setAttribute("oninput","return;"),cl=typeof bc.oninput=="function"}il=cl}else il=!1;Ud=il&&(!document.documentMode||9<document.documentMode)}function jc(){_n&&(_n.detachEvent("onpropertychange",Wd),Vn=_n=null)}function Wd(e){if(e.propertyName==="value"&&Ta(Vn)){var t=[];$d(t,Vn,e,Vo(e)),Nd(Qh,t)}}function Yh(e,t,r){e==="focusin"?(jc(),_n=t,Vn=r,_n.attachEvent("onpropertychange",Wd)):e==="focusout"&&jc()}function Kh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ta(Vn)}function Xh(e,t){if(e==="click")return Ta(t)}function Jh(e,t){if(e==="input"||e==="change")return Ta(t)}function Zh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xt=typeof Object.is=="function"?Object.is:Zh;function Qn(e,t){if(xt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var a=r[s];if(!Il.call(t,a)||!xt(e[a],t[a]))return!1}return!0}function Nc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wc(e,t){var r=Nc(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Nc(r)}}function Hd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Hd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Vd(){for(var e=window,t=Js();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Js(e.document)}return t}function ei(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function qh(e){var t=Vd(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Hd(r.ownerDocument.documentElement,r)){if(s!==null&&ei(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,l=Math.min(s.start,a);s=s.end===void 0?l:Math.min(s.end,a),!e.extend&&l>s&&(a=s,s=l,l=a),a=wc(r,l);var o=wc(r,s);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),l>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ex=At&&"documentMode"in document&&11>=document.documentMode,zr=null,eo=null,An=null,to=!1;function kc(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;to||zr==null||zr!==Js(s)||(s=zr,"selectionStart"in s&&ei(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),An&&Qn(An,s)||(An=s,s=sa(eo,"onSelect"),0<s.length&&(t=new Jo("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=zr)))}function bs(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Or={animationend:bs("Animation","AnimationEnd"),animationiteration:bs("Animation","AnimationIteration"),animationstart:bs("Animation","AnimationStart"),transitionend:bs("Transition","TransitionEnd")},ul={},Qd={};At&&(Qd=document.createElement("div").style,"AnimationEvent"in window||(delete Or.animationend.animation,delete Or.animationiteration.animation,delete Or.animationstart.animation),"TransitionEvent"in window||delete Or.transitionend.transition);function Pa(e){if(ul[e])return ul[e];if(!Or[e])return e;var t=Or[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Qd)return ul[e]=t[r];return e}var Gd=Pa("animationend"),Yd=Pa("animationiteration"),Kd=Pa("animationstart"),Xd=Pa("transitionend"),Jd=new Map,Sc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cr(e,t){Jd.set(e,t),Fr(t,[e])}for(var dl=0;dl<Sc.length;dl++){var pl=Sc[dl],tx=pl.toLowerCase(),rx=pl[0].toUpperCase()+pl.slice(1);cr(tx,"on"+rx)}cr(Gd,"onAnimationEnd");cr(Yd,"onAnimationIteration");cr(Kd,"onAnimationStart");cr("dblclick","onDoubleClick");cr("focusin","onFocus");cr("focusout","onBlur");cr(Xd,"onTransitionEnd");Zr("onMouseEnter",["mouseout","mouseover"]);Zr("onMouseLeave",["mouseout","mouseover"]);Zr("onPointerEnter",["pointerout","pointerover"]);Zr("onPointerLeave",["pointerout","pointerover"]);Fr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nx=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tn));function Cc(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,th(s,t,void 0,e),e.currentTarget=null}function Zd(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],a=s.event;s=s.listeners;e:{var l=void 0;if(t)for(var o=s.length-1;0<=o;o--){var c=s[o],i=c.instance,u=c.currentTarget;if(c=c.listener,i!==l&&a.isPropagationStopped())break e;Cc(a,c,u),l=i}else for(o=0;o<s.length;o++){if(c=s[o],i=c.instance,u=c.currentTarget,c=c.listener,i!==l&&a.isPropagationStopped())break e;Cc(a,c,u),l=i}}}if(qs)throw e=Xl,qs=!1,Xl=null,e}function ae(e,t){var r=t[lo];r===void 0&&(r=t[lo]=new Set);var s=e+"__bubble";r.has(s)||(qd(t,e,2,!1),r.add(s))}function ml(e,t,r){var s=0;t&&(s|=4),qd(r,e,s,t)}var js="_reactListening"+Math.random().toString(36).slice(2);function Gn(e){if(!e[js]){e[js]=!0,ld.forEach(function(r){r!=="selectionchange"&&(nx.has(r)||ml(r,!1,e),ml(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[js]||(t[js]=!0,ml("selectionchange",!1,t))}}function qd(e,t,r,s){switch(Rd(t)){case 1:var a=gh;break;case 4:a=vh;break;default:a=Ko}r=a.bind(null,t,r,e),a=void 0,!Kl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function fl(e,t,r,s,a){var l=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var c=s.stateNode.containerInfo;if(c===a||c.nodeType===8&&c.parentNode===a)break;if(o===4)for(o=s.return;o!==null;){var i=o.tag;if((i===3||i===4)&&(i=o.stateNode.containerInfo,i===a||i.nodeType===8&&i.parentNode===a))return;o=o.return}for(;c!==null;){if(o=vr(c),o===null)return;if(i=o.tag,i===5||i===6){s=l=o;continue e}c=c.parentNode}}s=s.return}Nd(function(){var u=l,m=Vo(r),d=[];e:{var h=Jd.get(e);if(h!==void 0){var w=Jo,j=e;switch(e){case"keypress":if($s(r)===0)break e;case"keydown":case"keyup":w=_h;break;case"focusin":j="focus",w=ol;break;case"focusout":j="blur",w=ol;break;case"beforeblur":case"afterblur":w=ol;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=fc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=jh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=Rh;break;case Gd:case Yd:case Kd:w=kh;break;case Xd:w=Oh;break;case"scroll":w=yh;break;case"wheel":w=Bh;break;case"copy":case"cut":case"paste":w=Ch;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=xc}var N=(t&4)!==0,b=!N&&e==="scroll",x=N?h!==null?h+"Capture":null:h;N=[];for(var f=u,v;f!==null;){v=f;var S=v.stateNode;if(v.tag===5&&S!==null&&(v=S,x!==null&&(S=$n(f,x),S!=null&&N.push(Yn(f,S,v)))),b)break;f=f.return}0<N.length&&(h=new w(h,j,null,r,m),d.push({event:h,listeners:N}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",h&&r!==Gl&&(j=r.relatedTarget||r.fromElement)&&(vr(j)||j[It]))break e;if((w||h)&&(h=m.window===m?m:(h=m.ownerDocument)?h.defaultView||h.parentWindow:window,w?(j=r.relatedTarget||r.toElement,w=u,j=j?vr(j):null,j!==null&&(b=Tr(j),j!==b||j.tag!==5&&j.tag!==6)&&(j=null)):(w=null,j=u),w!==j)){if(N=fc,S="onMouseLeave",x="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(N=xc,S="onPointerLeave",x="onPointerEnter",f="pointer"),b=w==null?h:Dr(w),v=j==null?h:Dr(j),h=new N(S,f+"leave",w,r,m),h.target=b,h.relatedTarget=v,S=null,vr(m)===u&&(N=new N(x,f+"enter",j,r,m),N.target=v,N.relatedTarget=b,S=N),b=S,w&&j)t:{for(N=w,x=j,f=0,v=N;v;v=Mr(v))f++;for(v=0,S=x;S;S=Mr(S))v++;for(;0<f-v;)N=Mr(N),f--;for(;0<v-f;)x=Mr(x),v--;for(;f--;){if(N===x||x!==null&&N===x.alternate)break t;N=Mr(N),x=Mr(x)}N=null}else N=null;w!==null&&Ec(d,h,w,N,!1),j!==null&&b!==null&&Ec(d,b,j,N,!0)}}e:{if(h=u?Dr(u):window,w=h.nodeName&&h.nodeName.toLowerCase(),w==="select"||w==="input"&&h.type==="file")var k=Gh;else if(yc(h))if(Ud)k=Jh;else{k=Kh;var P=Yh}else(w=h.nodeName)&&w.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=Xh);if(k&&(k=k(e,u))){$d(d,k,r,m);break e}P&&P(e,h,u),e==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&Ul(h,"number",h.value)}switch(P=u?Dr(u):window,e){case"focusin":(yc(P)||P.contentEditable==="true")&&(zr=P,eo=u,An=null);break;case"focusout":An=eo=zr=null;break;case"mousedown":to=!0;break;case"contextmenu":case"mouseup":case"dragend":to=!1,kc(d,r,m);break;case"selectionchange":if(ex)break;case"keydown":case"keyup":kc(d,r,m)}var R;if(qo)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Rr?Dd(e,r)&&(A="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(Od&&r.locale!=="ko"&&(Rr||A!=="onCompositionStart"?A==="onCompositionEnd"&&Rr&&(R=zd()):(Yt=m,Xo="value"in Yt?Yt.value:Yt.textContent,Rr=!0)),P=sa(u,A),0<P.length&&(A=new hc(A,e,null,r,m),d.push({event:A,listeners:P}),R?A.data=R:(R=Bd(r),R!==null&&(A.data=R)))),(R=Uh?Wh(e,r):Hh(e,r))&&(u=sa(u,"onBeforeInput"),0<u.length&&(m=new hc("onBeforeInput","beforeinput",null,r,m),d.push({event:m,listeners:u}),m.data=R))}Zd(d,t)})}function Yn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function sa(e,t){for(var r=t+"Capture",s=[];e!==null;){var a=e,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=$n(e,r),l!=null&&s.unshift(Yn(e,l,a)),l=$n(e,t),l!=null&&s.push(Yn(e,l,a))),e=e.return}return s}function Mr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ec(e,t,r,s,a){for(var l=t._reactName,o=[];r!==null&&r!==s;){var c=r,i=c.alternate,u=c.stateNode;if(i!==null&&i===s)break;c.tag===5&&u!==null&&(c=u,a?(i=$n(r,l),i!=null&&o.unshift(Yn(r,i,c))):a||(i=$n(r,l),i!=null&&o.push(Yn(r,i,c)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var sx=/\r\n?/g,ax=/\u0000|\uFFFD/g;function Fc(e){return(typeof e=="string"?e:""+e).replace(sx,`
`).replace(ax,"")}function Ns(e,t,r){if(t=Fc(t),Fc(e)!==t&&r)throw Error(I(425))}function aa(){}var ro=null,no=null;function so(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ao=typeof setTimeout=="function"?setTimeout:void 0,lx=typeof clearTimeout=="function"?clearTimeout:void 0,Tc=typeof Promise=="function"?Promise:void 0,ox=typeof queueMicrotask=="function"?queueMicrotask:typeof Tc<"u"?function(e){return Tc.resolve(null).then(e).catch(ix)}:ao;function ix(e){setTimeout(function(){throw e})}function hl(e,t){var r=t,s=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(s===0){e.removeChild(a),Hn(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=a}while(r);Hn(t)}function er(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Pc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var un=Math.random().toString(36).slice(2),jt="__reactFiber$"+un,Kn="__reactProps$"+un,It="__reactContainer$"+un,lo="__reactEvents$"+un,cx="__reactListeners$"+un,ux="__reactHandles$"+un;function vr(e){var t=e[jt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[It]||r[jt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Pc(e);e!==null;){if(r=e[jt])return r;e=Pc(e)}return t}e=r,r=e.parentNode}return null}function os(e){return e=e[jt]||e[It],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Dr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(I(33))}function La(e){return e[Kn]||null}var oo=[],Br=-1;function ur(e){return{current:e}}function oe(e){0>Br||(e.current=oo[Br],oo[Br]=null,Br--)}function ne(e,t){Br++,oo[Br]=e.current,e.current=t}var ir={},Ae=ur(ir),Ue=ur(!1),wr=ir;function qr(e,t){var r=e.type.contextTypes;if(!r)return ir;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in r)a[l]=t[l];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function We(e){return e=e.childContextTypes,e!=null}function la(){oe(Ue),oe(Ae)}function Lc(e,t,r){if(Ae.current!==ir)throw Error(I(168));ne(Ae,t),ne(Ue,r)}function ep(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(I(108,Yf(e)||"Unknown",a));return me({},r,s)}function oa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ir,wr=Ae.current,ne(Ae,e),ne(Ue,Ue.current),!0}function Mc(e,t,r){var s=e.stateNode;if(!s)throw Error(I(169));r?(e=ep(e,t,wr),s.__reactInternalMemoizedMergedChildContext=e,oe(Ue),oe(Ae),ne(Ae,e)):oe(Ue),ne(Ue,r)}var Ft=null,Ma=!1,xl=!1;function tp(e){Ft===null?Ft=[e]:Ft.push(e)}function dx(e){Ma=!0,tp(e)}function dr(){if(!xl&&Ft!==null){xl=!0;var e=0,t=re;try{var r=Ft;for(re=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}Ft=null,Ma=!1}catch(a){throw Ft!==null&&(Ft=Ft.slice(e+1)),Cd(Qo,dr),a}finally{re=t,xl=!1}}return null}var $r=[],Ur=0,ia=null,ca=0,nt=[],st=0,kr=null,Tt=1,Pt="";function xr(e,t){$r[Ur++]=ca,$r[Ur++]=ia,ia=e,ca=t}function rp(e,t,r){nt[st++]=Tt,nt[st++]=Pt,nt[st++]=kr,kr=e;var s=Tt;e=Pt;var a=32-ft(s)-1;s&=~(1<<a),r+=1;var l=32-ft(t)+a;if(30<l){var o=a-a%5;l=(s&(1<<o)-1).toString(32),s>>=o,a-=o,Tt=1<<32-ft(t)+a|r<<a|s,Pt=l+e}else Tt=1<<l|r<<a|s,Pt=e}function ti(e){e.return!==null&&(xr(e,1),rp(e,1,0))}function ri(e){for(;e===ia;)ia=$r[--Ur],$r[Ur]=null,ca=$r[--Ur],$r[Ur]=null;for(;e===kr;)kr=nt[--st],nt[st]=null,Pt=nt[--st],nt[st]=null,Tt=nt[--st],nt[st]=null}var Xe=null,Ke=null,ce=!1,mt=null;function np(e,t){var r=lt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function _c(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Xe=e,Ke=er(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Xe=e,Ke=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=kr!==null?{id:Tt,overflow:Pt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=lt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Xe=e,Ke=null,!0):!1;default:return!1}}function io(e){return(e.mode&1)!==0&&(e.flags&128)===0}function co(e){if(ce){var t=Ke;if(t){var r=t;if(!_c(e,t)){if(io(e))throw Error(I(418));t=er(r.nextSibling);var s=Xe;t&&_c(e,t)?np(s,r):(e.flags=e.flags&-4097|2,ce=!1,Xe=e)}}else{if(io(e))throw Error(I(418));e.flags=e.flags&-4097|2,ce=!1,Xe=e}}}function Ac(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Xe=e}function ws(e){if(e!==Xe)return!1;if(!ce)return Ac(e),ce=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!so(e.type,e.memoizedProps)),t&&(t=Ke)){if(io(e))throw sp(),Error(I(418));for(;t;)np(e,t),t=er(t.nextSibling)}if(Ac(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ke=er(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ke=null}}else Ke=Xe?er(e.stateNode.nextSibling):null;return!0}function sp(){for(var e=Ke;e;)e=er(e.nextSibling)}function en(){Ke=Xe=null,ce=!1}function ni(e){mt===null?mt=[e]:mt.push(e)}var px=Ot.ReactCurrentBatchConfig;function Nn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(I(309));var s=r.stateNode}if(!s)throw Error(I(147,e));var a=s,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(o){var c=a.refs;o===null?delete c[l]:c[l]=o},t._stringRef=l,t)}if(typeof e!="string")throw Error(I(284));if(!r._owner)throw Error(I(290,e))}return e}function ks(e,t){throw e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ic(e){var t=e._init;return t(e._payload)}function ap(e){function t(x,f){if(e){var v=x.deletions;v===null?(x.deletions=[f],x.flags|=16):v.push(f)}}function r(x,f){if(!e)return null;for(;f!==null;)t(x,f),f=f.sibling;return null}function s(x,f){for(x=new Map;f!==null;)f.key!==null?x.set(f.key,f):x.set(f.index,f),f=f.sibling;return x}function a(x,f){return x=sr(x,f),x.index=0,x.sibling=null,x}function l(x,f,v){return x.index=v,e?(v=x.alternate,v!==null?(v=v.index,v<f?(x.flags|=2,f):v):(x.flags|=2,f)):(x.flags|=1048576,f)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function c(x,f,v,S){return f===null||f.tag!==6?(f=wl(v,x.mode,S),f.return=x,f):(f=a(f,v),f.return=x,f)}function i(x,f,v,S){var k=v.type;return k===Ir?m(x,f,v.props.children,S,v.key):f!==null&&(f.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ht&&Ic(k)===f.type)?(S=a(f,v.props),S.ref=Nn(x,f,v),S.return=x,S):(S=Ys(v.type,v.key,v.props,null,x.mode,S),S.ref=Nn(x,f,v),S.return=x,S)}function u(x,f,v,S){return f===null||f.tag!==4||f.stateNode.containerInfo!==v.containerInfo||f.stateNode.implementation!==v.implementation?(f=kl(v,x.mode,S),f.return=x,f):(f=a(f,v.children||[]),f.return=x,f)}function m(x,f,v,S,k){return f===null||f.tag!==7?(f=Nr(v,x.mode,S,k),f.return=x,f):(f=a(f,v),f.return=x,f)}function d(x,f,v){if(typeof f=="string"&&f!==""||typeof f=="number")return f=wl(""+f,x.mode,v),f.return=x,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case ms:return v=Ys(f.type,f.key,f.props,null,x.mode,v),v.ref=Nn(x,null,f),v.return=x,v;case Ar:return f=kl(f,x.mode,v),f.return=x,f;case Ht:var S=f._init;return d(x,S(f._payload),v)}if(En(f)||gn(f))return f=Nr(f,x.mode,v,null),f.return=x,f;ks(x,f)}return null}function h(x,f,v,S){var k=f!==null?f.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return k!==null?null:c(x,f,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ms:return v.key===k?i(x,f,v,S):null;case Ar:return v.key===k?u(x,f,v,S):null;case Ht:return k=v._init,h(x,f,k(v._payload),S)}if(En(v)||gn(v))return k!==null?null:m(x,f,v,S,null);ks(x,v)}return null}function w(x,f,v,S,k){if(typeof S=="string"&&S!==""||typeof S=="number")return x=x.get(v)||null,c(f,x,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ms:return x=x.get(S.key===null?v:S.key)||null,i(f,x,S,k);case Ar:return x=x.get(S.key===null?v:S.key)||null,u(f,x,S,k);case Ht:var P=S._init;return w(x,f,v,P(S._payload),k)}if(En(S)||gn(S))return x=x.get(v)||null,m(f,x,S,k,null);ks(f,S)}return null}function j(x,f,v,S){for(var k=null,P=null,R=f,A=f=0,F=null;R!==null&&A<v.length;A++){R.index>A?(F=R,R=null):F=R.sibling;var _=h(x,R,v[A],S);if(_===null){R===null&&(R=F);break}e&&R&&_.alternate===null&&t(x,R),f=l(_,f,A),P===null?k=_:P.sibling=_,P=_,R=F}if(A===v.length)return r(x,R),ce&&xr(x,A),k;if(R===null){for(;A<v.length;A++)R=d(x,v[A],S),R!==null&&(f=l(R,f,A),P===null?k=R:P.sibling=R,P=R);return ce&&xr(x,A),k}for(R=s(x,R);A<v.length;A++)F=w(R,x,A,v[A],S),F!==null&&(e&&F.alternate!==null&&R.delete(F.key===null?A:F.key),f=l(F,f,A),P===null?k=F:P.sibling=F,P=F);return e&&R.forEach(function(M){return t(x,M)}),ce&&xr(x,A),k}function N(x,f,v,S){var k=gn(v);if(typeof k!="function")throw Error(I(150));if(v=k.call(v),v==null)throw Error(I(151));for(var P=k=null,R=f,A=f=0,F=null,_=v.next();R!==null&&!_.done;A++,_=v.next()){R.index>A?(F=R,R=null):F=R.sibling;var M=h(x,R,_.value,S);if(M===null){R===null&&(R=F);break}e&&R&&M.alternate===null&&t(x,R),f=l(M,f,A),P===null?k=M:P.sibling=M,P=M,R=F}if(_.done)return r(x,R),ce&&xr(x,A),k;if(R===null){for(;!_.done;A++,_=v.next())_=d(x,_.value,S),_!==null&&(f=l(_,f,A),P===null?k=_:P.sibling=_,P=_);return ce&&xr(x,A),k}for(R=s(x,R);!_.done;A++,_=v.next())_=w(R,x,A,_.value,S),_!==null&&(e&&_.alternate!==null&&R.delete(_.key===null?A:_.key),f=l(_,f,A),P===null?k=_:P.sibling=_,P=_);return e&&R.forEach(function(L){return t(x,L)}),ce&&xr(x,A),k}function b(x,f,v,S){if(typeof v=="object"&&v!==null&&v.type===Ir&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case ms:e:{for(var k=v.key,P=f;P!==null;){if(P.key===k){if(k=v.type,k===Ir){if(P.tag===7){r(x,P.sibling),f=a(P,v.props.children),f.return=x,x=f;break e}}else if(P.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ht&&Ic(k)===P.type){r(x,P.sibling),f=a(P,v.props),f.ref=Nn(x,P,v),f.return=x,x=f;break e}r(x,P);break}else t(x,P);P=P.sibling}v.type===Ir?(f=Nr(v.props.children,x.mode,S,v.key),f.return=x,x=f):(S=Ys(v.type,v.key,v.props,null,x.mode,S),S.ref=Nn(x,f,v),S.return=x,x=S)}return o(x);case Ar:e:{for(P=v.key;f!==null;){if(f.key===P)if(f.tag===4&&f.stateNode.containerInfo===v.containerInfo&&f.stateNode.implementation===v.implementation){r(x,f.sibling),f=a(f,v.children||[]),f.return=x,x=f;break e}else{r(x,f);break}else t(x,f);f=f.sibling}f=kl(v,x.mode,S),f.return=x,x=f}return o(x);case Ht:return P=v._init,b(x,f,P(v._payload),S)}if(En(v))return j(x,f,v,S);if(gn(v))return N(x,f,v,S);ks(x,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,f!==null&&f.tag===6?(r(x,f.sibling),f=a(f,v),f.return=x,x=f):(r(x,f),f=wl(v,x.mode,S),f.return=x,x=f),o(x)):r(x,f)}return b}var tn=ap(!0),lp=ap(!1),ua=ur(null),da=null,Wr=null,si=null;function ai(){si=Wr=da=null}function li(e){var t=ua.current;oe(ua),e._currentValue=t}function uo(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function Xr(e,t){da=e,si=Wr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&($e=!0),e.firstContext=null)}function it(e){var t=e._currentValue;if(si!==e)if(e={context:e,memoizedValue:t,next:null},Wr===null){if(da===null)throw Error(I(308));Wr=e,da.dependencies={lanes:0,firstContext:e}}else Wr=Wr.next=e;return t}var yr=null;function oi(e){yr===null?yr=[e]:yr.push(e)}function op(e,t,r,s){var a=t.interleaved;return a===null?(r.next=r,oi(t)):(r.next=a.next,a.next=r),t.interleaved=r,Rt(e,s)}function Rt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Vt=!1;function ii(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ip(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Lt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function tr(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,ee&2){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,Rt(e,r)}return a=s.interleaved,a===null?(t.next=t,oi(s)):(t.next=a.next,a.next=t),s.interleaved=t,Rt(e,r)}function Us(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Go(e,r)}}function Rc(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var a=null,l=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};l===null?a=l=o:l=l.next=o,r=r.next}while(r!==null);l===null?a=l=t:l=l.next=t}else a=l=t;r={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function pa(e,t,r,s){var a=e.updateQueue;Vt=!1;var l=a.firstBaseUpdate,o=a.lastBaseUpdate,c=a.shared.pending;if(c!==null){a.shared.pending=null;var i=c,u=i.next;i.next=null,o===null?l=u:o.next=u,o=i;var m=e.alternate;m!==null&&(m=m.updateQueue,c=m.lastBaseUpdate,c!==o&&(c===null?m.firstBaseUpdate=u:c.next=u,m.lastBaseUpdate=i))}if(l!==null){var d=a.baseState;o=0,m=u=i=null,c=l;do{var h=c.lane,w=c.eventTime;if((s&h)===h){m!==null&&(m=m.next={eventTime:w,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var j=e,N=c;switch(h=t,w=r,N.tag){case 1:if(j=N.payload,typeof j=="function"){d=j.call(w,d,h);break e}d=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=N.payload,h=typeof j=="function"?j.call(w,d,h):j,h==null)break e;d=me({},d,h);break e;case 2:Vt=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[c]:h.push(c))}else w={eventTime:w,lane:h,tag:c.tag,payload:c.payload,callback:c.callback,next:null},m===null?(u=m=w,i=d):m=m.next=w,o|=h;if(c=c.next,c===null){if(c=a.shared.pending,c===null)break;h=c,c=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(m===null&&(i=d),a.baseState=i,a.firstBaseUpdate=u,a.lastBaseUpdate=m,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else l===null&&(a.shared.lanes=0);Cr|=o,e.lanes=o,e.memoizedState=d}}function zc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=r,typeof a!="function")throw Error(I(191,a));a.call(s)}}}var is={},wt=ur(is),Xn=ur(is),Jn=ur(is);function br(e){if(e===is)throw Error(I(174));return e}function ci(e,t){switch(ne(Jn,t),ne(Xn,e),ne(wt,is),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Hl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Hl(t,e)}oe(wt),ne(wt,t)}function rn(){oe(wt),oe(Xn),oe(Jn)}function cp(e){br(Jn.current);var t=br(wt.current),r=Hl(t,e.type);t!==r&&(ne(Xn,e),ne(wt,r))}function ui(e){Xn.current===e&&(oe(wt),oe(Xn))}var ue=ur(0);function ma(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var gl=[];function di(){for(var e=0;e<gl.length;e++)gl[e]._workInProgressVersionPrimary=null;gl.length=0}var Ws=Ot.ReactCurrentDispatcher,vl=Ot.ReactCurrentBatchConfig,Sr=0,de=null,je=null,ke=null,fa=!1,In=!1,Zn=0,mx=0;function Le(){throw Error(I(321))}function pi(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!xt(e[r],t[r]))return!1;return!0}function mi(e,t,r,s,a,l){if(Sr=l,de=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ws.current=e===null||e.memoizedState===null?gx:vx,e=r(s,a),In){l=0;do{if(In=!1,Zn=0,25<=l)throw Error(I(301));l+=1,ke=je=null,t.updateQueue=null,Ws.current=yx,e=r(s,a)}while(In)}if(Ws.current=ha,t=je!==null&&je.next!==null,Sr=0,ke=je=de=null,fa=!1,t)throw Error(I(300));return e}function fi(){var e=Zn!==0;return Zn=0,e}function yt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ke===null?de.memoizedState=ke=e:ke=ke.next=e,ke}function ct(){if(je===null){var e=de.alternate;e=e!==null?e.memoizedState:null}else e=je.next;var t=ke===null?de.memoizedState:ke.next;if(t!==null)ke=t,je=e;else{if(e===null)throw Error(I(310));je=e,e={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},ke===null?de.memoizedState=ke=e:ke=ke.next=e}return ke}function qn(e,t){return typeof t=="function"?t(e):t}function yl(e){var t=ct(),r=t.queue;if(r===null)throw Error(I(311));r.lastRenderedReducer=e;var s=je,a=s.baseQueue,l=r.pending;if(l!==null){if(a!==null){var o=a.next;a.next=l.next,l.next=o}s.baseQueue=a=l,r.pending=null}if(a!==null){l=a.next,s=s.baseState;var c=o=null,i=null,u=l;do{var m=u.lane;if((Sr&m)===m)i!==null&&(i=i.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:e(s,u.action);else{var d={lane:m,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};i===null?(c=i=d,o=s):i=i.next=d,de.lanes|=m,Cr|=m}u=u.next}while(u!==null&&u!==l);i===null?o=s:i.next=c,xt(s,t.memoizedState)||($e=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=i,r.lastRenderedState=s}if(e=r.interleaved,e!==null){a=e;do l=a.lane,de.lanes|=l,Cr|=l,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function bl(e){var t=ct(),r=t.queue;if(r===null)throw Error(I(311));r.lastRenderedReducer=e;var s=r.dispatch,a=r.pending,l=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do l=e(l,o.action),o=o.next;while(o!==a);xt(l,t.memoizedState)||($e=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),r.lastRenderedState=l}return[l,s]}function up(){}function dp(e,t){var r=de,s=ct(),a=t(),l=!xt(s.memoizedState,a);if(l&&(s.memoizedState=a,$e=!0),s=s.queue,hi(fp.bind(null,r,s,e),[e]),s.getSnapshot!==t||l||ke!==null&&ke.memoizedState.tag&1){if(r.flags|=2048,es(9,mp.bind(null,r,s,a,t),void 0,null),Se===null)throw Error(I(349));Sr&30||pp(r,t,a)}return a}function pp(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=de.updateQueue,t===null?(t={lastEffect:null,stores:null},de.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function mp(e,t,r,s){t.value=r,t.getSnapshot=s,hp(t)&&xp(e)}function fp(e,t,r){return r(function(){hp(t)&&xp(e)})}function hp(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!xt(e,r)}catch{return!0}}function xp(e){var t=Rt(e,1);t!==null&&ht(t,e,1,-1)}function Oc(e){var t=yt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qn,lastRenderedState:e},t.queue=e,e=e.dispatch=xx.bind(null,de,e),[t.memoizedState,e]}function es(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=de.updateQueue,t===null?(t={lastEffect:null,stores:null},de.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function gp(){return ct().memoizedState}function Hs(e,t,r,s){var a=yt();de.flags|=e,a.memoizedState=es(1|t,r,void 0,s===void 0?null:s)}function _a(e,t,r,s){var a=ct();s=s===void 0?null:s;var l=void 0;if(je!==null){var o=je.memoizedState;if(l=o.destroy,s!==null&&pi(s,o.deps)){a.memoizedState=es(t,r,l,s);return}}de.flags|=e,a.memoizedState=es(1|t,r,l,s)}function Dc(e,t){return Hs(8390656,8,e,t)}function hi(e,t){return _a(2048,8,e,t)}function vp(e,t){return _a(4,2,e,t)}function yp(e,t){return _a(4,4,e,t)}function bp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function jp(e,t,r){return r=r!=null?r.concat([e]):null,_a(4,4,bp.bind(null,t,e),r)}function xi(){}function Np(e,t){var r=ct();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&pi(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function wp(e,t){var r=ct();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&pi(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function kp(e,t,r){return Sr&21?(xt(r,t)||(r=Td(),de.lanes|=r,Cr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,$e=!0),e.memoizedState=r)}function fx(e,t){var r=re;re=r!==0&&4>r?r:4,e(!0);var s=vl.transition;vl.transition={};try{e(!1),t()}finally{re=r,vl.transition=s}}function Sp(){return ct().memoizedState}function hx(e,t,r){var s=nr(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},Cp(e))Ep(t,r);else if(r=op(e,t,r,s),r!==null){var a=Re();ht(r,e,s,a),Fp(r,t,s)}}function xx(e,t,r){var s=nr(e),a={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(Cp(e))Ep(t,a);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var o=t.lastRenderedState,c=l(o,r);if(a.hasEagerState=!0,a.eagerState=c,xt(c,o)){var i=t.interleaved;i===null?(a.next=a,oi(t)):(a.next=i.next,i.next=a),t.interleaved=a;return}}catch{}finally{}r=op(e,t,a,s),r!==null&&(a=Re(),ht(r,e,s,a),Fp(r,t,s))}}function Cp(e){var t=e.alternate;return e===de||t!==null&&t===de}function Ep(e,t){In=fa=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Fp(e,t,r){if(r&4194240){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Go(e,r)}}var ha={readContext:it,useCallback:Le,useContext:Le,useEffect:Le,useImperativeHandle:Le,useInsertionEffect:Le,useLayoutEffect:Le,useMemo:Le,useReducer:Le,useRef:Le,useState:Le,useDebugValue:Le,useDeferredValue:Le,useTransition:Le,useMutableSource:Le,useSyncExternalStore:Le,useId:Le,unstable_isNewReconciler:!1},gx={readContext:it,useCallback:function(e,t){return yt().memoizedState=[e,t===void 0?null:t],e},useContext:it,useEffect:Dc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Hs(4194308,4,bp.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Hs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Hs(4,2,e,t)},useMemo:function(e,t){var r=yt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=yt();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=hx.bind(null,de,e),[s.memoizedState,e]},useRef:function(e){var t=yt();return e={current:e},t.memoizedState=e},useState:Oc,useDebugValue:xi,useDeferredValue:function(e){return yt().memoizedState=e},useTransition:function(){var e=Oc(!1),t=e[0];return e=fx.bind(null,e[1]),yt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=de,a=yt();if(ce){if(r===void 0)throw Error(I(407));r=r()}else{if(r=t(),Se===null)throw Error(I(349));Sr&30||pp(s,t,r)}a.memoizedState=r;var l={value:r,getSnapshot:t};return a.queue=l,Dc(fp.bind(null,s,l,e),[e]),s.flags|=2048,es(9,mp.bind(null,s,l,r,t),void 0,null),r},useId:function(){var e=yt(),t=Se.identifierPrefix;if(ce){var r=Pt,s=Tt;r=(s&~(1<<32-ft(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=Zn++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=mx++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},vx={readContext:it,useCallback:Np,useContext:it,useEffect:hi,useImperativeHandle:jp,useInsertionEffect:vp,useLayoutEffect:yp,useMemo:wp,useReducer:yl,useRef:gp,useState:function(){return yl(qn)},useDebugValue:xi,useDeferredValue:function(e){var t=ct();return kp(t,je.memoizedState,e)},useTransition:function(){var e=yl(qn)[0],t=ct().memoizedState;return[e,t]},useMutableSource:up,useSyncExternalStore:dp,useId:Sp,unstable_isNewReconciler:!1},yx={readContext:it,useCallback:Np,useContext:it,useEffect:hi,useImperativeHandle:jp,useInsertionEffect:vp,useLayoutEffect:yp,useMemo:wp,useReducer:bl,useRef:gp,useState:function(){return bl(qn)},useDebugValue:xi,useDeferredValue:function(e){var t=ct();return je===null?t.memoizedState=e:kp(t,je.memoizedState,e)},useTransition:function(){var e=bl(qn)[0],t=ct().memoizedState;return[e,t]},useMutableSource:up,useSyncExternalStore:dp,useId:Sp,unstable_isNewReconciler:!1};function dt(e,t){if(e&&e.defaultProps){t=me({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function po(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:me({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Aa={isMounted:function(e){return(e=e._reactInternals)?Tr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=Re(),a=nr(e),l=Lt(s,a);l.payload=t,r!=null&&(l.callback=r),t=tr(e,l,a),t!==null&&(ht(t,e,a,s),Us(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=Re(),a=nr(e),l=Lt(s,a);l.tag=1,l.payload=t,r!=null&&(l.callback=r),t=tr(e,l,a),t!==null&&(ht(t,e,a,s),Us(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Re(),s=nr(e),a=Lt(r,s);a.tag=2,t!=null&&(a.callback=t),t=tr(e,a,s),t!==null&&(ht(t,e,s,r),Us(t,e,s))}};function Bc(e,t,r,s,a,l,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,l,o):t.prototype&&t.prototype.isPureReactComponent?!Qn(r,s)||!Qn(a,l):!0}function Tp(e,t,r){var s=!1,a=ir,l=t.contextType;return typeof l=="object"&&l!==null?l=it(l):(a=We(t)?wr:Ae.current,s=t.contextTypes,l=(s=s!=null)?qr(e,a):ir),t=new t(r,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Aa,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=l),t}function $c(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&Aa.enqueueReplaceState(t,t.state,null)}function mo(e,t,r,s){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},ii(e);var l=t.contextType;typeof l=="object"&&l!==null?a.context=it(l):(l=We(t)?wr:Ae.current,a.context=qr(e,l)),a.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(po(e,t,l,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Aa.enqueueReplaceState(a,a.state,null),pa(e,r,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function nn(e,t){try{var r="",s=t;do r+=Gf(s),s=s.return;while(s);var a=r}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:a,digest:null}}function jl(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function fo(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var bx=typeof WeakMap=="function"?WeakMap:Map;function Pp(e,t,r){r=Lt(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){ga||(ga=!0,ko=s),fo(e,t)},r}function Lp(e,t,r){r=Lt(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;r.payload=function(){return s(a)},r.callback=function(){fo(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(r.callback=function(){fo(e,t),typeof s!="function"&&(rr===null?rr=new Set([this]):rr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Uc(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new bx;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(r)||(a.add(r),e=Ax.bind(null,e,t,r),t.then(e,e))}function Wc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Hc(e,t,r,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Lt(-1,1),t.tag=2,tr(r,t,1))),r.lanes|=1),e)}var jx=Ot.ReactCurrentOwner,$e=!1;function Ie(e,t,r,s){t.child=e===null?lp(t,null,r,s):tn(t,e.child,r,s)}function Vc(e,t,r,s,a){r=r.render;var l=t.ref;return Xr(t,a),s=mi(e,t,r,s,l,a),r=fi(),e!==null&&!$e?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,zt(e,t,a)):(ce&&r&&ti(t),t.flags|=1,Ie(e,t,s,a),t.child)}function Qc(e,t,r,s,a){if(e===null){var l=r.type;return typeof l=="function"&&!ki(l)&&l.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=l,Mp(e,t,l,s,a)):(e=Ys(r.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&a)){var o=l.memoizedProps;if(r=r.compare,r=r!==null?r:Qn,r(o,s)&&e.ref===t.ref)return zt(e,t,a)}return t.flags|=1,e=sr(l,s),e.ref=t.ref,e.return=t,t.child=e}function Mp(e,t,r,s,a){if(e!==null){var l=e.memoizedProps;if(Qn(l,s)&&e.ref===t.ref)if($e=!1,t.pendingProps=s=l,(e.lanes&a)!==0)e.flags&131072&&($e=!0);else return t.lanes=e.lanes,zt(e,t,a)}return ho(e,t,r,s,a)}function _p(e,t,r){var s=t.pendingProps,a=s.children,l=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ne(Vr,Ge),Ge|=r;else{if(!(r&1073741824))return e=l!==null?l.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ne(Vr,Ge),Ge|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=l!==null?l.baseLanes:r,ne(Vr,Ge),Ge|=s}else l!==null?(s=l.baseLanes|r,t.memoizedState=null):s=r,ne(Vr,Ge),Ge|=s;return Ie(e,t,a,r),t.child}function Ap(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ho(e,t,r,s,a){var l=We(r)?wr:Ae.current;return l=qr(t,l),Xr(t,a),r=mi(e,t,r,s,l,a),s=fi(),e!==null&&!$e?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,zt(e,t,a)):(ce&&s&&ti(t),t.flags|=1,Ie(e,t,r,a),t.child)}function Gc(e,t,r,s,a){if(We(r)){var l=!0;oa(t)}else l=!1;if(Xr(t,a),t.stateNode===null)Vs(e,t),Tp(t,r,s),mo(t,r,s,a),s=!0;else if(e===null){var o=t.stateNode,c=t.memoizedProps;o.props=c;var i=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=it(u):(u=We(r)?wr:Ae.current,u=qr(t,u));var m=r.getDerivedStateFromProps,d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==s||i!==u)&&$c(t,o,s,u),Vt=!1;var h=t.memoizedState;o.state=h,pa(t,s,o,a),i=t.memoizedState,c!==s||h!==i||Ue.current||Vt?(typeof m=="function"&&(po(t,r,m,s),i=t.memoizedState),(c=Vt||Bc(t,r,c,s,h,i,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=i),o.props=s,o.state=i,o.context=u,s=c):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,ip(e,t),c=t.memoizedProps,u=t.type===t.elementType?c:dt(t.type,c),o.props=u,d=t.pendingProps,h=o.context,i=r.contextType,typeof i=="object"&&i!==null?i=it(i):(i=We(r)?wr:Ae.current,i=qr(t,i));var w=r.getDerivedStateFromProps;(m=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==d||h!==i)&&$c(t,o,s,i),Vt=!1,h=t.memoizedState,o.state=h,pa(t,s,o,a);var j=t.memoizedState;c!==d||h!==j||Ue.current||Vt?(typeof w=="function"&&(po(t,r,w,s),j=t.memoizedState),(u=Vt||Bc(t,r,u,s,h,j,i)||!1)?(m||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,j,i),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,j,i)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=j),o.props=s,o.state=j,o.context=i,s=u):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),s=!1)}return xo(e,t,r,s,l,a)}function xo(e,t,r,s,a,l){Ap(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return a&&Mc(t,r,!1),zt(e,t,l);s=t.stateNode,jx.current=t;var c=o&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=tn(t,e.child,null,l),t.child=tn(t,null,c,l)):Ie(e,t,c,l),t.memoizedState=s.state,a&&Mc(t,r,!0),t.child}function Ip(e){var t=e.stateNode;t.pendingContext?Lc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Lc(e,t.context,!1),ci(e,t.containerInfo)}function Yc(e,t,r,s,a){return en(),ni(a),t.flags|=256,Ie(e,t,r,s),t.child}var go={dehydrated:null,treeContext:null,retryLane:0};function vo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Rp(e,t,r){var s=t.pendingProps,a=ue.current,l=!1,o=(t.flags&128)!==0,c;if((c=o)||(c=e!==null&&e.memoizedState===null?!1:(a&2)!==0),c?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),ne(ue,a&1),e===null)return co(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,l?(s=t.mode,l=t.child,o={mode:"hidden",children:o},!(s&1)&&l!==null?(l.childLanes=0,l.pendingProps=o):l=za(o,s,0,null),e=Nr(e,s,r,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=vo(r),t.memoizedState=go,e):gi(t,o));if(a=e.memoizedState,a!==null&&(c=a.dehydrated,c!==null))return Nx(e,t,o,s,c,a,r);if(l){l=s.fallback,o=t.mode,a=e.child,c=a.sibling;var i={mode:"hidden",children:s.children};return!(o&1)&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=i,t.deletions=null):(s=sr(a,i),s.subtreeFlags=a.subtreeFlags&14680064),c!==null?l=sr(c,l):(l=Nr(l,o,r,null),l.flags|=2),l.return=t,s.return=t,s.sibling=l,t.child=s,s=l,l=t.child,o=e.child.memoizedState,o=o===null?vo(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=e.childLanes&~r,t.memoizedState=go,s}return l=e.child,e=l.sibling,s=sr(l,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function gi(e,t){return t=za({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ss(e,t,r,s){return s!==null&&ni(s),tn(t,e.child,null,r),e=gi(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Nx(e,t,r,s,a,l,o){if(r)return t.flags&256?(t.flags&=-257,s=jl(Error(I(422))),Ss(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=s.fallback,a=t.mode,s=za({mode:"visible",children:s.children},a,0,null),l=Nr(l,a,o,null),l.flags|=2,s.return=t,l.return=t,s.sibling=l,t.child=s,t.mode&1&&tn(t,e.child,null,o),t.child.memoizedState=vo(o),t.memoizedState=go,l);if(!(t.mode&1))return Ss(e,t,o,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var c=s.dgst;return s=c,l=Error(I(419)),s=jl(l,s,void 0),Ss(e,t,o,s)}if(c=(o&e.childLanes)!==0,$e||c){if(s=Se,s!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|o)?0:a,a!==0&&a!==l.retryLane&&(l.retryLane=a,Rt(e,a),ht(s,e,a,-1))}return wi(),s=jl(Error(I(421))),Ss(e,t,o,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Ix.bind(null,e),a._reactRetry=t,null):(e=l.treeContext,Ke=er(a.nextSibling),Xe=t,ce=!0,mt=null,e!==null&&(nt[st++]=Tt,nt[st++]=Pt,nt[st++]=kr,Tt=e.id,Pt=e.overflow,kr=t),t=gi(t,s.children),t.flags|=4096,t)}function Kc(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),uo(e.return,t,r)}function Nl(e,t,r,s,a){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:a}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=s,l.tail=r,l.tailMode=a)}function zp(e,t,r){var s=t.pendingProps,a=s.revealOrder,l=s.tail;if(Ie(e,t,s.children,r),s=ue.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Kc(e,r,t);else if(e.tag===19)Kc(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(ne(ue,s),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&ma(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Nl(t,!1,a,r,l);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&ma(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Nl(t,!0,r,null,l);break;case"together":Nl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Cr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,r=sr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=sr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function wx(e,t,r){switch(t.tag){case 3:Ip(t),en();break;case 5:cp(t);break;case 1:We(t.type)&&oa(t);break;case 4:ci(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;ne(ua,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(ne(ue,ue.current&1),t.flags|=128,null):r&t.child.childLanes?Rp(e,t,r):(ne(ue,ue.current&1),e=zt(e,t,r),e!==null?e.sibling:null);ne(ue,ue.current&1);break;case 19:if(s=(r&t.childLanes)!==0,e.flags&128){if(s)return zp(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ne(ue,ue.current),s)break;return null;case 22:case 23:return t.lanes=0,_p(e,t,r)}return zt(e,t,r)}var Op,yo,Dp,Bp;Op=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};yo=function(){};Dp=function(e,t,r,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,br(wt.current);var l=null;switch(r){case"input":a=Bl(e,a),s=Bl(e,s),l=[];break;case"select":a=me({},a,{value:void 0}),s=me({},s,{value:void 0}),l=[];break;case"textarea":a=Wl(e,a),s=Wl(e,s),l=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=aa)}Vl(r,s);var o;r=null;for(u in a)if(!s.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var c=a[u];for(o in c)c.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Dn.hasOwnProperty(u)?l||(l=[]):(l=l||[]).push(u,null));for(u in s){var i=s[u];if(c=a!=null?a[u]:void 0,s.hasOwnProperty(u)&&i!==c&&(i!=null||c!=null))if(u==="style")if(c){for(o in c)!c.hasOwnProperty(o)||i&&i.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in i)i.hasOwnProperty(o)&&c[o]!==i[o]&&(r||(r={}),r[o]=i[o])}else r||(l||(l=[]),l.push(u,r)),r=i;else u==="dangerouslySetInnerHTML"?(i=i?i.__html:void 0,c=c?c.__html:void 0,i!=null&&c!==i&&(l=l||[]).push(u,i)):u==="children"?typeof i!="string"&&typeof i!="number"||(l=l||[]).push(u,""+i):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Dn.hasOwnProperty(u)?(i!=null&&u==="onScroll"&&ae("scroll",e),l||c===i||(l=[])):(l=l||[]).push(u,i))}r&&(l=l||[]).push("style",r);var u=l;(t.updateQueue=u)&&(t.flags|=4)}};Bp=function(e,t,r,s){r!==s&&(t.flags|=4)};function wn(e,t){if(!ce)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Me(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function kx(e,t,r){var s=t.pendingProps;switch(ri(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Me(t),null;case 1:return We(t.type)&&la(),Me(t),null;case 3:return s=t.stateNode,rn(),oe(Ue),oe(Ae),di(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ws(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,mt!==null&&(Eo(mt),mt=null))),yo(e,t),Me(t),null;case 5:ui(t);var a=br(Jn.current);if(r=t.type,e!==null&&t.stateNode!=null)Dp(e,t,r,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(I(166));return Me(t),null}if(e=br(wt.current),ws(t)){s=t.stateNode,r=t.type;var l=t.memoizedProps;switch(s[jt]=t,s[Kn]=l,e=(t.mode&1)!==0,r){case"dialog":ae("cancel",s),ae("close",s);break;case"iframe":case"object":case"embed":ae("load",s);break;case"video":case"audio":for(a=0;a<Tn.length;a++)ae(Tn[a],s);break;case"source":ae("error",s);break;case"img":case"image":case"link":ae("error",s),ae("load",s);break;case"details":ae("toggle",s);break;case"input":sc(s,l),ae("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!l.multiple},ae("invalid",s);break;case"textarea":lc(s,l),ae("invalid",s)}Vl(r,l),a=null;for(var o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="children"?typeof c=="string"?s.textContent!==c&&(l.suppressHydrationWarning!==!0&&Ns(s.textContent,c,e),a=["children",c]):typeof c=="number"&&s.textContent!==""+c&&(l.suppressHydrationWarning!==!0&&Ns(s.textContent,c,e),a=["children",""+c]):Dn.hasOwnProperty(o)&&c!=null&&o==="onScroll"&&ae("scroll",s)}switch(r){case"input":fs(s),ac(s,l,!0);break;case"textarea":fs(s),oc(s);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(s.onclick=aa)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=fd(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(r,{is:s.is}):(e=o.createElement(r),r==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,r),e[jt]=t,e[Kn]=s,Op(e,t,!1,!1),t.stateNode=e;e:{switch(o=Ql(r,s),r){case"dialog":ae("cancel",e),ae("close",e),a=s;break;case"iframe":case"object":case"embed":ae("load",e),a=s;break;case"video":case"audio":for(a=0;a<Tn.length;a++)ae(Tn[a],e);a=s;break;case"source":ae("error",e),a=s;break;case"img":case"image":case"link":ae("error",e),ae("load",e),a=s;break;case"details":ae("toggle",e),a=s;break;case"input":sc(e,s),a=Bl(e,s),ae("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=me({},s,{value:void 0}),ae("invalid",e);break;case"textarea":lc(e,s),a=Wl(e,s),ae("invalid",e);break;default:a=s}Vl(r,a),c=a;for(l in c)if(c.hasOwnProperty(l)){var i=c[l];l==="style"?gd(e,i):l==="dangerouslySetInnerHTML"?(i=i?i.__html:void 0,i!=null&&hd(e,i)):l==="children"?typeof i=="string"?(r!=="textarea"||i!=="")&&Bn(e,i):typeof i=="number"&&Bn(e,""+i):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Dn.hasOwnProperty(l)?i!=null&&l==="onScroll"&&ae("scroll",e):i!=null&&$o(e,l,i,o))}switch(r){case"input":fs(e),ac(e,s,!1);break;case"textarea":fs(e),oc(e);break;case"option":s.value!=null&&e.setAttribute("value",""+or(s.value));break;case"select":e.multiple=!!s.multiple,l=s.value,l!=null?Qr(e,!!s.multiple,l,!1):s.defaultValue!=null&&Qr(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=aa)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Me(t),null;case 6:if(e&&t.stateNode!=null)Bp(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(I(166));if(r=br(Jn.current),br(wt.current),ws(t)){if(s=t.stateNode,r=t.memoizedProps,s[jt]=t,(l=s.nodeValue!==r)&&(e=Xe,e!==null))switch(e.tag){case 3:Ns(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ns(s.nodeValue,r,(e.mode&1)!==0)}l&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[jt]=t,t.stateNode=s}return Me(t),null;case 13:if(oe(ue),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ce&&Ke!==null&&t.mode&1&&!(t.flags&128))sp(),en(),t.flags|=98560,l=!1;else if(l=ws(t),s!==null&&s.dehydrated!==null){if(e===null){if(!l)throw Error(I(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(I(317));l[jt]=t}else en(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Me(t),l=!1}else mt!==null&&(Eo(mt),mt=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||ue.current&1?Ne===0&&(Ne=3):wi())),t.updateQueue!==null&&(t.flags|=4),Me(t),null);case 4:return rn(),yo(e,t),e===null&&Gn(t.stateNode.containerInfo),Me(t),null;case 10:return li(t.type._context),Me(t),null;case 17:return We(t.type)&&la(),Me(t),null;case 19:if(oe(ue),l=t.memoizedState,l===null)return Me(t),null;if(s=(t.flags&128)!==0,o=l.rendering,o===null)if(s)wn(l,!1);else{if(Ne!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ma(e),o!==null){for(t.flags|=128,wn(l,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)l=r,e=s,l.flags&=14680066,o=l.alternate,o===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,e=o.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ne(ue,ue.current&1|2),t.child}e=e.sibling}l.tail!==null&&ve()>sn&&(t.flags|=128,s=!0,wn(l,!1),t.lanes=4194304)}else{if(!s)if(e=ma(o),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),wn(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!ce)return Me(t),null}else 2*ve()-l.renderingStartTime>sn&&r!==1073741824&&(t.flags|=128,s=!0,wn(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(r=l.last,r!==null?r.sibling=o:t.child=o,l.last=o)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=ve(),t.sibling=null,r=ue.current,ne(ue,s?r&1|2:r&1),t):(Me(t),null);case 22:case 23:return Ni(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Ge&1073741824&&(Me(t),t.subtreeFlags&6&&(t.flags|=8192)):Me(t),null;case 24:return null;case 25:return null}throw Error(I(156,t.tag))}function Sx(e,t){switch(ri(t),t.tag){case 1:return We(t.type)&&la(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return rn(),oe(Ue),oe(Ae),di(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ui(t),null;case 13:if(oe(ue),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));en()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return oe(ue),null;case 4:return rn(),null;case 10:return li(t.type._context),null;case 22:case 23:return Ni(),null;case 24:return null;default:return null}}var Cs=!1,_e=!1,Cx=typeof WeakSet=="function"?WeakSet:Set,$=null;function Hr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){he(e,t,s)}else r.current=null}function bo(e,t,r){try{r()}catch(s){he(e,t,s)}}var Xc=!1;function Ex(e,t){if(ro=ra,e=Vd(),ei(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var a=s.anchorOffset,l=s.focusNode;s=s.focusOffset;try{r.nodeType,l.nodeType}catch{r=null;break e}var o=0,c=-1,i=-1,u=0,m=0,d=e,h=null;t:for(;;){for(var w;d!==r||a!==0&&d.nodeType!==3||(c=o+a),d!==l||s!==0&&d.nodeType!==3||(i=o+s),d.nodeType===3&&(o+=d.nodeValue.length),(w=d.firstChild)!==null;)h=d,d=w;for(;;){if(d===e)break t;if(h===r&&++u===a&&(c=o),h===l&&++m===s&&(i=o),(w=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=w}r=c===-1||i===-1?null:{start:c,end:i}}else r=null}r=r||{start:0,end:0}}else r=null;for(no={focusedElem:e,selectionRange:r},ra=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var N=j.memoizedProps,b=j.memoizedState,x=t.stateNode,f=x.getSnapshotBeforeUpdate(t.elementType===t.type?N:dt(t.type,N),b);x.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(S){he(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return j=Xc,Xc=!1,j}function Rn(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var l=a.destroy;a.destroy=void 0,l!==void 0&&bo(t,r,l)}a=a.next}while(a!==s)}}function Ia(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function jo(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function $p(e){var t=e.alternate;t!==null&&(e.alternate=null,$p(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[jt],delete t[Kn],delete t[lo],delete t[cx],delete t[ux])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Up(e){return e.tag===5||e.tag===3||e.tag===4}function Jc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Up(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function No(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=aa));else if(s!==4&&(e=e.child,e!==null))for(No(e,t,r),e=e.sibling;e!==null;)No(e,t,r),e=e.sibling}function wo(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(wo(e,t,r),e=e.sibling;e!==null;)wo(e,t,r),e=e.sibling}var Ce=null,pt=!1;function Wt(e,t,r){for(r=r.child;r!==null;)Wp(e,t,r),r=r.sibling}function Wp(e,t,r){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(Ea,r)}catch{}switch(r.tag){case 5:_e||Hr(r,t);case 6:var s=Ce,a=pt;Ce=null,Wt(e,t,r),Ce=s,pt=a,Ce!==null&&(pt?(e=Ce,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ce.removeChild(r.stateNode));break;case 18:Ce!==null&&(pt?(e=Ce,r=r.stateNode,e.nodeType===8?hl(e.parentNode,r):e.nodeType===1&&hl(e,r),Hn(e)):hl(Ce,r.stateNode));break;case 4:s=Ce,a=pt,Ce=r.stateNode.containerInfo,pt=!0,Wt(e,t,r),Ce=s,pt=a;break;case 0:case 11:case 14:case 15:if(!_e&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var l=a,o=l.destroy;l=l.tag,o!==void 0&&(l&2||l&4)&&bo(r,t,o),a=a.next}while(a!==s)}Wt(e,t,r);break;case 1:if(!_e&&(Hr(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(c){he(r,t,c)}Wt(e,t,r);break;case 21:Wt(e,t,r);break;case 22:r.mode&1?(_e=(s=_e)||r.memoizedState!==null,Wt(e,t,r),_e=s):Wt(e,t,r);break;default:Wt(e,t,r)}}function Zc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Cx),t.forEach(function(s){var a=Rx.bind(null,e,s);r.has(s)||(r.add(s),s.then(a,a))})}}function ut(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var a=r[s];try{var l=e,o=t,c=o;e:for(;c!==null;){switch(c.tag){case 5:Ce=c.stateNode,pt=!1;break e;case 3:Ce=c.stateNode.containerInfo,pt=!0;break e;case 4:Ce=c.stateNode.containerInfo,pt=!0;break e}c=c.return}if(Ce===null)throw Error(I(160));Wp(l,o,a),Ce=null,pt=!1;var i=a.alternate;i!==null&&(i.return=null),a.return=null}catch(u){he(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Hp(t,e),t=t.sibling}function Hp(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ut(t,e),vt(e),s&4){try{Rn(3,e,e.return),Ia(3,e)}catch(N){he(e,e.return,N)}try{Rn(5,e,e.return)}catch(N){he(e,e.return,N)}}break;case 1:ut(t,e),vt(e),s&512&&r!==null&&Hr(r,r.return);break;case 5:if(ut(t,e),vt(e),s&512&&r!==null&&Hr(r,r.return),e.flags&32){var a=e.stateNode;try{Bn(a,"")}catch(N){he(e,e.return,N)}}if(s&4&&(a=e.stateNode,a!=null)){var l=e.memoizedProps,o=r!==null?r.memoizedProps:l,c=e.type,i=e.updateQueue;if(e.updateQueue=null,i!==null)try{c==="input"&&l.type==="radio"&&l.name!=null&&pd(a,l),Ql(c,o);var u=Ql(c,l);for(o=0;o<i.length;o+=2){var m=i[o],d=i[o+1];m==="style"?gd(a,d):m==="dangerouslySetInnerHTML"?hd(a,d):m==="children"?Bn(a,d):$o(a,m,d,u)}switch(c){case"input":$l(a,l);break;case"textarea":md(a,l);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var w=l.value;w!=null?Qr(a,!!l.multiple,w,!1):h!==!!l.multiple&&(l.defaultValue!=null?Qr(a,!!l.multiple,l.defaultValue,!0):Qr(a,!!l.multiple,l.multiple?[]:"",!1))}a[Kn]=l}catch(N){he(e,e.return,N)}}break;case 6:if(ut(t,e),vt(e),s&4){if(e.stateNode===null)throw Error(I(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(N){he(e,e.return,N)}}break;case 3:if(ut(t,e),vt(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{Hn(t.containerInfo)}catch(N){he(e,e.return,N)}break;case 4:ut(t,e),vt(e);break;case 13:ut(t,e),vt(e),a=e.child,a.flags&8192&&(l=a.memoizedState!==null,a.stateNode.isHidden=l,!l||a.alternate!==null&&a.alternate.memoizedState!==null||(bi=ve())),s&4&&Zc(e);break;case 22:if(m=r!==null&&r.memoizedState!==null,e.mode&1?(_e=(u=_e)||m,ut(t,e),_e=u):ut(t,e),vt(e),s&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!m&&e.mode&1)for($=e,m=e.child;m!==null;){for(d=$=m;$!==null;){switch(h=$,w=h.child,h.tag){case 0:case 11:case 14:case 15:Rn(4,h,h.return);break;case 1:Hr(h,h.return);var j=h.stateNode;if(typeof j.componentWillUnmount=="function"){s=h,r=h.return;try{t=s,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(N){he(s,r,N)}}break;case 5:Hr(h,h.return);break;case 22:if(h.memoizedState!==null){eu(d);continue}}w!==null?(w.return=h,$=w):eu(d)}m=m.sibling}e:for(m=null,d=e;;){if(d.tag===5){if(m===null){m=d;try{a=d.stateNode,u?(l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(c=d.stateNode,i=d.memoizedProps.style,o=i!=null&&i.hasOwnProperty("display")?i.display:null,c.style.display=xd("display",o))}catch(N){he(e,e.return,N)}}}else if(d.tag===6){if(m===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(N){he(e,e.return,N)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;m===d&&(m=null),d=d.return}m===d&&(m=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ut(t,e),vt(e),s&4&&Zc(e);break;case 21:break;default:ut(t,e),vt(e)}}function vt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Up(r)){var s=r;break e}r=r.return}throw Error(I(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(Bn(a,""),s.flags&=-33);var l=Jc(e);wo(e,l,a);break;case 3:case 4:var o=s.stateNode.containerInfo,c=Jc(e);No(e,c,o);break;default:throw Error(I(161))}}catch(i){he(e,e.return,i)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Fx(e,t,r){$=e,Vp(e)}function Vp(e,t,r){for(var s=(e.mode&1)!==0;$!==null;){var a=$,l=a.child;if(a.tag===22&&s){var o=a.memoizedState!==null||Cs;if(!o){var c=a.alternate,i=c!==null&&c.memoizedState!==null||_e;c=Cs;var u=_e;if(Cs=o,(_e=i)&&!u)for($=a;$!==null;)o=$,i=o.child,o.tag===22&&o.memoizedState!==null?tu(a):i!==null?(i.return=o,$=i):tu(a);for(;l!==null;)$=l,Vp(l),l=l.sibling;$=a,Cs=c,_e=u}qc(e)}else a.subtreeFlags&8772&&l!==null?(l.return=a,$=l):qc(e)}}function qc(e){for(;$!==null;){var t=$;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:_e||Ia(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!_e)if(r===null)s.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:dt(t.type,r.memoizedProps);s.componentDidUpdate(a,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&zc(t,l,s);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}zc(t,o,r)}break;case 5:var c=t.stateNode;if(r===null&&t.flags&4){r=c;var i=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":i.autoFocus&&r.focus();break;case"img":i.src&&(r.src=i.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var m=u.memoizedState;if(m!==null){var d=m.dehydrated;d!==null&&Hn(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}_e||t.flags&512&&jo(t)}catch(h){he(t,t.return,h)}}if(t===e){$=null;break}if(r=t.sibling,r!==null){r.return=t.return,$=r;break}$=t.return}}function eu(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var r=t.sibling;if(r!==null){r.return=t.return,$=r;break}$=t.return}}function tu(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ia(4,t)}catch(i){he(t,r,i)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(i){he(t,a,i)}}var l=t.return;try{jo(t)}catch(i){he(t,l,i)}break;case 5:var o=t.return;try{jo(t)}catch(i){he(t,o,i)}}}catch(i){he(t,t.return,i)}if(t===e){$=null;break}var c=t.sibling;if(c!==null){c.return=t.return,$=c;break}$=t.return}}var Tx=Math.ceil,xa=Ot.ReactCurrentDispatcher,vi=Ot.ReactCurrentOwner,ot=Ot.ReactCurrentBatchConfig,ee=0,Se=null,be=null,Fe=0,Ge=0,Vr=ur(0),Ne=0,ts=null,Cr=0,Ra=0,yi=0,zn=null,Be=null,bi=0,sn=1/0,Et=null,ga=!1,ko=null,rr=null,Es=!1,Kt=null,va=0,On=0,So=null,Qs=-1,Gs=0;function Re(){return ee&6?ve():Qs!==-1?Qs:Qs=ve()}function nr(e){return e.mode&1?ee&2&&Fe!==0?Fe&-Fe:px.transition!==null?(Gs===0&&(Gs=Td()),Gs):(e=re,e!==0||(e=window.event,e=e===void 0?16:Rd(e.type)),e):1}function ht(e,t,r,s){if(50<On)throw On=0,So=null,Error(I(185));as(e,r,s),(!(ee&2)||e!==Se)&&(e===Se&&(!(ee&2)&&(Ra|=r),Ne===4&&Gt(e,Fe)),He(e,s),r===1&&ee===0&&!(t.mode&1)&&(sn=ve()+500,Ma&&dr()))}function He(e,t){var r=e.callbackNode;ph(e,t);var s=ta(e,e===Se?Fe:0);if(s===0)r!==null&&uc(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&uc(r),t===1)e.tag===0?dx(ru.bind(null,e)):tp(ru.bind(null,e)),ox(function(){!(ee&6)&&dr()}),r=null;else{switch(Pd(s)){case 1:r=Qo;break;case 4:r=Ed;break;case 16:r=ea;break;case 536870912:r=Fd;break;default:r=ea}r=qp(r,Qp.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Qp(e,t){if(Qs=-1,Gs=0,ee&6)throw Error(I(327));var r=e.callbackNode;if(Jr()&&e.callbackNode!==r)return null;var s=ta(e,e===Se?Fe:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=ya(e,s);else{t=s;var a=ee;ee|=2;var l=Yp();(Se!==e||Fe!==t)&&(Et=null,sn=ve()+500,jr(e,t));do try{Mx();break}catch(c){Gp(e,c)}while(!0);ai(),xa.current=l,ee=a,be!==null?t=0:(Se=null,Fe=0,t=Ne)}if(t!==0){if(t===2&&(a=Jl(e),a!==0&&(s=a,t=Co(e,a))),t===1)throw r=ts,jr(e,0),Gt(e,s),He(e,ve()),r;if(t===6)Gt(e,s);else{if(a=e.current.alternate,!(s&30)&&!Px(a)&&(t=ya(e,s),t===2&&(l=Jl(e),l!==0&&(s=l,t=Co(e,l))),t===1))throw r=ts,jr(e,0),Gt(e,s),He(e,ve()),r;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(I(345));case 2:gr(e,Be,Et);break;case 3:if(Gt(e,s),(s&130023424)===s&&(t=bi+500-ve(),10<t)){if(ta(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){Re(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ao(gr.bind(null,e,Be,Et),t);break}gr(e,Be,Et);break;case 4:if(Gt(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var o=31-ft(s);l=1<<o,o=t[o],o>a&&(a=o),s&=~l}if(s=a,s=ve()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Tx(s/1960))-s,10<s){e.timeoutHandle=ao(gr.bind(null,e,Be,Et),s);break}gr(e,Be,Et);break;case 5:gr(e,Be,Et);break;default:throw Error(I(329))}}}return He(e,ve()),e.callbackNode===r?Qp.bind(null,e):null}function Co(e,t){var r=zn;return e.current.memoizedState.isDehydrated&&(jr(e,t).flags|=256),e=ya(e,t),e!==2&&(t=Be,Be=r,t!==null&&Eo(t)),e}function Eo(e){Be===null?Be=e:Be.push.apply(Be,e)}function Px(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var a=r[s],l=a.getSnapshot;a=a.value;try{if(!xt(l(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Gt(e,t){for(t&=~yi,t&=~Ra,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ft(t),s=1<<r;e[r]=-1,t&=~s}}function ru(e){if(ee&6)throw Error(I(327));Jr();var t=ta(e,0);if(!(t&1))return He(e,ve()),null;var r=ya(e,t);if(e.tag!==0&&r===2){var s=Jl(e);s!==0&&(t=s,r=Co(e,s))}if(r===1)throw r=ts,jr(e,0),Gt(e,t),He(e,ve()),r;if(r===6)throw Error(I(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,gr(e,Be,Et),He(e,ve()),null}function ji(e,t){var r=ee;ee|=1;try{return e(t)}finally{ee=r,ee===0&&(sn=ve()+500,Ma&&dr())}}function Er(e){Kt!==null&&Kt.tag===0&&!(ee&6)&&Jr();var t=ee;ee|=1;var r=ot.transition,s=re;try{if(ot.transition=null,re=1,e)return e()}finally{re=s,ot.transition=r,ee=t,!(ee&6)&&dr()}}function Ni(){Ge=Vr.current,oe(Vr)}function jr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,lx(r)),be!==null)for(r=be.return;r!==null;){var s=r;switch(ri(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&la();break;case 3:rn(),oe(Ue),oe(Ae),di();break;case 5:ui(s);break;case 4:rn();break;case 13:oe(ue);break;case 19:oe(ue);break;case 10:li(s.type._context);break;case 22:case 23:Ni()}r=r.return}if(Se=e,be=e=sr(e.current,null),Fe=Ge=t,Ne=0,ts=null,yi=Ra=Cr=0,Be=zn=null,yr!==null){for(t=0;t<yr.length;t++)if(r=yr[t],s=r.interleaved,s!==null){r.interleaved=null;var a=s.next,l=r.pending;if(l!==null){var o=l.next;l.next=a,s.next=o}r.pending=s}yr=null}return e}function Gp(e,t){do{var r=be;try{if(ai(),Ws.current=ha,fa){for(var s=de.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}fa=!1}if(Sr=0,ke=je=de=null,In=!1,Zn=0,vi.current=null,r===null||r.return===null){Ne=1,ts=t,be=null;break}e:{var l=e,o=r.return,c=r,i=t;if(t=Fe,c.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){var u=i,m=c,d=m.tag;if(!(m.mode&1)&&(d===0||d===11||d===15)){var h=m.alternate;h?(m.updateQueue=h.updateQueue,m.memoizedState=h.memoizedState,m.lanes=h.lanes):(m.updateQueue=null,m.memoizedState=null)}var w=Wc(o);if(w!==null){w.flags&=-257,Hc(w,o,c,l,t),w.mode&1&&Uc(l,u,t),t=w,i=u;var j=t.updateQueue;if(j===null){var N=new Set;N.add(i),t.updateQueue=N}else j.add(i);break e}else{if(!(t&1)){Uc(l,u,t),wi();break e}i=Error(I(426))}}else if(ce&&c.mode&1){var b=Wc(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Hc(b,o,c,l,t),ni(nn(i,c));break e}}l=i=nn(i,c),Ne!==4&&(Ne=2),zn===null?zn=[l]:zn.push(l),l=o;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var x=Pp(l,i,t);Rc(l,x);break e;case 1:c=i;var f=l.type,v=l.stateNode;if(!(l.flags&128)&&(typeof f.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(rr===null||!rr.has(v)))){l.flags|=65536,t&=-t,l.lanes|=t;var S=Lp(l,c,t);Rc(l,S);break e}}l=l.return}while(l!==null)}Xp(r)}catch(k){t=k,be===r&&r!==null&&(be=r=r.return);continue}break}while(!0)}function Yp(){var e=xa.current;return xa.current=ha,e===null?ha:e}function wi(){(Ne===0||Ne===3||Ne===2)&&(Ne=4),Se===null||!(Cr&268435455)&&!(Ra&268435455)||Gt(Se,Fe)}function ya(e,t){var r=ee;ee|=2;var s=Yp();(Se!==e||Fe!==t)&&(Et=null,jr(e,t));do try{Lx();break}catch(a){Gp(e,a)}while(!0);if(ai(),ee=r,xa.current=s,be!==null)throw Error(I(261));return Se=null,Fe=0,Ne}function Lx(){for(;be!==null;)Kp(be)}function Mx(){for(;be!==null&&!nh();)Kp(be)}function Kp(e){var t=Zp(e.alternate,e,Ge);e.memoizedProps=e.pendingProps,t===null?Xp(e):be=t,vi.current=null}function Xp(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Sx(r,t),r!==null){r.flags&=32767,be=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ne=6,be=null;return}}else if(r=kx(r,t,Ge),r!==null){be=r;return}if(t=t.sibling,t!==null){be=t;return}be=t=e}while(t!==null);Ne===0&&(Ne=5)}function gr(e,t,r){var s=re,a=ot.transition;try{ot.transition=null,re=1,_x(e,t,r,s)}finally{ot.transition=a,re=s}return null}function _x(e,t,r,s){do Jr();while(Kt!==null);if(ee&6)throw Error(I(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(I(177));e.callbackNode=null,e.callbackPriority=0;var l=r.lanes|r.childLanes;if(mh(e,l),e===Se&&(be=Se=null,Fe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Es||(Es=!0,qp(ea,function(){return Jr(),null})),l=(r.flags&15990)!==0,r.subtreeFlags&15990||l){l=ot.transition,ot.transition=null;var o=re;re=1;var c=ee;ee|=4,vi.current=null,Ex(e,r),Hp(r,e),qh(no),ra=!!ro,no=ro=null,e.current=r,Fx(r),sh(),ee=c,re=o,ot.transition=l}else e.current=r;if(Es&&(Es=!1,Kt=e,va=a),l=e.pendingLanes,l===0&&(rr=null),oh(r.stateNode),He(e,ve()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],s(a.value,{componentStack:a.stack,digest:a.digest});if(ga)throw ga=!1,e=ko,ko=null,e;return va&1&&e.tag!==0&&Jr(),l=e.pendingLanes,l&1?e===So?On++:(On=0,So=e):On=0,dr(),null}function Jr(){if(Kt!==null){var e=Pd(va),t=ot.transition,r=re;try{if(ot.transition=null,re=16>e?16:e,Kt===null)var s=!1;else{if(e=Kt,Kt=null,va=0,ee&6)throw Error(I(331));var a=ee;for(ee|=4,$=e.current;$!==null;){var l=$,o=l.child;if($.flags&16){var c=l.deletions;if(c!==null){for(var i=0;i<c.length;i++){var u=c[i];for($=u;$!==null;){var m=$;switch(m.tag){case 0:case 11:case 15:Rn(8,m,l)}var d=m.child;if(d!==null)d.return=m,$=d;else for(;$!==null;){m=$;var h=m.sibling,w=m.return;if($p(m),m===u){$=null;break}if(h!==null){h.return=w,$=h;break}$=w}}}var j=l.alternate;if(j!==null){var N=j.child;if(N!==null){j.child=null;do{var b=N.sibling;N.sibling=null,N=b}while(N!==null)}}$=l}}if(l.subtreeFlags&2064&&o!==null)o.return=l,$=o;else e:for(;$!==null;){if(l=$,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Rn(9,l,l.return)}var x=l.sibling;if(x!==null){x.return=l.return,$=x;break e}$=l.return}}var f=e.current;for($=f;$!==null;){o=$;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,$=v;else e:for(o=f;$!==null;){if(c=$,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Ia(9,c)}}catch(k){he(c,c.return,k)}if(c===o){$=null;break e}var S=c.sibling;if(S!==null){S.return=c.return,$=S;break e}$=c.return}}if(ee=a,dr(),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(Ea,e)}catch{}s=!0}return s}finally{re=r,ot.transition=t}}return!1}function nu(e,t,r){t=nn(r,t),t=Pp(e,t,1),e=tr(e,t,1),t=Re(),e!==null&&(as(e,1,t),He(e,t))}function he(e,t,r){if(e.tag===3)nu(e,e,r);else for(;t!==null;){if(t.tag===3){nu(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(rr===null||!rr.has(s))){e=nn(r,e),e=Lp(t,e,1),t=tr(t,e,1),e=Re(),t!==null&&(as(t,1,e),He(t,e));break}}t=t.return}}function Ax(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=Re(),e.pingedLanes|=e.suspendedLanes&r,Se===e&&(Fe&r)===r&&(Ne===4||Ne===3&&(Fe&130023424)===Fe&&500>ve()-bi?jr(e,0):yi|=r),He(e,t)}function Jp(e,t){t===0&&(e.mode&1?(t=gs,gs<<=1,!(gs&130023424)&&(gs=4194304)):t=1);var r=Re();e=Rt(e,t),e!==null&&(as(e,t,r),He(e,r))}function Ix(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Jp(e,r)}function Rx(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(I(314))}s!==null&&s.delete(t),Jp(e,r)}var Zp;Zp=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ue.current)$e=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return $e=!1,wx(e,t,r);$e=!!(e.flags&131072)}else $e=!1,ce&&t.flags&1048576&&rp(t,ca,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Vs(e,t),e=t.pendingProps;var a=qr(t,Ae.current);Xr(t,r),a=mi(null,t,s,e,a,r);var l=fi();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,We(s)?(l=!0,oa(t)):l=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,ii(t),a.updater=Aa,t.stateNode=a,a._reactInternals=t,mo(t,s,e,r),t=xo(null,t,s,!0,l,r)):(t.tag=0,ce&&l&&ti(t),Ie(null,t,a,r),t=t.child),t;case 16:s=t.elementType;e:{switch(Vs(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=Ox(s),e=dt(s,e),a){case 0:t=ho(null,t,s,e,r);break e;case 1:t=Gc(null,t,s,e,r);break e;case 11:t=Vc(null,t,s,e,r);break e;case 14:t=Qc(null,t,s,dt(s.type,e),r);break e}throw Error(I(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:dt(s,a),ho(e,t,s,a,r);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:dt(s,a),Gc(e,t,s,a,r);case 3:e:{if(Ip(t),e===null)throw Error(I(387));s=t.pendingProps,l=t.memoizedState,a=l.element,ip(e,t),pa(t,s,null,r);var o=t.memoizedState;if(s=o.element,l.isDehydrated)if(l={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){a=nn(Error(I(423)),t),t=Yc(e,t,s,r,a);break e}else if(s!==a){a=nn(Error(I(424)),t),t=Yc(e,t,s,r,a);break e}else for(Ke=er(t.stateNode.containerInfo.firstChild),Xe=t,ce=!0,mt=null,r=lp(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(en(),s===a){t=zt(e,t,r);break e}Ie(e,t,s,r)}t=t.child}return t;case 5:return cp(t),e===null&&co(t),s=t.type,a=t.pendingProps,l=e!==null?e.memoizedProps:null,o=a.children,so(s,a)?o=null:l!==null&&so(s,l)&&(t.flags|=32),Ap(e,t),Ie(e,t,o,r),t.child;case 6:return e===null&&co(t),null;case 13:return Rp(e,t,r);case 4:return ci(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=tn(t,null,s,r):Ie(e,t,s,r),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:dt(s,a),Vc(e,t,s,a,r);case 7:return Ie(e,t,t.pendingProps,r),t.child;case 8:return Ie(e,t,t.pendingProps.children,r),t.child;case 12:return Ie(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,l=t.memoizedProps,o=a.value,ne(ua,s._currentValue),s._currentValue=o,l!==null)if(xt(l.value,o)){if(l.children===a.children&&!Ue.current){t=zt(e,t,r);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var c=l.dependencies;if(c!==null){o=l.child;for(var i=c.firstContext;i!==null;){if(i.context===s){if(l.tag===1){i=Lt(-1,r&-r),i.tag=2;var u=l.updateQueue;if(u!==null){u=u.shared;var m=u.pending;m===null?i.next=i:(i.next=m.next,m.next=i),u.pending=i}}l.lanes|=r,i=l.alternate,i!==null&&(i.lanes|=r),uo(l.return,r,t),c.lanes|=r;break}i=i.next}}else if(l.tag===10)o=l.type===t.type?null:l.child;else if(l.tag===18){if(o=l.return,o===null)throw Error(I(341));o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),uo(o,r,t),o=l.sibling}else o=l.child;if(o!==null)o.return=l;else for(o=l;o!==null;){if(o===t){o=null;break}if(l=o.sibling,l!==null){l.return=o.return,o=l;break}o=o.return}l=o}Ie(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,Xr(t,r),a=it(a),s=s(a),t.flags|=1,Ie(e,t,s,r),t.child;case 14:return s=t.type,a=dt(s,t.pendingProps),a=dt(s.type,a),Qc(e,t,s,a,r);case 15:return Mp(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:dt(s,a),Vs(e,t),t.tag=1,We(s)?(e=!0,oa(t)):e=!1,Xr(t,r),Tp(t,s,a),mo(t,s,a,r),xo(null,t,s,!0,e,r);case 19:return zp(e,t,r);case 22:return _p(e,t,r)}throw Error(I(156,t.tag))};function qp(e,t){return Cd(e,t)}function zx(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lt(e,t,r,s){return new zx(e,t,r,s)}function ki(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ox(e){if(typeof e=="function")return ki(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Wo)return 11;if(e===Ho)return 14}return 2}function sr(e,t){var r=e.alternate;return r===null?(r=lt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ys(e,t,r,s,a,l){var o=2;if(s=e,typeof e=="function")ki(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ir:return Nr(r.children,a,l,t);case Uo:o=8,a|=8;break;case Rl:return e=lt(12,r,t,a|2),e.elementType=Rl,e.lanes=l,e;case zl:return e=lt(13,r,t,a),e.elementType=zl,e.lanes=l,e;case Ol:return e=lt(19,r,t,a),e.elementType=Ol,e.lanes=l,e;case cd:return za(r,a,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case od:o=10;break e;case id:o=9;break e;case Wo:o=11;break e;case Ho:o=14;break e;case Ht:o=16,s=null;break e}throw Error(I(130,e==null?e:typeof e,""))}return t=lt(o,r,t,a),t.elementType=e,t.type=s,t.lanes=l,t}function Nr(e,t,r,s){return e=lt(7,e,s,t),e.lanes=r,e}function za(e,t,r,s){return e=lt(22,e,s,t),e.elementType=cd,e.lanes=r,e.stateNode={isHidden:!1},e}function wl(e,t,r){return e=lt(6,e,null,t),e.lanes=r,e}function kl(e,t,r){return t=lt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Dx(e,t,r,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sl(0),this.expirationTimes=sl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sl(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Si(e,t,r,s,a,l,o,c,i){return e=new Dx(e,t,r,c,i),t===1?(t=1,l===!0&&(t|=8)):t=0,l=lt(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ii(l),e}function Bx(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ar,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function em(e){if(!e)return ir;e=e._reactInternals;e:{if(Tr(e)!==e||e.tag!==1)throw Error(I(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(We(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(I(171))}if(e.tag===1){var r=e.type;if(We(r))return ep(e,r,t)}return t}function tm(e,t,r,s,a,l,o,c,i){return e=Si(r,s,!0,e,a,l,o,c,i),e.context=em(null),r=e.current,s=Re(),a=nr(r),l=Lt(s,a),l.callback=t??null,tr(r,l,a),e.current.lanes=a,as(e,a,s),He(e,s),e}function Oa(e,t,r,s){var a=t.current,l=Re(),o=nr(a);return r=em(r),t.context===null?t.context=r:t.pendingContext=r,t=Lt(l,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=tr(a,t,o),e!==null&&(ht(e,a,o,l),Us(e,a,o)),o}function ba(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function su(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Ci(e,t){su(e,t),(e=e.alternate)&&su(e,t)}function $x(){return null}var rm=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ei(e){this._internalRoot=e}Da.prototype.render=Ei.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));Oa(e,t,null,null)};Da.prototype.unmount=Ei.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Er(function(){Oa(null,e,null,null)}),t[It]=null}};function Da(e){this._internalRoot=e}Da.prototype.unstable_scheduleHydration=function(e){if(e){var t=_d();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Qt.length&&t!==0&&t<Qt[r].priority;r++);Qt.splice(r,0,e),r===0&&Id(e)}};function Fi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ba(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function au(){}function Ux(e,t,r,s,a){if(a){if(typeof s=="function"){var l=s;s=function(){var u=ba(o);l.call(u)}}var o=tm(t,s,e,0,null,!1,!1,"",au);return e._reactRootContainer=o,e[It]=o.current,Gn(e.nodeType===8?e.parentNode:e),Er(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var c=s;s=function(){var u=ba(i);c.call(u)}}var i=Si(e,0,!1,null,null,!1,!1,"",au);return e._reactRootContainer=i,e[It]=i.current,Gn(e.nodeType===8?e.parentNode:e),Er(function(){Oa(t,i,r,s)}),i}function $a(e,t,r,s,a){var l=r._reactRootContainer;if(l){var o=l;if(typeof a=="function"){var c=a;a=function(){var i=ba(o);c.call(i)}}Oa(t,o,e,a)}else o=Ux(r,t,e,a,s);return ba(o)}Ld=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Fn(t.pendingLanes);r!==0&&(Go(t,r|1),He(t,ve()),!(ee&6)&&(sn=ve()+500,dr()))}break;case 13:Er(function(){var s=Rt(e,1);if(s!==null){var a=Re();ht(s,e,1,a)}}),Ci(e,1)}};Yo=function(e){if(e.tag===13){var t=Rt(e,134217728);if(t!==null){var r=Re();ht(t,e,134217728,r)}Ci(e,134217728)}};Md=function(e){if(e.tag===13){var t=nr(e),r=Rt(e,t);if(r!==null){var s=Re();ht(r,e,t,s)}Ci(e,t)}};_d=function(){return re};Ad=function(e,t){var r=re;try{return re=e,t()}finally{re=r}};Yl=function(e,t,r){switch(t){case"input":if($l(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var a=La(s);if(!a)throw Error(I(90));dd(s),$l(s,a)}}}break;case"textarea":md(e,r);break;case"select":t=r.value,t!=null&&Qr(e,!!r.multiple,t,!1)}};bd=ji;jd=Er;var Wx={usingClientEntryPoint:!1,Events:[os,Dr,La,vd,yd,ji]},kn={findFiberByHostInstance:vr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Hx={bundleType:kn.bundleType,version:kn.version,rendererPackageName:kn.rendererPackageName,rendererConfig:kn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ot.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=kd(e),e===null?null:e.stateNode},findFiberByHostInstance:kn.findFiberByHostInstance||$x,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fs.isDisabled&&Fs.supportsFiber)try{Ea=Fs.inject(Hx),Nt=Fs}catch{}}Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wx;Ze.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fi(t))throw Error(I(200));return Bx(e,t,null,r)};Ze.createRoot=function(e,t){if(!Fi(e))throw Error(I(299));var r=!1,s="",a=rm;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Si(e,1,!1,null,null,r,!1,s,a),e[It]=t.current,Gn(e.nodeType===8?e.parentNode:e),new Ei(t)};Ze.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=kd(t),e=e===null?null:e.stateNode,e};Ze.flushSync=function(e){return Er(e)};Ze.hydrate=function(e,t,r){if(!Ba(t))throw Error(I(200));return $a(null,e,t,!0,r)};Ze.hydrateRoot=function(e,t,r){if(!Fi(e))throw Error(I(405));var s=r!=null&&r.hydratedSources||null,a=!1,l="",o=rm;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=tm(t,null,e,1,r??null,a,!1,l,o),e[It]=t.current,Gn(e),s)for(e=0;e<s.length;e++)r=s[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Da(t)};Ze.render=function(e,t,r){if(!Ba(t))throw Error(I(200));return $a(null,e,t,!1,r)};Ze.unmountComponentAtNode=function(e){if(!Ba(e))throw Error(I(40));return e._reactRootContainer?(Er(function(){$a(null,null,e,!1,function(){e._reactRootContainer=null,e[It]=null})}),!0):!1};Ze.unstable_batchedUpdates=ji;Ze.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!Ba(r))throw Error(I(200));if(e==null||e._reactInternals===void 0)throw Error(I(38));return $a(e,t,r,!1,s)};Ze.version="18.3.1-next-f1338f8080-20240426";function nm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nm)}catch(e){console.error(e)}}nm(),nd.exports=Ze;var Vx=nd.exports,lu=Vx;Al.createRoot=lu.createRoot,Al.hydrateRoot=lu.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rs(){return rs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},rs.apply(this,arguments)}var Xt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Xt||(Xt={}));const ou="popstate";function Qx(e){e===void 0&&(e={});function t(s,a){let{pathname:l,search:o,hash:c}=s.location;return Fo("",{pathname:l,search:o,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(s,a){return typeof a=="string"?a:ja(a)}return Yx(t,r,null,e)}function pe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ti(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Gx(){return Math.random().toString(36).substr(2,8)}function iu(e,t){return{usr:e.state,key:e.key,idx:t}}function Fo(e,t,r,s){return r===void 0&&(r=null),rs({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?dn(t):t,{state:r,key:t&&t.key||s||Gx()})}function ja(e){let{pathname:t="/",search:r="",hash:s=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function dn(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function Yx(e,t,r,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:l=!1}=s,o=a.history,c=Xt.Pop,i=null,u=m();u==null&&(u=0,o.replaceState(rs({},o.state,{idx:u}),""));function m(){return(o.state||{idx:null}).idx}function d(){c=Xt.Pop;let b=m(),x=b==null?null:b-u;u=b,i&&i({action:c,location:N.location,delta:x})}function h(b,x){c=Xt.Push;let f=Fo(N.location,b,x);u=m()+1;let v=iu(f,u),S=N.createHref(f);try{o.pushState(v,"",S)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;a.location.assign(S)}l&&i&&i({action:c,location:N.location,delta:1})}function w(b,x){c=Xt.Replace;let f=Fo(N.location,b,x);u=m();let v=iu(f,u),S=N.createHref(f);o.replaceState(v,"",S),l&&i&&i({action:c,location:N.location,delta:0})}function j(b){let x=a.location.origin!=="null"?a.location.origin:a.location.href,f=typeof b=="string"?b:ja(b);return f=f.replace(/ $/,"%20"),pe(x,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,x)}let N={get action(){return c},get location(){return e(a,o)},listen(b){if(i)throw new Error("A history only accepts one active listener");return a.addEventListener(ou,d),i=b,()=>{a.removeEventListener(ou,d),i=null}},createHref(b){return t(a,b)},createURL:j,encodeLocation(b){let x=j(b);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:w,go(b){return o.go(b)}};return N}var cu;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(cu||(cu={}));function Kx(e,t,r){return r===void 0&&(r="/"),Xx(e,t,r)}function Xx(e,t,r,s){let a=typeof t=="string"?dn(t):t,l=an(a.pathname||"/",r);if(l==null)return null;let o=sm(e);Jx(o);let c=null;for(let i=0;c==null&&i<o.length;++i){let u=ig(l);c=lg(o[i],u)}return c}function sm(e,t,r,s){t===void 0&&(t=[]),r===void 0&&(r=[]),s===void 0&&(s="");let a=(l,o,c)=>{let i={relativePath:c===void 0?l.path||"":c,caseSensitive:l.caseSensitive===!0,childrenIndex:o,route:l};i.relativePath.startsWith("/")&&(pe(i.relativePath.startsWith(s),'Absolute route path "'+i.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),i.relativePath=i.relativePath.slice(s.length));let u=ar([s,i.relativePath]),m=r.concat(i);l.children&&l.children.length>0&&(pe(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),sm(l.children,t,m,u)),!(l.path==null&&!l.index)&&t.push({path:u,score:sg(u,l.index),routesMeta:m})};return e.forEach((l,o)=>{var c;if(l.path===""||!((c=l.path)!=null&&c.includes("?")))a(l,o);else for(let i of am(l.path))a(l,o,i)}),t}function am(e){let t=e.split("/");if(t.length===0)return[];let[r,...s]=t,a=r.endsWith("?"),l=r.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let o=am(s.join("/")),c=[];return c.push(...o.map(i=>i===""?l:[l,i].join("/"))),a&&c.push(...o),c.map(i=>e.startsWith("/")&&i===""?"/":i)}function Jx(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:ag(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}const Zx=/^:[\w-]+$/,qx=3,eg=2,tg=1,rg=10,ng=-2,uu=e=>e==="*";function sg(e,t){let r=e.split("/"),s=r.length;return r.some(uu)&&(s+=ng),t&&(s+=eg),r.filter(a=>!uu(a)).reduce((a,l)=>a+(Zx.test(l)?qx:l===""?tg:rg),s)}function ag(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function lg(e,t,r){let{routesMeta:s}=e,a={},l="/",o=[];for(let c=0;c<s.length;++c){let i=s[c],u=c===s.length-1,m=l==="/"?t:t.slice(l.length)||"/",d=To({path:i.relativePath,caseSensitive:i.caseSensitive,end:u},m),h=i.route;if(!d)return null;Object.assign(a,d.params),o.push({params:a,pathname:ar([l,d.pathname]),pathnameBase:mg(ar([l,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(l=ar([l,d.pathnameBase]))}return o}function To(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=og(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let l=a[0],o=l.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:s.reduce((u,m,d)=>{let{paramName:h,isOptional:w}=m;if(h==="*"){let N=c[d]||"";o=l.slice(0,l.length-N.length).replace(/(.)\/+$/,"$1")}const j=c[d];return w&&!j?u[h]=void 0:u[h]=(j||"").replace(/%2F/g,"/"),u},{}),pathname:l,pathnameBase:o,pattern:e}}function og(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Ti(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,i)=>(s.push({paramName:c,isOptional:i!=null}),i?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function ig(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ti(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function an(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&s!=="/"?null:e.slice(r)||"/"}const cg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ug=e=>cg.test(e);function dg(e,t){t===void 0&&(t="/");let{pathname:r,search:s="",hash:a=""}=typeof e=="string"?dn(e):e,l;if(r)if(ug(r))l=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),Ti(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?l=du(r.substring(1),"/"):l=du(r,t)}else l=t;return{pathname:l,search:fg(s),hash:hg(a)}}function du(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Sl(e,t,r,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function pg(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Pi(e,t){let r=pg(e);return t?r.map((s,a)=>a===r.length-1?s.pathname:s.pathnameBase):r.map(s=>s.pathnameBase)}function Li(e,t,r,s){s===void 0&&(s=!1);let a;typeof e=="string"?a=dn(e):(a=rs({},e),pe(!a.pathname||!a.pathname.includes("?"),Sl("?","pathname","search",a)),pe(!a.pathname||!a.pathname.includes("#"),Sl("#","pathname","hash",a)),pe(!a.search||!a.search.includes("#"),Sl("#","search","hash",a)));let l=e===""||a.pathname==="",o=l?"/":a.pathname,c;if(o==null)c=r;else{let d=t.length-1;if(!s&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;a.pathname=h.join("/")}c=d>=0?t[d]:"/"}let i=dg(a,c),u=o&&o!=="/"&&o.endsWith("/"),m=(l||o===".")&&r.endsWith("/");return!i.pathname.endsWith("/")&&(u||m)&&(i.pathname+="/"),i}const ar=e=>e.join("/").replace(/\/\/+/g,"/"),mg=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),fg=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,hg=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function xg(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const lm=["post","put","patch","delete"];new Set(lm);const gg=["get",...lm];new Set(gg);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ns(){return ns=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},ns.apply(this,arguments)}const Ua=p.createContext(null),om=p.createContext(null),Dt=p.createContext(null),Wa=p.createContext(null),Bt=p.createContext({outlet:null,matches:[],isDataRoute:!1}),im=p.createContext(null);function vg(e,t){let{relative:r}=t===void 0?{}:t;pn()||pe(!1);let{basename:s,navigator:a}=p.useContext(Dt),{hash:l,pathname:o,search:c}=Ha(e,{relative:r}),i=o;return s!=="/"&&(i=o==="/"?s:ar([s,o])),a.createHref({pathname:i,search:c,hash:l})}function pn(){return p.useContext(Wa)!=null}function Pr(){return pn()||pe(!1),p.useContext(Wa).location}function cm(e){p.useContext(Dt).static||p.useLayoutEffect(e)}function pr(){let{isDataRoute:e}=p.useContext(Bt);return e?_g():yg()}function yg(){pn()||pe(!1);let e=p.useContext(Ua),{basename:t,future:r,navigator:s}=p.useContext(Dt),{matches:a}=p.useContext(Bt),{pathname:l}=Pr(),o=JSON.stringify(Pi(a,r.v7_relativeSplatPath)),c=p.useRef(!1);return cm(()=>{c.current=!0}),p.useCallback(function(u,m){if(m===void 0&&(m={}),!c.current)return;if(typeof u=="number"){s.go(u);return}let d=Li(u,JSON.parse(o),l,m.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:ar([t,d.pathname])),(m.replace?s.replace:s.push)(d,m.state,m)},[t,s,o,l,e])}const bg=p.createContext(null);function jg(e){let t=p.useContext(Bt).outlet;return t&&p.createElement(bg.Provider,{value:e},t)}function Ha(e,t){let{relative:r}=t===void 0?{}:t,{future:s}=p.useContext(Dt),{matches:a}=p.useContext(Bt),{pathname:l}=Pr(),o=JSON.stringify(Pi(a,s.v7_relativeSplatPath));return p.useMemo(()=>Li(e,JSON.parse(o),l,r==="path"),[e,o,l,r])}function Ng(e,t){return wg(e,t)}function wg(e,t,r,s){pn()||pe(!1);let{navigator:a}=p.useContext(Dt),{matches:l}=p.useContext(Bt),o=l[l.length-1],c=o?o.params:{};o&&o.pathname;let i=o?o.pathnameBase:"/";o&&o.route;let u=Pr(),m;if(t){var d;let b=typeof t=="string"?dn(t):t;i==="/"||(d=b.pathname)!=null&&d.startsWith(i)||pe(!1),m=b}else m=u;let h=m.pathname||"/",w=h;if(i!=="/"){let b=i.replace(/^\//,"").split("/");w="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let j=Kx(e,{pathname:w}),N=Fg(j&&j.map(b=>Object.assign({},b,{params:Object.assign({},c,b.params),pathname:ar([i,a.encodeLocation?a.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?i:ar([i,a.encodeLocation?a.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),l,r,s);return t&&N?p.createElement(Wa.Provider,{value:{location:ns({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:Xt.Pop}},N):N}function kg(){let e=Mg(),t=xg(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),r?p.createElement("pre",{style:a},r):null,null)}const Sg=p.createElement(kg,null);class Cg extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?p.createElement(Bt.Provider,{value:this.props.routeContext},p.createElement(im.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Eg(e){let{routeContext:t,match:r,children:s}=e,a=p.useContext(Ua);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),p.createElement(Bt.Provider,{value:t},s)}function Fg(e,t,r,s){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),s===void 0&&(s=null),e==null){var l;if(!r)return null;if(r.errors)e=r.matches;else if((l=s)!=null&&l.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,c=(a=r)==null?void 0:a.errors;if(c!=null){let m=o.findIndex(d=>d.route.id&&(c==null?void 0:c[d.route.id])!==void 0);m>=0||pe(!1),o=o.slice(0,Math.min(o.length,m+1))}let i=!1,u=-1;if(r&&s&&s.v7_partialHydration)for(let m=0;m<o.length;m++){let d=o[m];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=m),d.route.id){let{loaderData:h,errors:w}=r,j=d.route.loader&&h[d.route.id]===void 0&&(!w||w[d.route.id]===void 0);if(d.route.lazy||j){i=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((m,d,h)=>{let w,j=!1,N=null,b=null;r&&(w=c&&d.route.id?c[d.route.id]:void 0,N=d.route.errorElement||Sg,i&&(u<0&&h===0?(Ag("route-fallback"),j=!0,b=null):u===h&&(j=!0,b=d.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,h+1)),f=()=>{let v;return w?v=N:j?v=b:d.route.Component?v=p.createElement(d.route.Component,null):d.route.element?v=d.route.element:v=m,p.createElement(Eg,{match:d,routeContext:{outlet:m,matches:x,isDataRoute:r!=null},children:v})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?p.createElement(Cg,{location:r.location,revalidation:r.revalidation,component:N,error:w,children:f(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):f()},null)}var um=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(um||{}),dm=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(dm||{});function Tg(e){let t=p.useContext(Ua);return t||pe(!1),t}function Pg(e){let t=p.useContext(om);return t||pe(!1),t}function Lg(e){let t=p.useContext(Bt);return t||pe(!1),t}function pm(e){let t=Lg(),r=t.matches[t.matches.length-1];return r.route.id||pe(!1),r.route.id}function Mg(){var e;let t=p.useContext(im),r=Pg(),s=pm();return t!==void 0?t:(e=r.errors)==null?void 0:e[s]}function _g(){let{router:e}=Tg(um.UseNavigateStable),t=pm(dm.UseNavigateStable),r=p.useRef(!1);return cm(()=>{r.current=!0}),p.useCallback(function(a,l){l===void 0&&(l={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,ns({fromRouteId:t},l)))},[e,t])}const pu={};function Ag(e,t,r){pu[e]||(pu[e]=!0)}function Ig(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Mt(e){let{to:t,replace:r,state:s,relative:a}=e;pn()||pe(!1);let{future:l,static:o}=p.useContext(Dt),{matches:c}=p.useContext(Bt),{pathname:i}=Pr(),u=pr(),m=Li(t,Pi(c,l.v7_relativeSplatPath),i,a==="path"),d=JSON.stringify(m);return p.useEffect(()=>u(JSON.parse(d),{replace:r,state:s,relative:a}),[u,d,a,r,s]),null}function Mi(e){return jg(e.context)}function le(e){pe(!1)}function Rg(e){let{basename:t="/",children:r=null,location:s,navigationType:a=Xt.Pop,navigator:l,static:o=!1,future:c}=e;pn()&&pe(!1);let i=t.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:i,navigator:l,static:o,future:ns({v7_relativeSplatPath:!1},c)}),[i,c,l,o]);typeof s=="string"&&(s=dn(s));let{pathname:m="/",search:d="",hash:h="",state:w=null,key:j="default"}=s,N=p.useMemo(()=>{let b=an(m,i);return b==null?null:{location:{pathname:b,search:d,hash:h,state:w,key:j},navigationType:a}},[i,m,d,h,w,j,a]);return N==null?null:p.createElement(Dt.Provider,{value:u},p.createElement(Wa.Provider,{children:r,value:N}))}function zg(e){let{children:t,location:r}=e;return Ng(Po(t),r)}new Promise(()=>{});function Po(e,t){t===void 0&&(t=[]);let r=[];return p.Children.forEach(e,(s,a)=>{if(!p.isValidElement(s))return;let l=[...t,a];if(s.type===p.Fragment){r.push.apply(r,Po(s.props.children,l));return}s.type!==le&&pe(!1),!s.props.index||!s.props.children||pe(!1);let o={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=Po(s.props.children,l)),r.push(o)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Na(){return Na=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Na.apply(this,arguments)}function mm(e,t){if(e==null)return{};var r={},s=Object.keys(e),a,l;for(l=0;l<s.length;l++)a=s[l],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Og(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Dg(e,t){return e.button===0&&(!t||t==="_self")&&!Og(e)}const Bg=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],$g=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Ug="6";try{window.__reactRouterVersion=Ug}catch{}const Wg=p.createContext({isTransitioning:!1}),Hg="startTransition",mu=Af[Hg];function Vg(e){let{basename:t,children:r,future:s,window:a}=e,l=p.useRef();l.current==null&&(l.current=Qx({window:a,v5Compat:!0}));let o=l.current,[c,i]=p.useState({action:o.action,location:o.location}),{v7_startTransition:u}=s||{},m=p.useCallback(d=>{u&&mu?mu(()=>i(d)):i(d)},[i,u]);return p.useLayoutEffect(()=>o.listen(m),[o,m]),p.useEffect(()=>Ig(s),[s]),p.createElement(Rg,{basename:t,children:r,location:c.location,navigationType:c.action,navigator:o,future:s})}const Qg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Gg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yg=p.forwardRef(function(t,r){let{onClick:s,relative:a,reloadDocument:l,replace:o,state:c,target:i,to:u,preventScrollReset:m,viewTransition:d}=t,h=mm(t,Bg),{basename:w}=p.useContext(Dt),j,N=!1;if(typeof u=="string"&&Gg.test(u)&&(j=u,Qg))try{let v=new URL(window.location.href),S=u.startsWith("//")?new URL(v.protocol+u):new URL(u),k=an(S.pathname,w);S.origin===v.origin&&k!=null?u=k+S.search+S.hash:N=!0}catch{}let b=vg(u,{relative:a}),x=Jg(u,{replace:o,state:c,target:i,preventScrollReset:m,relative:a,viewTransition:d});function f(v){s&&s(v),v.defaultPrevented||x(v)}return p.createElement("a",Na({},h,{href:j||b,onClick:N||l?s:f,ref:r,target:i}))}),Kg=p.forwardRef(function(t,r){let{"aria-current":s="page",caseSensitive:a=!1,className:l="",end:o=!1,style:c,to:i,viewTransition:u,children:m}=t,d=mm(t,$g),h=Ha(i,{relative:d.relative}),w=Pr(),j=p.useContext(om),{navigator:N,basename:b}=p.useContext(Dt),x=j!=null&&Zg(h)&&u===!0,f=N.encodeLocation?N.encodeLocation(h).pathname:h.pathname,v=w.pathname,S=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;a||(v=v.toLowerCase(),S=S?S.toLowerCase():null,f=f.toLowerCase()),S&&b&&(S=an(S,b)||S);const k=f!=="/"&&f.endsWith("/")?f.length-1:f.length;let P=v===f||!o&&v.startsWith(f)&&v.charAt(k)==="/",R=S!=null&&(S===f||!o&&S.startsWith(f)&&S.charAt(f.length)==="/"),A={isActive:P,isPending:R,isTransitioning:x},F=P?s:void 0,_;typeof l=="function"?_=l(A):_=[l,P?"active":null,R?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let M=typeof c=="function"?c(A):c;return p.createElement(Yg,Na({},d,{"aria-current":F,className:_,ref:r,style:M,to:i,viewTransition:u}),typeof m=="function"?m(A):m)});var Lo;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Lo||(Lo={}));var fu;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(fu||(fu={}));function Xg(e){let t=p.useContext(Ua);return t||pe(!1),t}function Jg(e,t){let{target:r,replace:s,state:a,preventScrollReset:l,relative:o,viewTransition:c}=t===void 0?{}:t,i=pr(),u=Pr(),m=Ha(e,{relative:o});return p.useCallback(d=>{if(Dg(d,r)){d.preventDefault();let h=s!==void 0?s:ja(u)===ja(m);i(e,{replace:h,state:a,preventScrollReset:l,relative:o,viewTransition:c})}},[u,i,m,s,a,r,e,l,o,c])}function Zg(e,t){t===void 0&&(t={});let r=p.useContext(Wg);r==null&&pe(!1);let{basename:s}=Xg(Lo.useViewTransitionState),a=Ha(e,{relative:t.relative});if(!r.isTransitioning)return!1;let l=an(r.currentLocation.pathname,s)||r.currentLocation.pathname,o=an(r.nextLocation.pathname,s)||r.nextLocation.pathname;return To(a.pathname,o)!=null||To(a.pathname,l)!=null}const qg=e=>{const t=String(e||"").replace(/-/g,"+").replace(/_/g,"/"),r=t.padEnd(t.length+(4-t.length%4)%4,"=");try{const s=atob(r),a=Uint8Array.from(s,l=>l.charCodeAt(0));return new TextDecoder().decode(a)}catch{return null}},cs=e=>{const t=String(e||"").split(".");if(t.length<2)return null;const r=qg(t[1]);if(!r)return null;try{return JSON.parse(r)}catch{return null}},wa=e=>{const t=cs(e);if(!(t!=null&&t.exp))return!1;const r=Number(t.exp)*1e3;return Number.isFinite(r)?Date.now()>=r:!1},e0=e=>{const t=cs(e);if(!(t!=null&&t.exp))return Number.POSITIVE_INFINITY;const r=Number(t.exp)*1e3-Date.now();return Number.isFinite(r)?r:0},_i="edu_bridge_auth_session",t0="http://localhost:5000/api".replace(/\/$/,""),Cl="api",r0={admin:"/admin",teacher:"/teacher",student:"/student"},us=e=>r0[String(e||"").toLowerCase()]||"/login";class n0 extends Error{constructor(t,r=0){super(t),this.name="AuthApiError",this.status=Number(r)}}const s0=async e=>{try{return await e.json()}catch{return{}}},Ai=async(e,{method:t="GET",body:r,token:s}={})=>{const a=await fetch(`${t0}${e}`,{method:t,headers:{...r!==void 0?{"Content-Type":"application/json"}:{},...s?{Authorization:`Bearer ${s}`}:{}},body:r!==void 0?JSON.stringify(r):void 0}),l=await s0(a);if(!a.ok)throw new n0(l.message||"  .",a.status);return l},a0=async({identifier:e,password:t,portal:r})=>Ai("/auth/login",{method:"POST",body:{identifier:String(e||"").trim().toLowerCase(),password:String(t||""),portal:String(r||"").trim().toLowerCase()}}),l0=async e=>Ai("/auth/me",{token:e}),o0=async e=>Ai("/auth/logout",{method:"POST",token:e}),Ii=()=>typeof window>"u"?null:window.localStorage,El=()=>{var e;try{const t=(e=Ii())==null?void 0:e.getItem(_i);return t?JSON.parse(t):null}catch{return null}},hu=e=>{var t;(t=Ii())==null||t.setItem(_i,JSON.stringify(e))},Ts=()=>{var e;(e=Ii())==null||e.removeItem(_i)},fm=p.createContext(null),i0=e=>{var r;if((r=e==null?void 0:e.user)!=null&&r.role)return String(e.user.role).toLowerCase();const t=cs(e==null?void 0:e.token);return t!=null&&t.role?String(t.role).toLowerCase():null};function c0({children:e}){const[t,r]=p.useState(()=>El()),[s,a]=p.useState(!0),l=p.useCallback(async()=>{var u;const i=(t==null?void 0:t.token)||((u=El())==null?void 0:u.token);if(i)try{await o0(i)}catch{}Ts(),r(null)},[t==null?void 0:t.token]);p.useEffect(()=>{let i=!0;return(async()=>{const m=El();if(m!=null&&m.authMode&&m.authMode!==Cl){Ts(),i&&(r(null),a(!1));return}if(!(m!=null&&m.token)||wa(m.token)){Ts(),i&&(r(null),a(!1));return}try{const d=await l0(m.token),h={token:m.token,user:d.user,authMode:Cl};hu(h),i&&r(h)}catch{Ts(),i&&r(null)}finally{i&&a(!1)}})(),()=>{i=!1}},[]),p.useEffect(()=>{if(!(t!=null&&t.token))return;const i=e0(t.token);if(!Number.isFinite(i))return;if(i<=0){l();return}const u=window.setTimeout(()=>{l()},i);return()=>{window.clearTimeout(u)}},[t==null?void 0:t.token,l]),p.useEffect(()=>{if(typeof window>"u")return;const i=()=>{l()};return window.addEventListener("auth:session-expired",i),()=>{window.removeEventListener("auth:session-expired",i)}},[l]);const o=p.useCallback(async({identifier:i,password:u,portal:m})=>{const d=await a0({identifier:i,password:u,portal:m});if(!(d!=null&&d.token)||!(d!=null&&d.user)||wa(d.token))throw new Error("Unable to create a valid session.");const h={token:d.token,user:d.user,authMode:Cl};return hu(h),r(h),h},[]),c=p.useMemo(()=>{const i=i0(t);return{session:t,token:(t==null?void 0:t.token)||null,user:(t==null?void 0:t.user)||null,role:i,isLoading:s,isAuthenticated:!!(t!=null&&t.token&&(t!=null&&t.user)&&i),isAdmin:i==="admin",login:o,logout:l}},[t,s,o,l]);return n.jsx(fm.Provider,{value:c,children:e})}const xe=()=>{const e=p.useContext(fm);if(!e)throw new Error("useAuth must be used inside AuthProvider.");return e};function Va({label:e="Checking session..."}){return n.jsx("main",{className:"flex min-h-screen items-center justify-center bg-background p-6",children:n.jsx("div",{className:"surface-card animate-fadeUp px-8 py-6",children:n.jsx("p",{className:"body-premium text-text-secondary",children:e})})})}function u0({children:e}){var c;const{isLoading:t,isAuthenticated:r,token:s,role:a,logout:l}=xe(),o=(c=cs(s))==null?void 0:c.role;return t?n.jsx(Va,{}):s&&wa(s)?(l(),n.jsx(Mt,{to:"/login",replace:!0})):r?String(o||a||"").toLowerCase()!=="admin"?n.jsx(Mt,{to:us(a),replace:!0}):e||n.jsx(Mi,{}):n.jsx(Mt,{to:"/login",replace:!0})}function xu({allow:e,children:t}){var i;const{isLoading:r,isAuthenticated:s,token:a,role:l,logout:o}=xe(),c=(i=cs(a))==null?void 0:i.role;return r?n.jsx(Va,{}):a&&wa(a)?(o(),n.jsx(Mt,{to:"/login",replace:!0})):s?String(c||l||"").toLowerCase()!==String(e||"").toLowerCase()?n.jsx(Mt,{to:us(l),replace:!0}):t||n.jsx(Mi,{}):n.jsx(Mt,{to:"/login",replace:!0})}const d0="/edu-bridge/assets/login-background-Cyj1D8FX.png",p0="/edu-bridge/assets/login-floating-CqAylRPF.png",gu=(e,t,r)=>Math.min(Math.max(e,t),r);function m0({backgroundSrc:e,floatingSrc:t}){const[r,s]=p.useState({x:0,y:0}),a=p.useMemo(()=>({transform:`translate3d(${r.x*-8}px, ${r.y*-8}px, 0) scale(1.02)`,transition:"transform 180ms ease-out"}),[r.x,r.y]),l=p.useMemo(()=>({transform:`translate3d(${r.x*12}px, ${r.y*12}px, 0) scale(1.03)`,transition:"transform 160ms ease-out"}),[r.x,r.y]),o=c=>{const i=c.currentTarget.getBoundingClientRect(),u=((c.clientX-i.left)/i.width-.5)*2,m=((c.clientY-i.top)/i.height-.5)*2;s({x:gu(u,-.8,.8),y:gu(m,-.8,.8)})};return n.jsxs("div",{onMouseMove:o,onMouseLeave:()=>s({x:0,y:0}),className:"absolute inset-0 overflow-hidden",children:[n.jsx("img",{src:e,alt:"","aria-hidden":"true",style:a,className:"absolute inset-0 h-full w-full object-cover"}),n.jsx("img",{src:t,alt:"","aria-hidden":"true",style:l,className:"absolute inset-0 h-full w-full object-cover"})]})}const f0=[{key:"student",label:"Student"},{key:"teacher",label:"Teacher"},{key:"admin",label:"Admin"}];function h0(){const e=pr(),{login:t,isLoading:r}=xe(),[s,a]=p.useState("student"),[l,o]=p.useState(""),[c,i]=p.useState(""),[u,m]=p.useState(""),[d,h]=p.useState(!1),w=p.useMemo(()=>r||d||!l.trim()||!c.trim(),[r,d,l,c]),j=async N=>{var b;N.preventDefault(),m(""),h(!0);try{const x=await t({identifier:l,password:c,portal:s});e(us((b=x==null?void 0:x.user)==null?void 0:b.role),{replace:!0})}catch(x){m((x==null?void 0:x.message)||"  .")}finally{h(!1)}};return n.jsx("main",{dir:"rtl",className:"min-h-screen bg-white [font-family:'IBM_Plex_Arabic',_'Segoe_UI',sans-serif]",style:{fontFamily:"'IBM Plex Arabic', 'Segoe UI', sans-serif"},children:n.jsxs("div",{className:"grid min-h-screen grid-cols-1 lg:grid-cols-[520px_1fr]",children:[n.jsx("section",{className:"relative flex items-center justify-center bg-white px-8 py-10 sm:px-12",children:n.jsxs("div",{className:"w-full max-w-[360px]",children:[n.jsx("h1",{className:"mb-2 text-[34px] font-semibold leading-[1.3] text-[#111]",style:{fontFamily:"'Noto Naskh Arabic', 'Amiri', serif"},children:" "}),n.jsx("p",{className:"mb-8 text-[13px] text-[#777]",children:" Hikmah School "}),n.jsx("div",{className:"mb-6 grid grid-cols-3 gap-1 rounded-[6px] border border-[#E5E7EB] bg-[#FAFAFA] p-1",children:f0.map(N=>n.jsx("button",{type:"button",onClick:()=>a(N.key),className:`h-9 rounded-[4px] text-[12px] font-medium transition-colors duration-150 ${s===N.key?"bg-white text-[#111] shadow-sm":"text-[#666] hover:bg-white"}`,children:N.label},N.key))}),n.jsxs("form",{onSubmit:j,className:"space-y-4",children:[n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[#555]",children:s==="admin"?" ":" "}),n.jsx("input",{type:"text",value:l,onChange:N=>o(N.target.value),autoComplete:"username",dir:"ltr",className:"h-11 w-full rounded-[4px] border border-[#E5E7EB] px-3 text-[14px] text-[#111] outline-none transition-colors duration-150 focus:border-[#1A3A6B]"})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[#555]",children:" "}),n.jsx("input",{type:"password",value:c,onChange:N=>i(N.target.value),autoComplete:"current-password",dir:"ltr",className:"h-11 w-full rounded-[4px] border border-[#E5E7EB] px-3 text-[14px] text-[#111] outline-none transition-colors duration-150 focus:border-[#1A3A6B]"})]}),u?n.jsx("p",{className:"rounded-[4px] border border-[#F3D4D2] bg-[#FDECEA] px-3 py-2 text-[12px] text-[#8B1A1A]",children:u}):null,n.jsx("button",{type:"submit",disabled:w,className:"h-11 w-full rounded-[4px] border border-[#1A3A6B] bg-[#1A3A6B] text-[14px] font-medium text-white transition duration-150 hover:bg-[#0D2449] active:scale-[0.98] disabled:cursor-not-allowed disabled:opacity-50",children:d?"  ...":" "})]})]})}),n.jsx("section",{className:"relative hidden overflow-hidden bg-[#F7F7F5] lg:block",children:n.jsx("div",{className:"absolute inset-8 overflow-hidden rounded-[6px] border border-[#E5E7EB] bg-white",children:n.jsx(m0,{backgroundSrc:d0,floatingSrc:p0})})})]})})}const x0="http://localhost:5000/api".replace(/\/$/,""),hm="edu_bridge_auth_session";class Ks extends Error{constructor(t,r=0){super(t),this.name="ApiError",this.status=Number(r)}}let _r=null,Mo=!1;const g0=()=>{typeof window>"u"||window.dispatchEvent(new CustomEvent("auth:session-expired"))},v0=()=>{_r=null,Mo=!1},vu=()=>{Mo||(Mo=!0,g0())},y0=e=>{if(!e)return!0;try{const[,t]=String(e).split(".");if(!t)return!1;const r=atob(t.replace(/-/g,"+").replace(/_/g,"/")),s=JSON.parse(r);return s!=null&&s.exp?Date.now()>=Number(s.exp)*1e3:!1}catch{return!1}},xm=()=>typeof window>"u"?null:window.localStorage,Fl=()=>{var e;try{const t=(e=xm())==null?void 0:e.getItem(hm);return t?JSON.parse(t):null}catch{return null}},yu=()=>{var e;(e=xm())==null||e.removeItem(hm)},mr=(e={})=>{const t=new URLSearchParams;Object.entries(e).forEach(([s,a])=>{a==null||a===""||t.append(s,String(a))});const r=t.toString();return r?`?${r}`:""},Y=async(e,{method:t="GET",token:r,body:s,auth:a=!1}={})=>{var u,m,d;const l={},o=r||((u=Fl())==null?void 0:u.token);if(s!==void 0&&(l["Content-Type"]="application/json"),a){if(!o)throw new Ks(" .     .",401);if(_r&&_r!==o&&v0(),_r===o||y0(o)){const h=(m=Fl())==null?void 0:m.token;throw _r=o,h===o&&yu(),vu(),new Ks(" .     .",401)}l.Authorization=`Bearer ${o}`}const c=await fetch(`${x0}${e}`,{method:t,headers:l,body:s!==void 0?JSON.stringify(s):void 0});let i={};try{i=await c.json()}catch{i={}}if(!c.ok){if(c.status===401){const h=(d=Fl())==null?void 0:d.token;_r=o||h||null,(!h||!o||h===o)&&(yu(),vu())}throw new Ks(i.message||"  .",c.status)}return i},b0=(e,t,r={})=>Y(`/profile/${t}${mr(r)}`,{token:e,auth:!0}),j0=e=>Y("/student/portal",{token:e,auth:!0}),gm=(e,t={})=>Y(`/student/schedule${mr(t)}`,{token:e,auth:!0}),N0=(e,t={})=>Y(`/feedback/list${mr(t)}`,{token:e,auth:!0}),vm=(e,t={})=>Y(`/teacher/exams${mr(t)}`,{token:e,auth:!0}),w0=(e,t)=>Y("/teacher/exams",{method:"PATCH",token:e,auth:!0,body:t}),k0=(e,t)=>Y("/teacher/grades/import/preview",{method:"POST",token:e,auth:!0,body:t}),S0=(e,t)=>Y("/teacher/grades/import/confirm",{method:"POST",token:e,auth:!0,body:t}),C0=(e,t,r)=>Y(`/teacher/students/${t}/feedback-draft`,{method:"POST",token:e,auth:!0,body:r}),E0=(e,t,r)=>Y(`/teacher/students/${t}/term-comment`,{method:"POST",token:e,auth:!0,body:r}),F0=(e,t)=>Y("/teacher/homework",{method:"POST",token:e,auth:!0,body:t}),T0=(e,t,r)=>Y(`/teacher/homework/${t}`,{method:"PATCH",token:e,auth:!0,body:r}),P0=(e,t,r)=>Y(`/teacher/homework/${t}/assignments`,{method:"PATCH",token:e,auth:!0,body:r}),L0=(e,t)=>Y(`/teacher/homework/${t}`,{method:"DELETE",token:e,auth:!0}),M0=(e,t={})=>Y(`/teacher/schedule${mr(t)}`,{token:e,auth:!0}),_0=(e,t)=>Y("/teacher/attendance",{method:"POST",token:e,auth:!0,body:t}),A0=(e,t)=>Y("/teacher/incidents",{method:"POST",token:e,auth:!0,body:t}),ym=e=>Y("/teacher/dashboard-insights",{token:e,auth:!0}),bm=(e,t)=>Y("/teacher/announcements",{method:"POST",token:e,auth:!0,body:t}),I0=(e,t,r)=>Y(`/teacher/announcements/${t}`,{method:"PATCH",token:e,auth:!0,body:r}),R0=(e,t)=>Y(`/teacher/announcements/${t}`,{method:"DELETE",token:e,auth:!0}),mn=e=>Y("/admin/overview",{token:e,auth:!0}),jm=e=>Y("/admin/reports",{token:e,auth:!0}),Ri=e=>Y("/admin/intelligence",{token:e,auth:!0}),z0=(e,t={})=>Y(`/admin/schedule${mr(t)}`,{token:e,auth:!0}),O0=(e,t)=>Y("/admin/schedule/entries",{method:"POST",token:e,auth:!0,body:t}),D0=(e,t,r)=>Y(`/admin/schedule/entries/${t}`,{method:"PATCH",token:e,auth:!0,body:r}),B0=(e,t)=>Y(`/admin/schedule/entries/${t}`,{method:"DELETE",token:e,auth:!0}),$0=(e,t={})=>Y(`/admin/incidents${mr(t)}`,{token:e,auth:!0}),U0=(e,t)=>Y("/admin/teachers",{method:"POST",token:e,auth:!0,body:t}),W0=(e,t)=>Y("/admin/students",{method:"POST",token:e,auth:!0,body:t}),H0=(e,t)=>Y("/admin/classes",{method:"POST",token:e,auth:!0,body:t}),V0=(e,t)=>Y(`/admin/classes/${t}`,{method:"DELETE",token:e,auth:!0}),Q0=(e,t,r)=>Y(`/admin/teachers/${t}/assignment`,{method:"PATCH",token:e,auth:!0,body:r}),Nm=(e,t,r)=>Y(`/admin/users/${t}`,{method:"PATCH",token:e,auth:!0,body:r}),wm=(e,t,r)=>Y(`/admin/users/${t}/status`,{method:"PATCH",token:e,auth:!0,body:{active:r}}),km=(e,t,r)=>Y(`/admin/users/${t}/reset-password`,{method:"POST",token:e,auth:!0,body:{newPassword:r}}),Sm=(e,t)=>Y(`/admin/users/${t}`,{method:"DELETE",token:e,auth:!0}),G0=e=>Y("/admin/surveys",{token:e,auth:!0}),Y0=(e,t)=>Y("/admin/surveys",{method:"POST",token:e,auth:!0,body:t}),K0=(e,t,r)=>Y(`/admin/surveys/${t}`,{method:"PATCH",token:e,auth:!0,body:r}),X0=(e,t)=>Y(`/admin/surveys/${t}`,{method:"DELETE",token:e,auth:!0}),bu=(e,t,r={})=>Y(`/admin/import-users${mr(r)}`,{method:"POST",token:e,auth:!0,body:t});function J0({className:e="h-5 w-5"}){return n.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:e,children:n.jsx("path",{d:"M3 12h8V3H3v9zm10 9h8v-6h-8v6zM13 3v8h8V3h-8zM3 21h8v-6H3v6z"})})}function Cm({className:e="h-5 w-5"}){return n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:e,children:[n.jsx("path",{d:"M16 19a4 4 0 0 0-8 0"}),n.jsx("circle",{cx:"12",cy:"10",r:"3"}),n.jsx("path",{d:"M20 19a4 4 0 0 0-3-3.87M4 19a4 4 0 0 1 3-3.87"})]})}function Em({className:e="h-5 w-5"}){return n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:e,children:[n.jsx("path",{d:"M12 3 2 8l10 5 10-5-10-5Z"}),n.jsx("path",{d:"m6 10 0 4c0 2.2 2.7 4 6 4s6-1.8 6-4v-4"})]})}function ka({className:e="h-5 w-5"}){return n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:e,children:[n.jsx("rect",{x:"3",y:"5",width:"18",height:"14",rx:"2"}),n.jsx("path",{d:"M7 9h10M7 13h6"})]})}function Fm({className:e="h-5 w-5"}){return n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:e,children:[n.jsx("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),n.jsx("path",{d:"M6.5 2H20v15H6.5A2.5 2.5 0 0 0 4 19.5V4.5A2.5 2.5 0 0 1 6.5 2z"})]})}function _o({className:e="h-5 w-5"}){return n.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:e,children:n.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H8l-5 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v10z"})})}function Tm({className:e="h-5 w-5"}){return n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:e,children:[n.jsx("path",{d:"M9 11l3 3L22 4"}),n.jsx("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"})]})}function Z0({className:e="h-5 w-5"}){return n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:e,children:[n.jsx("rect",{x:"3",y:"4",width:"18",height:"17",rx:"2"}),n.jsx("path",{d:"M8 2v4M16 2v4M3 10h18"}),n.jsx("path",{d:"M8 14h3M13 14h3M8 18h3M13 18h3"})]})}function q0({className:e="h-5 w-5"}){return n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:e,children:[n.jsx("path",{d:"M12 3v12"}),n.jsx("path",{d:"m7 10 5 5 5-5"}),n.jsx("path",{d:"M5 21h14a2 2 0 0 0 2-2v-3"}),n.jsx("path",{d:"M3 16v3a2 2 0 0 0 2 2"})]})}function Pm({className:e="h-5 w-5"}){return n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:e,children:[n.jsx("path",{d:"M15 17h5l-1.4-1.4A2 2 0 0 1 18 14.2V11a6 6 0 1 0-12 0v3.2a2 2 0 0 1-.6 1.4L4 17h5"}),n.jsx("path",{d:"M10 17a2 2 0 0 0 4 0"})]})}function ev({className:e="h-5 w-5"}){return n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:e,children:[n.jsx("path",{d:"M4 20h16"}),n.jsx("path",{d:"M7 16v-6M12 16V8M17 16v-3"})]})}function tv({className:e="h-5 w-5"}){return n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:e,children:[n.jsx("path",{d:"M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"}),n.jsx("path",{d:"M19.4 15a1.7 1.7 0 0 0 .34 1.87l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06a1.7 1.7 0 0 0-1.87-.34 1.7 1.7 0 0 0-1 1.55V22a2 2 0 1 1-4 0v-.09a1.7 1.7 0 0 0-1-1.55 1.7 1.7 0 0 0-1.87.34l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06a1.7 1.7 0 0 0 .34-1.87 1.7 1.7 0 0 0-1.55-1H2a2 2 0 1 1 0-4h.09a1.7 1.7 0 0 0 1.55-1 1.7 1.7 0 0 0-.34-1.87l-.06-.06a2 2 0 1 1 2.83-2.83l.06.06a1.7 1.7 0 0 0 1.87.34h0a1.7 1.7 0 0 0 1-1.55V2a2 2 0 1 1 4 0v.09a1.7 1.7 0 0 0 1 1.55h0a1.7 1.7 0 0 0 1.87-.34l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06a1.7 1.7 0 0 0-.34 1.87v0a1.7 1.7 0 0 0 1.55 1H22a2 2 0 1 1 0 4h-.09a1.7 1.7 0 0 0-1.55 1z"})]})}function rv({className:e="h-5 w-5"}){return n.jsx(Pm,{className:e})}function nv({className:e="h-4 w-4"}){return n.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:e,children:n.jsx("path",{d:"m15 18-6-6 6-6"})})}function Lm({className:e="h-5 w-5"}){return n.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:e,children:n.jsx("path",{d:"M3 6h18M3 12h18M3 18h18"})})}function sv({className:e="h-4 w-4"}){return n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:e,children:[n.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),n.jsx("path",{d:"M16 17l5-5-5-5"}),n.jsx("path",{d:"M21 12H9"})]})}const av=(e="")=>String(e).trim().split(" ").filter(Boolean).slice(0,2).map(t=>t[0]).join(""),lv={"/admin":" ","/admin/students":"","/admin/teachers":"","/admin/classes":"","/admin/subjects":"","/admin/schedule":" ","/admin/feedback":" ","/admin/surveys":"","/admin/notifications":"","/admin/import-users":" ","/admin/reports":"","/admin/settings":""};function ov({collapsed:e,onOpenMobileMenu:t,notificationsCount:r=0}){const{user:s,logout:a}=xe(),{pathname:l}=Pr(),o=(s==null?void 0:s.name)||" ",c=lv[l]||" ";return n.jsxs("header",{className:`fixed left-0 top-0 z-20 flex h-[64px] items-center justify-between border-b border-gray-100 bg-white px-5 premium-transition
        ${e?"lg:right-[64px]":"lg:right-[240px]"}
        right-0`,children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("button",{type:"button",onClick:t,className:"flex h-8 w-8 items-center justify-center rounded-md text-gray-400 hover:bg-gray-100 hover:text-gray-600 premium-transition lg:hidden","aria-label":" ",children:n.jsx(Lm,{className:"h-4 w-4"})}),n.jsx("h1",{className:"text-[15px] font-semibold text-gray-900",children:c})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("button",{type:"button",className:"relative flex h-8 w-8 items-center justify-center rounded-md text-gray-400 hover:bg-gray-100 hover:text-gray-600 premium-transition","aria-label":"",children:[n.jsx(rv,{className:"h-4 w-4"}),r>0&&n.jsx("span",{className:"absolute right-1 top-1 h-2 w-2 rounded-full bg-red-500"})]}),n.jsx("div",{className:"mx-1 h-4 w-px bg-gray-200"}),n.jsxs("div",{className:"flex items-center gap-2 rounded-md px-2 py-1.5",children:[n.jsxs("div",{className:"hidden text-right sm:block",children:[n.jsx("p",{className:"text-[13px] font-semibold text-gray-800 leading-tight",children:o}),n.jsx("p",{className:"text-[11px] text-gray-400",children:" "})]}),n.jsx("span",{className:"flex h-7 w-7 items-center justify-center rounded-full bg-gray-900 text-[11px] font-bold text-white",children:av(o)||""})]}),n.jsx("div",{className:"mx-1 h-4 w-px bg-gray-200"}),n.jsxs("button",{type:"button",onClick:a,className:"flex items-center gap-1.5 rounded-md px-2.5 py-1.5 text-[13px] font-medium text-gray-500 hover:bg-gray-100 hover:text-gray-700 premium-transition",children:[n.jsx(sv,{className:"h-3.5 w-3.5"}),n.jsx("span",{className:"hidden md:inline",children:""})]})]})]})}const Mm=[{key:"main",label:null,items:[{key:"dashboard",label:" ",to:"/admin",icon:J0}]},{key:"academic",label:"",items:[{key:"students",label:"",to:"/admin/students",icon:Cm},{key:"teachers",label:"",to:"/admin/teachers",icon:Em},{key:"classes",label:"",to:"/admin/classes",icon:ka},{key:"subjects",label:"",to:"/admin/subjects",icon:Fm},{key:"schedule",label:" ",to:"/admin/schedule",icon:Z0}]},{key:"tools",label:"",items:[{key:"feedback",label:" ",to:"/admin/feedback",icon:_o},{key:"surveys",label:"",to:"/admin/surveys",icon:Tm},{key:"notifications",label:"",to:"/admin/notifications",icon:Pm}]},{key:"system",label:"",items:[{key:"import-users",label:" ",to:"/admin/import-users",icon:q0},{key:"reports",label:"",to:"/admin/reports",icon:ev},{key:"settings",label:"",to:"/admin/settings",icon:tv}]}];Mm.flatMap(e=>e.items);function iv({collapsed:e,mobileOpen:t,onToggleCollapse:r,onCloseMobile:s}){return n.jsxs(n.Fragment,{children:[t&&n.jsx("button",{type:"button",onClick:s,className:"fixed inset-0 z-30 bg-black/30 lg:hidden","aria-label":" "}),n.jsxs("aside",{className:`fixed right-0 top-0 z-40 h-screen flex flex-col bg-white premium-transition
          ${e?"w-[64px]":"w-[240px]"}
          ${t?"translate-x-0":"translate-x-full"}
          lg:translate-x-0`,style:{borderLeft:"1px solid #E5E7EB"},children:[n.jsxs("div",{className:`flex h-[64px] shrink-0 items-center border-b border-gray-100 px-4
            ${e?"justify-center":"justify-between"}`,children:[!e&&n.jsxs("div",{className:"flex items-center gap-2.5 min-w-0",children:[n.jsx("span",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-lg bg-gray-900 text-xs font-bold text-white",children:""}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:"Hikmah School"}),n.jsx("p",{className:"text-[11px] text-gray-400 mt-px",children:" "})]})]}),e&&n.jsx("span",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-gray-900 text-xs font-bold text-white",children:""}),!e&&n.jsx("button",{type:"button",onClick:r,className:"hidden lg:flex h-7 w-7 items-center justify-center rounded-md text-gray-400 hover:bg-gray-100 hover:text-gray-600 premium-transition","aria-label":" ",children:n.jsx(nv,{className:"h-3.5 w-3.5"})}),e&&n.jsx("button",{type:"button",onClick:r,className:"absolute bottom-4 right-1/2 translate-x-1/2 hidden lg:flex h-7 w-7 items-center justify-center rounded-md text-gray-400 hover:bg-gray-100 premium-transition","aria-label":" ",children:n.jsx(Lm,{className:"h-3.5 w-3.5"})})]}),n.jsx("nav",{className:"flex-1 overflow-y-auto py-3 px-2.5",style:{scrollbarWidth:"none"},children:Mm.map((a,l)=>n.jsxs("div",{className:l>0?"mt-4":"",children:[a.label&&!e&&n.jsx("p",{className:"mb-1 px-2 text-[10px] font-semibold uppercase tracking-widest text-gray-400",children:a.label}),a.label&&e&&n.jsx("div",{className:"mx-auto mb-3 h-px w-6 bg-gray-200"}),n.jsx("ul",{className:"space-y-0.5",children:a.items.map(o=>{const c=o.icon;return n.jsx("li",{children:n.jsx(Kg,{to:o.to,end:o.to==="/admin",onClick:s,className:({isActive:i})=>`group relative flex items-center gap-2.5 rounded-md py-2 text-[13px] font-medium premium-transition
                          ${e?"justify-center px-2":"px-2.5"}
                          ${i?"bg-gray-100 text-gray-900":"text-gray-500 hover:bg-gray-50 hover:text-gray-800"}`,children:({isActive:i})=>n.jsxs(n.Fragment,{children:[i&&!e&&n.jsx("span",{className:"absolute right-0 top-1/2 -translate-y-1/2 h-4 w-0.5 rounded-l-full bg-gray-900"}),n.jsx(c,{className:`h-4 w-4 shrink-0 ${i?"text-gray-900":"text-gray-400 group-hover:text-gray-600"}`}),!e&&n.jsx("span",{children:o.label}),e&&n.jsx("span",{className:`pointer-events-none absolute right-full mr-2 whitespace-nowrap rounded-md border border-gray-200 bg-white px-2.5 py-1.5 text-xs font-medium text-gray-700 shadow-sm
                                  opacity-0 group-hover:opacity-100 premium-transition z-50`,children:o.label})]})})},o.key)})})]},a.key))})]})]})}function cv(){const{token:e}=xe(),[t,r]=p.useState(!1),[s,a]=p.useState(!1),[l,o]=p.useState(0);return p.useEffect(()=>{if(!e){o(0);return}let c=!0;return(async()=>{var u;try{const m=await Ri(e);if(!c)return;let d=0;Number((m==null?void 0:m.pendingResponses)||0)>0&&d++,Number((m==null?void 0:m.flaggedParents)||0)>0&&d++,Number(((u=m==null?void 0:m.riskIndex)==null?void 0:u.High)||0)>0&&d++,o(d)}catch{c&&o(0)}})(),()=>{c=!1}},[e]),n.jsxs("div",{className:"min-h-screen bg-gray-50",dir:"rtl",children:[n.jsx(iv,{collapsed:t,mobileOpen:s,onToggleCollapse:()=>r(c=>!c),onCloseMobile:()=>a(!1)}),n.jsxs("div",{className:`premium-transition ${t?"lg:pr-[64px]":"lg:pr-[240px]"}`,children:[n.jsx(ov,{collapsed:t,onOpenMobileMenu:()=>a(!0),notificationsCount:l}),n.jsx("main",{className:"px-4 pb-10 pt-[80px] md:px-6 lg:px-8",children:n.jsx(Mi,{})})]})]})}function uv({label:e,description:t,onClick:r}){return n.jsxs("button",{type:"button",onClick:r,className:"group w-full rounded-xl bg-white p-4 text-right premium-transition hover:bg-gray-50 pressable",style:{border:"1px solid #E5E7EB"},children:[n.jsx("p",{className:"text-[13px] font-semibold text-gray-800",children:e}),n.jsx("p",{className:"mt-0.5 text-[12px] text-gray-400",children:t||" "})]})}const dv={students:Cm,teachers:Em,classes:ka,subjects:Fm,surveys:Tm,feedbacks:_o,feedbackToday:_o,homeworks:ka};function pv({item:e}){const t=dv[e.id]||ka,r=String(e.trendDirection||"").toLowerCase()!=="down";return n.jsxs("article",{className:"rounded-xl bg-white p-5",style:{border:"1px solid #E5E7EB"},children:[n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-gray-400",children:e.label}),n.jsx("p",{className:"text-3xl font-bold text-gray-900",style:{fontVariantNumeric:"tabular-nums"},children:Number(e.value||0).toLocaleString("en-US")})]}),n.jsx("span",{className:"flex h-9 w-9 shrink-0 items-center justify-center rounded-lg bg-gray-100 text-gray-500",children:n.jsx(t,{className:"h-4 w-4"})})]}),e.trend&&n.jsxs("p",{className:`mt-4 inline-flex items-center rounded-full border px-2 py-0.5 text-[11px] font-semibold ${r?"border-green-100 bg-green-50 text-green-700":"border-red-100 bg-red-50 text-red-600"}`,children:[r?"":""," ",e.trend]})]})}const mv=[{id:"students",label:" ",description:"  ",to:"/admin/students"},{id:"teachers",label:" ",description:"  ",to:"/admin/teachers"},{id:"classes",label:" ",description:"  ",to:"/admin/classes"},{id:"schedule",label:" ",description:"  ",to:"/admin/schedule"},{id:"surveys",label:"",description:"  ",to:"/admin/surveys"},{id:"reports",label:"",description:"  ",to:"/admin/reports"}],fv={Low:{label:"",className:"bg-green-50 text-green-700 border-green-100"},Medium:{label:"",className:"bg-amber-50 text-amber-700 border-amber-100"},High:{label:"",className:"bg-red-50 text-red-600 border-red-100"}};function Ps({className:e=""}){return n.jsx("div",{className:`animate-pulse rounded-xl bg-gray-100 ${e}`})}function Ls({title:e,meta:t}){return n.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[n.jsx("h2",{className:"text-[13px] font-semibold text-gray-900",children:e}),t&&n.jsx("p",{className:"text-[11px] text-gray-400",children:t})]})}function Ms({children:e,className:t=""}){return n.jsx("div",{className:`rounded-xl bg-white p-5 ${t}`,style:{border:"1px solid #E5E7EB"},children:e})}function _s({label:e,value:t}){return n.jsxs("div",{className:"rounded-lg bg-gray-50 p-3.5",style:{border:"1px solid #F3F4F6"},children:[n.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-wider text-gray-400",children:e}),n.jsx("p",{className:"mt-1.5 text-2xl font-bold text-gray-900",style:{fontVariantNumeric:"tabular-nums"},children:t})]})}function hv(){var N;const e=pr(),{token:t}=xe(),[r,s]=p.useState(!0),[a,l]=p.useState(""),[o,c]=p.useState(null),[i,u]=p.useState(null);p.useEffect(()=>{let b=!0;return(async()=>{try{s(!0),l("");const[,f,v]=await Promise.all([mn(t),jm(t),Ri(t)]);if(!b)return;c(f),u(v)}catch(f){b&&l((f==null?void 0:f.message)||"    .")}finally{b&&s(!1)}})(),()=>{b=!1}},[t]);const m=p.useMemo(()=>o!=null&&o.totals?[{id:"students",label:" ",value:o.totals.students||0,trendDirection:"up"},{id:"teachers",label:" ",value:o.totals.teachers||0,trendDirection:"up"},{id:"classes",label:"",value:o.totals.classes||0,trendDirection:"up"},{id:"subjects",label:"",value:o.totals.subjects||0,trendDirection:"up"},{id:"feedbacks",label:" ",value:o.totals.feedbacks||0,trendDirection:"up"},{id:"homeworks",label:"",value:o.totals.homeworks||0,trendDirection:"up"}]:[],[o]),d=(i==null?void 0:i.riskIndex)||{},h=(i==null?void 0:i.weeklySnapshots)||(i==null?void 0:i.weeklySummary)||[],w=(i==null?void 0:i.classAnalysis)||[],j=i!=null&&i.generatedAt?new Date(i.generatedAt).toLocaleString("ar-SA",{dateStyle:"medium",timeStyle:"short"}):null;return n.jsxs("div",{className:"page-enter space-y-5",children:[a&&n.jsx("div",{className:"rounded-xl border border-red-100 bg-red-50 px-4 py-3 text-sm text-red-600",children:a}),n.jsx("section",{className:"grid gap-3 sm:grid-cols-2 xl:grid-cols-3",children:r?Array.from({length:6}).map((b,x)=>n.jsx(Ps,{className:"h-[108px]"},x)):m.map(b=>n.jsx(pv,{item:b},b.id))}),n.jsxs("div",{className:"grid gap-4 xl:grid-cols-2",children:[n.jsxs(Ms,{children:[n.jsx(Ls,{title:" ",meta:"  "}),n.jsx("div",{className:"grid gap-2.5 sm:grid-cols-2",children:mv.map(b=>n.jsx(uv,{label:b.label,description:b.description,onClick:()=>e(b.to)},b.id))})]}),n.jsxs(Ms,{children:[n.jsx(Ls,{title:" ",meta:j?` : ${j}`:void 0}),r?n.jsx("div",{className:"grid gap-2.5 sm:grid-cols-2",children:Array.from({length:4}).map((b,x)=>n.jsx(Ps,{className:"h-16"},x))}):n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"mb-2 text-[10px] font-semibold uppercase tracking-wider text-gray-400",children:" "}),n.jsx("div",{className:"grid grid-cols-3 gap-2",children:["Low","Medium","High"].map(b=>{const x=fv[b];return n.jsxs("div",{className:`rounded-lg border px-3 py-2.5 text-center ${x.className}`,children:[n.jsx("p",{className:"text-xl font-bold",style:{fontVariantNumeric:"tabular-nums"},children:Number(d[b]||0).toLocaleString("en-US")}),n.jsx("p",{className:"mt-0.5 text-[10px] font-semibold opacity-70",children:x.label})]},b)})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2.5",children:[n.jsx(_s,{label:" ",value:Number((i==null?void 0:i.pendingResponses)||0).toLocaleString("en-US")}),n.jsx(_s,{label:"  ",value:Number((i==null?void 0:i.flaggedParents)||0).toLocaleString("en-US")}),n.jsx(_s,{label:" ",value:Number((i==null?void 0:i.repeatedIncidents)||0).toLocaleString("en-US")}),n.jsx(_s,{label:" ",value:Number(((N=i==null?void 0:i.classAnalysis)==null?void 0:N.length)||0).toLocaleString("en-US")})]})]})]})]}),n.jsxs("div",{className:"grid gap-4 xl:grid-cols-2",children:[n.jsxs(Ms,{children:[n.jsx(Ls,{title:" ",meta:"     "}),r?n.jsx("div",{className:"space-y-2",children:Array.from({length:4}).map((b,x)=>n.jsx(Ps,{className:"h-14"},x))}):h.length?n.jsx("ul",{className:"space-y-1.5 max-h-64 overflow-y-auto",style:{scrollbarWidth:"thin",scrollbarColor:"#D1D5DB transparent"},children:h.slice(0,8).map((b,x)=>{const f=typeof b=="object"&&b!==null;return n.jsx("li",{className:"rounded-lg bg-gray-50 px-3.5 py-2.5",style:{border:"1px solid #F3F4F6"},children:f?n.jsxs(n.Fragment,{children:[n.jsxs("p",{className:"text-[13px] font-semibold text-gray-800",children:[b.studentName,n.jsx("span",{className:"mr-2 text-[11px] font-normal text-gray-400",children:b.className})]}),n.jsxs("p",{className:"mt-0.5 text-[11px] text-gray-500",children:[b.academicDirection," "," ",b.riskStatus==="Low"?" ":b.riskStatus==="Medium"?" ":" "]})]}):n.jsx("p",{className:"text-[13px] text-gray-700",children:b})},f?`${b.studentId}-${x}`:`${b}-${x}`)})}):n.jsx("p",{className:"py-8 text-center text-sm text-gray-400",children:"      ."})]}),n.jsxs(Ms,{children:[n.jsx(Ls,{title:"  ",meta:"     "}),r?n.jsx("div",{className:"space-y-2",children:Array.from({length:4}).map((b,x)=>n.jsx(Ps,{className:"h-14"},x))}):w.length?n.jsx("ul",{className:"space-y-1.5 max-h-64 overflow-y-auto",style:{scrollbarWidth:"thin",scrollbarColor:"#D1D5DB transparent"},children:w.slice(0,8).map((b,x)=>n.jsxs("li",{className:"rounded-lg bg-gray-50 px-3.5 py-2.5",style:{border:"1px solid #F3F4F6"},children:[n.jsx("p",{className:"text-[13px] font-semibold text-gray-800",children:b.message}),b.suggestion&&n.jsx("p",{className:"mt-0.5 text-[11px] text-gray-500",children:b.suggestion})]},`${b.type}-${x}`))}):n.jsx("p",{className:"py-8 text-center text-sm text-gray-400",children:"        ."})]})]})]})}function gt({title:e,subtitle:t,action:r}){return n.jsxs("header",{className:"mb-6 flex flex-wrap items-end justify-between gap-3",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-lg font-bold text-gray-900",children:e}),t&&n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:t})]}),r&&n.jsx("div",{children:r})]})}const ju={name:"",grade:"",section:""};function xv(){const{token:e}=xe(),[t,r]=p.useState(!0),[s,a]=p.useState(!1),[l,o]=p.useState([]),[c,i]=p.useState([]),[u,m]=p.useState([]),[d,h]=p.useState(ju),[w,j]=p.useState(""),[N,b]=p.useState(""),x=async()=>{try{r(!0),j("");const k=await mn(e);o(k.classes||[]),i(k.teachers||[]),m(k.students||[])}catch(k){j(k.message||"   .")}finally{r(!1)}};p.useEffect(()=>{x()},[]);const f=p.useMemo(()=>l.map(k=>{const P=k.name,R=c.filter(F=>(F.classes||[]).includes(P)),A=u.filter(F=>{var _;return(F.className||((_=F.classes)==null?void 0:_[0])||"")===P}).length;return{...k,studentsCount:A,teachers:R}}),[l,c,u]),v=async k=>{if(k.preventDefault(),!d.name.trim()){j("  .");return}try{a(!0),j(""),b(""),await H0(e,{name:d.name,grade:d.grade,section:d.section}),h(ju),b("   ."),await x()}catch(P){j(P.message||"  .")}finally{a(!1)}},S=async k=>{if(window.confirm(`   ${k.name}`))try{a(!0),j(""),b(""),await V0(e,k.id),b("   ."),await x()}catch(P){j(P.message||"  .")}finally{a(!1)}};return n.jsxs("div",{className:"page-enter space-y-5 p-1",children:[n.jsx(gt,{title:" ",subtitle:"     ."}),w?n.jsx("p",{className:"rounded-sm border border-danger/25 bg-danger/5 px-3 py-2 text-sm text-danger",children:w}):null,N?n.jsx("p",{className:"rounded-sm border border-success/25 bg-success/10 px-3 py-2 text-sm text-success",children:N}):null,n.jsxs("section",{className:"panel-card",children:[n.jsx("h2",{className:"mb-3 text-base font-semibold text-text-primary",children:"  "}),n.jsxs("form",{className:"grid gap-3 md:grid-cols-4",onSubmit:v,children:[n.jsx("input",{value:d.name,onChange:k=>h(P=>({...P,name:k.target.value})),className:"focus-ring rounded-sm border border-border px-3 py-2 text-sm",placeholder:" ",required:!0}),n.jsx("input",{value:d.grade,onChange:k=>h(P=>({...P,grade:k.target.value})),className:"focus-ring rounded-sm border border-border px-3 py-2 text-sm",placeholder:"/  ()"}),n.jsx("input",{value:d.section,onChange:k=>h(P=>({...P,section:k.target.value})),className:"focus-ring rounded-sm border border-border px-3 py-2 text-sm",placeholder:" ()"}),n.jsx("button",{type:"submit",className:"action-btn-primary",disabled:s,children:""})]})]}),n.jsxs("section",{className:"panel-card",children:[n.jsx("h2",{className:"mb-3 text-base font-semibold text-text-primary",children:" "}),t?n.jsxs("div",{className:"grid gap-3 sm:grid-cols-2 xl:grid-cols-3",children:[n.jsx("div",{className:"skeleton h-[186px]"}),n.jsx("div",{className:"skeleton h-[186px]"}),n.jsx("div",{className:"skeleton h-[186px]"})]}):n.jsxs("div",{className:"grid gap-3 sm:grid-cols-2 xl:grid-cols-3",children:[f.map(k=>{var P;return n.jsxs("article",{className:"panel-card-hover",children:[n.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold text-text-primary",children:k.name}),n.jsxs("span",{className:"rounded-full border border-primary/20 bg-primary/10 px-3 py-1 text-xs font-semibold text-primary",children:[Number(k.studentsCount||0).toLocaleString("en-US")," "]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("p",{className:"caption-premium",children:[": ",Number((k.teachers||[]).length).toLocaleString("en-US")]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[(k.teachers||[]).slice(0,4).map(R=>n.jsx("span",{className:"rounded-full border border-border bg-background px-2 py-1 text-xs font-semibold text-text-secondary",children:R.name},`${k.id}-${R.id}`)),((P=k.teachers)==null?void 0:P.length)>4?n.jsxs("span",{className:"rounded-full border border-border bg-background px-2 py-1 text-xs font-semibold text-text-secondary",children:["+",Number(k.teachers.length-4).toLocaleString("en-US")]}):null]})]}),n.jsx("div",{className:"mt-3",children:n.jsx("button",{type:"button",className:"action-btn",onClick:()=>S(k),disabled:s,children:" "})})]},k.id)}),f.length?null:n.jsx("p",{className:"text-sm text-text-secondary",children:"     ."})]})]})]})}const gv={academic:"",behavior:"",homework:"",general:""};function vv(){const{token:e}=xe(),[t,r]=p.useState(!0),[s,a]=p.useState(""),[l,o]=p.useState([]),[c,i]=p.useState("all");p.useEffect(()=>{let d=!0;return(async()=>{try{r(!0),a("");const w=await N0(e,{limit:300});if(!d)return;o(w.feedbacks||[])}catch(w){d&&a(w.message||"    .")}finally{d&&r(!1)}})(),()=>{d=!1}},[e]);const u=p.useMemo(()=>{const d=new Set((l||[]).map(h=>h.category).filter(Boolean));return["all",...Array.from(d)]},[l]),m=p.useMemo(()=>c==="all"?l:l.filter(d=>d.category===c),[c,l]);return n.jsxs("div",{className:"page-enter space-y-5 p-1",children:[n.jsx(gt,{title:" ",subtitle:"      ."}),s?n.jsx("p",{className:"rounded-sm border border-danger/25 bg-danger/5 px-3 py-2 text-sm text-danger",children:s}):null,n.jsxs("section",{className:"panel-card space-y-4",children:[n.jsx("div",{className:"flex flex-wrap gap-2",children:u.map(d=>{const h=c===d,w=d==="all"?"":gv[d]||d;return n.jsx("button",{type:"button",onClick:()=>i(d),className:`action-btn rounded-full px-3 py-1 text-xs ${h?"border-transparent bg-primary text-white":""}`,children:w},d)})}),t?n.jsxs("div",{className:"grid gap-3",children:[n.jsx("div",{className:"skeleton h-16"}),n.jsx("div",{className:"skeleton h-16"}),n.jsx("div",{className:"skeleton h-16"})]}):n.jsxs("div",{className:"space-y-3",children:[m.map(d=>n.jsxs("article",{className:"rounded-sm border border-border bg-background p-3",children:[n.jsxs("div",{className:"mb-2 flex flex-wrap items-center justify-between gap-2",children:[n.jsx("h2",{className:"text-sm font-semibold text-text-primary",children:d.studentName||""}),n.jsx("p",{className:"text-xs font-semibold text-primary",dir:"ltr",children:d.createdAt?new Date(d.createdAt).toLocaleString("en-US"):""})]}),n.jsxs("p",{className:"text-xs text-text-secondary",children:[": ",d.teacherName||"-"," | : ",d.className||"-"," | : ",d.subject||"-"]}),n.jsx("p",{className:"mt-2 text-sm leading-7 text-text-primary",children:d.message||d.content||d.text||"  ."})]},d._id)),m.length?null:n.jsx("p",{className:"text-sm text-text-secondary",children:"   ."})]})]})]})}const Nu={students:[],teachers:[]},yv=e=>JSON.stringify(e,null,2),bv=e=>{const t=e&&typeof e=="object"?e:{};return{students:Array.isArray(t.students)?t.students:[],teachers:Array.isArray(t.teachers)?t.teachers:[]}},jv=e=>{try{return{parsed:JSON.parse(e),error:""}}catch{return{parsed:null,error:" JSON  ."}}},Nv=e=>{const t=[],r=new Set;let s=0;return e.students.forEach((a,l)=>{const o=String((a==null?void 0:a.email)||"").trim().toLowerCase(),c=String((a==null?void 0:a.className)||"").trim();String((a==null?void 0:a.fullName)||"").trim()||(s+=1,t.push(`  ${l+1}:   .`)),o?r.has(o)?(s+=1,t.push(`  ${l+1}:     .`)):r.add(o):(s+=1,t.push(`  ${l+1}:   .`)),c||(s+=1,t.push(`  ${l+1}:      className.`))}),e.teachers.forEach((a,l)=>{const o=String((a==null?void 0:a.email)||"").trim().toLowerCase(),c=String((a==null?void 0:a.subject)||"").trim(),i=Array.isArray(a==null?void 0:a.classes)?a.classes.filter(Boolean):[];String((a==null?void 0:a.fullName)||"").trim()||(s+=1,t.push(`  ${l+1}:   .`)),o?r.has(o)?(s+=1,t.push(`  ${l+1}:     .`)):r.add(o):(s+=1,t.push(`  ${l+1}:   .`)),c||(s+=1,t.push(`  ${l+1}:       .`)),i.length||(s+=1,t.push(`  ${l+1}:        classes[].`))}),{errors:t,skipped:s,validCount:e.students.length+e.teachers.length-s}};function wv(){const{token:e}=xe(),[t,r]=p.useState(Nu),[s,a]=p.useState(yv(Nu)),[l,o]=p.useState(""),[c,i]=p.useState(!0),[u,m]=p.useState(!1),[d,h]=p.useState(""),[w,j]=p.useState(""),[N,b]=p.useState(null),[x,f]=p.useState(null),[v,S]=p.useState(!1),k=p.useMemo(()=>Nv(t),[t]),P=M=>{a(M),j(""),f(null);const{parsed:L,error:E}=jv(M);if(E){h(E);return}h(""),r(bv(L))},R=async M=>{var T;const L=(T=M.target.files)==null?void 0:T[0];if(!L)return;const E=await L.text();o(L.name),P(E)},A=async()=>{if(!d)try{m(!0),j(""),f(null);const M=await bu(e,t,{dryRun:!0,autoCreateClasses:c});b(M),j("    .     .")}catch(M){h(M.message||"   .")}finally{m(!1)}},F=async()=>{try{m(!0),h("");const M=await bu(e,t,{autoCreateClasses:c});f(M),S(!1),j("   .")}catch(M){h(M.message||"  .")}finally{m(!1)}},_=!d&&(N||k.errors.length===0);return n.jsxs("div",{className:"page-enter space-y-5 p-1",children:[n.jsx(gt,{title:" ",subtitle:"  JSON       ."}),d?n.jsx("p",{className:"rounded-sm border border-danger/25 bg-danger/5 px-3 py-2 text-sm text-danger",children:d}):null,w?n.jsx("p",{className:"rounded-sm border border-success/25 bg-success/10 px-3 py-2 text-sm text-success",children:w}):null,n.jsxs("section",{className:"panel-card space-y-4",children:[n.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[n.jsxs("label",{className:"action-btn cursor-pointer",children:["  JSON",n.jsx("input",{type:"file",accept:"application/json,.json",className:"hidden",onChange:R})]}),n.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-text-secondary",children:[n.jsx("input",{type:"checkbox",checked:c,onChange:M=>i(M.target.checked)}),"    "]}),l?n.jsxs("span",{className:"caption-premium",children:[": ",l]}):null]}),n.jsxs("label",{className:"space-y-2",children:[n.jsx("span",{className:"caption-premium font-semibold text-text-primary",children:" JSON"}),n.jsx("textarea",{value:s,onChange:M=>P(M.target.value),className:"focus-ring min-h-[220px] w-full rounded-sm border border-border bg-white px-3 py-2 text-sm",dir:"ltr",spellCheck:!1})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("button",{type:"button",className:"action-btn",onClick:A,disabled:u||!!d,children:"  "}),n.jsx("button",{type:"button",className:"action-btn-primary",onClick:()=>S(!0),disabled:u||!_,children:" "})]})]}),n.jsxs("section",{className:"panel-card space-y-3",children:[n.jsx("h2",{className:"text-base font-semibold text-text-primary",children:" "}),n.jsxs("div",{className:"grid gap-3 md:grid-cols-3",children:[n.jsxs("article",{className:"rounded-sm border border-border bg-background px-3 py-2",children:[n.jsx("p",{className:"caption-premium",children:" "}),n.jsx("p",{className:"text-lg font-semibold text-text-primary",children:Number(t.students.length).toLocaleString("en-US")})]}),n.jsxs("article",{className:"rounded-sm border border-border bg-background px-3 py-2",children:[n.jsx("p",{className:"caption-premium",children:" "}),n.jsx("p",{className:"text-lg font-semibold text-text-primary",children:Number(t.teachers.length).toLocaleString("en-US")})]}),n.jsxs("article",{className:"rounded-sm border border-border bg-background px-3 py-2",children:[n.jsx("p",{className:"caption-premium",children:" "}),n.jsx("p",{className:"text-lg font-semibold text-text-primary",children:Number(Math.max(0,k.validCount)).toLocaleString("en-US")})]})]}),k.errors.length?n.jsxs("div",{className:"rounded-sm border border-warning/25 bg-warning/10 p-3",children:[n.jsx("p",{className:"mb-2 text-sm font-semibold text-warning",children:"  "}),n.jsx("ul",{className:"space-y-1 text-sm text-text-secondary",children:k.errors.slice(0,12).map(M=>n.jsxs("li",{children:["- ",M]},M))}),k.errors.length>12?n.jsxs("p",{className:"mt-2 text-xs text-text-secondary",children:["+",Number(k.errors.length-12).toLocaleString("en-US"),"  "]}):null]}):null]}),N?n.jsxs("section",{className:"panel-card space-y-2",children:[n.jsx("h2",{className:"text-base font-semibold text-text-primary",children:"   "}),n.jsxs("div",{className:"grid gap-3 md:grid-cols-4",children:[n.jsxs("article",{className:"rounded-sm border border-border bg-background px-3 py-2",children:[n.jsx("p",{className:"caption-premium",children:" "}),n.jsx("p",{className:"text-lg font-semibold text-text-primary",children:Number(N.importedStudents||0).toLocaleString("en-US")})]}),n.jsxs("article",{className:"rounded-sm border border-border bg-background px-3 py-2",children:[n.jsx("p",{className:"caption-premium",children:" "}),n.jsx("p",{className:"text-lg font-semibold text-text-primary",children:Number(N.importedTeachers||0).toLocaleString("en-US")})]}),n.jsxs("article",{className:"rounded-sm border border-border bg-background px-3 py-2",children:[n.jsx("p",{className:"caption-premium",children:" "}),n.jsx("p",{className:"text-lg font-semibold text-text-primary",children:Number(N.skipped||0).toLocaleString("en-US")})]}),n.jsxs("article",{className:"rounded-sm border border-border bg-background px-3 py-2",children:[n.jsx("p",{className:"caption-premium",children:""}),n.jsx("p",{className:"text-lg font-semibold text-text-primary",children:Number((N.errors||[]).length).toLocaleString("en-US")})]})]}),(N.errors||[]).length?n.jsxs("div",{className:"rounded-sm border border-warning/25 bg-warning/10 p-3",children:[n.jsx("p",{className:"mb-2 text-sm font-semibold text-warning",children:"  "}),n.jsx("ul",{className:"space-y-1 text-sm text-text-secondary",children:(N.errors||[]).slice(0,12).map(M=>n.jsxs("li",{children:["- [",M.role,"] #",M.index," ",M.email||"",": ",M.message]},`${M.role}-${M.index}-${M.email}-${M.code}`))})]}):null]}):null,x?n.jsxs("section",{className:"panel-card space-y-2",children:[n.jsx("h2",{className:"text-base font-semibold text-text-primary",children:"  "}),n.jsxs("div",{className:"grid gap-3 md:grid-cols-4",children:[n.jsxs("article",{className:"rounded-sm border border-border bg-background px-3 py-2",children:[n.jsx("p",{className:"caption-premium",children:" "}),n.jsx("p",{className:"text-lg font-semibold text-text-primary",children:Number(x.importedStudents||0).toLocaleString("en-US")})]}),n.jsxs("article",{className:"rounded-sm border border-border bg-background px-3 py-2",children:[n.jsx("p",{className:"caption-premium",children:" "}),n.jsx("p",{className:"text-lg font-semibold text-text-primary",children:Number(x.importedTeachers||0).toLocaleString("en-US")})]}),n.jsxs("article",{className:"rounded-sm border border-border bg-background px-3 py-2",children:[n.jsx("p",{className:"caption-premium",children:" "}),n.jsx("p",{className:"text-lg font-semibold text-text-primary",children:Number(x.skipped||0).toLocaleString("en-US")})]}),n.jsxs("article",{className:"rounded-sm border border-border bg-background px-3 py-2",children:[n.jsx("p",{className:"caption-premium",children:""}),n.jsx("p",{className:"text-lg font-semibold text-text-primary",children:Number(x.skippedDuplicates||0).toLocaleString("en-US")})]})]}),(x.errors||[]).length?n.jsxs("div",{className:"rounded-sm border border-warning/25 bg-warning/10 p-3",children:[n.jsx("p",{className:"mb-2 text-sm font-semibold text-warning",children:"  "}),n.jsx("ul",{className:"space-y-1 text-sm text-text-secondary",children:(x.errors||[]).slice(0,12).map(M=>n.jsxs("li",{children:["- [",M.role,"] #",M.index," ",M.email||"",": ",M.message]},`${M.role}-${M.index}-${M.email}-${M.code}`))})]}):null]}):null,v?n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/35 p-4",children:n.jsxs("div",{className:"animate-fadeUp w-full max-w-lg rounded-md border border-border bg-surface p-5 shadow-lg",children:[n.jsx("h3",{className:"text-lg font-semibold text-text-primary",children:"  "}),n.jsx("p",{className:"mt-2 text-sm text-text-secondary",children:"         ."}),n.jsxs("div",{className:"mt-3 grid gap-2 sm:grid-cols-2",children:[n.jsxs("p",{className:"rounded-sm border border-border bg-background px-3 py-2 text-sm",children:[": ",Number(t.students.length).toLocaleString("en-US")]}),n.jsxs("p",{className:"rounded-sm border border-border bg-background px-3 py-2 text-sm",children:[": ",Number(t.teachers.length).toLocaleString("en-US")]})]}),n.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[n.jsx("button",{type:"button",className:"action-btn",onClick:()=>S(!1),children:""}),n.jsx("button",{type:"button",className:"action-btn-primary",onClick:F,disabled:u,children:u?" ...":""})]})]})}):null]})}const kv={info:"bg-primary/10 text-primary border-primary/30",warning:"bg-warning/10 text-warning border-warning/30",danger:"bg-danger/10 text-danger border-danger/30"};function Sv(){const{token:e}=xe(),[t,r]=p.useState(!0),[s,a]=p.useState(""),[l,o]=p.useState(null),[c,i]=p.useState([]);p.useEffect(()=>{let d=!0;return(async()=>{try{r(!0),a("");const[w,j]=await Promise.all([Ri(e),$0(e)]);if(!d)return;o(w),i(j.incidents||[])}catch(w){d&&a((w==null?void 0:w.message)||"  .")}finally{d&&r(!1)}})(),()=>{d=!1}},[e]);const u=p.useMemo(()=>{var d,h;return l?[{id:"risk-high",level:Number(((d=l==null?void 0:l.riskIndex)==null?void 0:d.High)||0)>0?"danger":"info",title:"  ",description:`${Number(((h=l==null?void 0:l.riskIndex)==null?void 0:h.High)||0).toLocaleString("en-US")} `},{id:"pending-parent",level:Number((l==null?void 0:l.pendingResponses)||0)>0?"warning":"info",title:"   ",description:`${Number((l==null?void 0:l.pendingResponses)||0).toLocaleString("en-US")} `},{id:"flagged-parents",level:Number((l==null?void 0:l.flaggedParents)||0)>0?"warning":"info",title:"   ",description:`${Number((l==null?void 0:l.flaggedParents)||0).toLocaleString("en-US")} `},{id:"repeated-incidents",level:Number((l==null?void 0:l.repeatedIncidents)||0)>0?"warning":"info",title:"  ",description:`${Number((l==null?void 0:l.repeatedIncidents)||0).toLocaleString("en-US")} `}]:[]},[l]),m=p.useMemo(()=>(c||[]).filter(d=>d.severity==="high").slice(0,6),[c]);return n.jsxs("div",{className:"page-enter space-y-5 p-1",children:[n.jsx(gt,{title:"",subtitle:"       ."}),s?n.jsx("p",{className:"rounded-sm border border-danger/25 bg-danger/5 px-3 py-2 text-sm text-danger",children:s}):null,n.jsx("section",{className:"panel-card",children:t?n.jsxs("div",{className:"grid gap-3",children:[n.jsx("div",{className:"skeleton h-16"}),n.jsx("div",{className:"skeleton h-16"}),n.jsx("div",{className:"skeleton h-16"})]}):n.jsx("ol",{className:"relative mr-3 space-y-4 border-r border-border pr-6",children:u.map(d=>n.jsxs("li",{className:"relative",children:[n.jsx("span",{className:"absolute -right-[30px] top-1 h-3 w-3 rounded-full border-2 border-surface bg-primary"}),n.jsxs("article",{className:"rounded-sm border border-border bg-background p-4",children:[n.jsxs("div",{className:"mb-2 flex flex-wrap items-center justify-between gap-2",children:[n.jsx("h2",{className:"text-base font-semibold text-text-primary",children:d.title}),n.jsx("span",{className:`rounded-full border px-3 py-1 text-xs font-semibold ${kv[d.level]||"border-border bg-background text-text-secondary"}`,children:d.level})]}),n.jsx("p",{className:"text-sm text-text-secondary",children:d.description})]})]},d.id))})}),n.jsxs("section",{className:"panel-card",children:[n.jsx("h2",{className:"mb-3 text-base font-semibold text-text-primary",children:"   ()"}),t?n.jsxs("div",{className:"grid gap-2",children:[n.jsx("div",{className:"skeleton h-12"}),n.jsx("div",{className:"skeleton h-12"})]}):m.length?n.jsx("div",{className:"space-y-2",children:m.map(d=>n.jsxs("article",{className:"rounded-sm border border-border bg-background px-3 py-2",children:[n.jsxs("p",{className:"text-sm font-semibold text-text-primary",children:[d.studentName,"  ",d.className]}),n.jsxs("p",{className:"text-xs text-text-secondary",children:[d.subject,"  ",new Date(d.createdAt).toLocaleString("en-US")]})]},d.id))}):n.jsx("p",{className:"text-sm text-text-secondary",children:"     ."})]})]})}function Cv(){var i;const{token:e}=xe(),[t,r]=p.useState(!0),[s,a]=p.useState(""),[l,o]=p.useState(null);p.useEffect(()=>{let u=!0;return(async()=>{try{r(!0),a("");const d=await jm(e);if(!u)return;o(d)}catch(d){u&&a(d.message||"  .")}finally{u&&r(!1)}})(),()=>{u=!1}},[e]);const c=p.useMemo(()=>l!=null&&l.totals?[{key:"students",title:" ",value:l.totals.students||0},{key:"teachers",title:" ",value:l.totals.teachers||0},{key:"classes",title:" ",value:l.totals.classes||0},{key:"subjects",title:" ",value:l.totals.subjects||0},{key:"feedbacks",title:"  ",value:l.totals.feedbacks||0},{key:"homeworks",title:" ",value:l.totals.homeworks||0}]:[],[l]);return n.jsxs("div",{className:"page-enter space-y-5 p-1",children:[n.jsx(gt,{title:"",subtitle:"       ."}),s?n.jsx("p",{className:"rounded-sm border border-danger/25 bg-danger/5 px-3 py-2 text-sm text-danger",children:s}):null,n.jsx("section",{className:"panel-card",children:t?n.jsxs("div",{className:"grid gap-3 sm:grid-cols-2 xl:grid-cols-3",children:[n.jsx("div",{className:"skeleton h-[112px]"}),n.jsx("div",{className:"skeleton h-[112px]"}),n.jsx("div",{className:"skeleton h-[112px]"}),n.jsx("div",{className:"skeleton h-[112px]"}),n.jsx("div",{className:"skeleton h-[112px]"}),n.jsx("div",{className:"skeleton h-[112px]"})]}):n.jsx("div",{className:"grid gap-3 sm:grid-cols-2 xl:grid-cols-3",children:c.map(u=>n.jsxs("article",{className:"panel-card-hover",children:[n.jsx("p",{className:"caption-premium",children:u.title}),n.jsx("p",{className:"mt-2 text-3xl font-bold text-text-primary",children:Number(u.value||0).toLocaleString("en-US")})]},u.key))})}),n.jsxs("section",{className:"panel-card",children:[n.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[n.jsx("h2",{className:"text-base font-semibold text-text-primary",children:" "}),n.jsx("p",{className:"caption-premium",children:l!=null&&l.generatedAt?` : ${new Date(l.generatedAt).toLocaleString("en-US")}`:""})]}),t?n.jsxs("div",{className:"grid gap-2",children:[n.jsx("div",{className:"skeleton h-12"}),n.jsx("div",{className:"skeleton h-12"})]}):n.jsxs("div",{className:"space-y-2",children:[((l==null?void 0:l.surveys)||[]).slice(0,8).map(u=>n.jsxs("article",{className:"rounded-sm border border-border bg-background p-3",children:[n.jsx("p",{className:"text-sm font-semibold text-text-primary",children:u.name}),n.jsxs("p",{className:"text-xs text-text-secondary",children:[": ",(u.audience||[]).join(", ")||"-"," | :"," ",Number(u.totalResponses||0).toLocaleString("en-US")]})]},u.id)),(i=l==null?void 0:l.surveys)!=null&&i.length?null:n.jsx("p",{className:"text-sm text-text-secondary",children:"   ."})]})]})]})}const Tl={1:"",2:"",3:"",4:"",5:""},_m={id:"",className:"",teacherId:"",subject:"",dayOfWeek:"1",startTime:"08:00",endTime:"08:45",room:""},wu=({classes:e,teachers:t,subjects:r})=>{var c,i;const s=((c=e[0])==null?void 0:c.name)||"",a=t[0]||null,o=(a==null?void 0:a.subject)||((i=a==null?void 0:a.subjects)==null?void 0:i[0])||""||r[0]||"";return{..._m,className:s,teacherId:(a==null?void 0:a.id)||"",subject:o}};function Ev(){const{token:e}=xe(),[t,r]=p.useState(!0),[s,a]=p.useState(!1),[l,o]=p.useState(""),[c,i]=p.useState(""),[u,m]=p.useState([]),[d,h]=p.useState([]),[w,j]=p.useState([]),[N,b]=p.useState([]),[x,f]=p.useState([]),[v,S]=p.useState({grade:"",teacherId:"",day:""}),[k,P]=p.useState(_m),[R,A]=p.useState(""),F=p.useMemo(()=>d.find(C=>C.id===k.teacherId)||null,[d,k.teacherId]),_=p.useMemo(()=>{var O;if(!((O=F==null?void 0:F.classes)!=null&&O.length))return w;const C=new Set(F.classes);return w.filter(Z=>C.has(Z.name))},[w,F]),M=p.useMemo(()=>{const C=[F==null?void 0:F.subject,...Array.isArray(F==null?void 0:F.subjects)?F.subjects:[]].map(Z=>String(Z||"").trim()).filter(Boolean),O=[...new Set(C)];return O.length?O:N},[F,N]);p.useEffect(()=>{P(C=>{var K;const O=_.some(fe=>fe.name===C.className),Z=M.includes(C.subject),te=O?C.className:((K=_[0])==null?void 0:K.name)||C.className,ge=Z?C.subject:M[0]||C.subject;return te===C.className&&ge===C.subject?C:{...C,className:te,subject:ge}})},[_,M]);const L=async()=>{const C=await mn(e),O=C.teachers||[],Z=C.classes||[],te=C.availableSubjects||[];h(O),j(Z),b(te);const ge=[...new Set(Z.map(K=>String(K.grade||"").trim()).filter(Boolean))].sort((K,fe)=>K.localeCompare(fe));f(ge),P(K=>{var St;const fe=new Set(O.map(et=>et.id)),we=new Set(Z.map(et=>et.name)),Ve=wu({classes:Z,teachers:O,subjects:te}),q=O.find(et=>et.id===K.teacherId),$t=(q==null?void 0:q.subject)||((St=q==null?void 0:q.subjects)==null?void 0:St[0])||"";return{...Ve,...K,className:we.has(K.className)?K.className:Ve.className,teacherId:fe.has(K.teacherId)?K.teacherId:Ve.teacherId,subject:K.subject||$t||Ve.subject}})},E=async(C=v)=>{const O=await z0(e,C);m(O.entries||[])};p.useEffect(()=>{let C=!0;return(async()=>{try{if(r(!0),o(""),i(""),await L(),!C)return;await E()}catch(Z){C&&o((Z==null?void 0:Z.message)||"   .")}finally{C&&r(!1)}})(),()=>{C=!1}},[e]);const T=async C=>{const O={...v,...C};S(O);try{r(!0),o(""),i(""),await E(O)}catch(Z){o((Z==null?void 0:Z.message)||"  .")}finally{r(!1)}},W=C=>{var K;const O=d.find(fe=>fe.id===C),Z=(O==null?void 0:O.subject)||((K=O==null?void 0:O.subjects)==null?void 0:K[0])||"",te=Array.isArray(O==null?void 0:O.classes)?O.classes:[],ge=te.includes(k.className)?k.className:te[0]||k.className;P(fe=>({...fe,teacherId:C,className:ge,subject:Z||fe.subject}))},Q=()=>{A(""),P(wu({classes:w,teachers:d,subjects:N}))},ye=async C=>{if(C.preventDefault(),!k.className||!k.teacherId||!k.subject||!k.dayOfWeek||!k.startTime||!k.endTime){o("      .");return}try{a(!0),o(""),i("");const O={className:k.className,teacherId:k.teacherId,subject:k.subject,dayOfWeek:Number(k.dayOfWeek),startTime:k.startTime,endTime:k.endTime,room:k.room};R?(await D0(e,R,O),i("   .")):(await O0(e,O),i("   .")),await E(v),Q()}catch(O){o((O==null?void 0:O.message)||"   .")}finally{a(!1)}},B=C=>{A(C.id),o(""),i(""),P({id:C.id,className:C.className||"",teacherId:C.teacherId||"",subject:C.subject||"",dayOfWeek:String(C.dayOfWeek||""),startTime:C.startTime||"",endTime:C.endTime||"",room:C.room||""})},V=async C=>{if(window.confirm(`  : ${C.className} - ${C.subject}`))try{a(!0),o(""),i(""),await B0(e,C.id),i("   ."),await E(v),R===C.id&&Q()}catch(O){o((O==null?void 0:O.message)||"  .")}finally{a(!1)}},H=p.useMemo(()=>u.slice().sort((C,O)=>C.dayOfWeek!==O.dayOfWeek?Number(C.dayOfWeek||0)-Number(O.dayOfWeek||0):String(C.startTime||"").localeCompare(String(O.startTime||""))),[u]);return n.jsxs("div",{className:"page-enter space-y-5 p-1",children:[n.jsx(gt,{title:" ",subtitle:"      ."}),l?n.jsx("p",{className:"rounded-sm border border-danger/25 bg-danger/5 px-3 py-2 text-sm text-danger",children:l}):null,c?n.jsx("p",{className:"rounded-sm border border-success/25 bg-success/10 px-3 py-2 text-sm text-success",children:c}):null,n.jsx("section",{className:"panel-card",children:n.jsxs("div",{className:"mb-3 grid gap-3 md:grid-cols-3",children:[n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-1 block text-xs text-text-secondary",children:""}),n.jsxs("select",{value:v.grade,onChange:C=>T({grade:C.target.value}),className:"focus-ring h-10 w-full rounded-sm border border-border bg-white px-3 text-sm",children:[n.jsx("option",{value:"",children:" "}),x.map(C=>n.jsx("option",{value:C,children:C},C))]})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-1 block text-xs text-text-secondary",children:""}),n.jsxs("select",{value:v.teacherId,onChange:C=>T({teacherId:C.target.value}),className:"focus-ring h-10 w-full rounded-sm border border-border bg-white px-3 text-sm",children:[n.jsx("option",{value:"",children:" "}),d.map(C=>n.jsx("option",{value:C.id,children:C.name},C.id))]})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-1 block text-xs text-text-secondary",children:""}),n.jsxs("select",{value:v.day,onChange:C=>T({day:C.target.value}),className:"focus-ring h-10 w-full rounded-sm border border-border bg-white px-3 text-sm",children:[n.jsx("option",{value:"",children:" "}),Object.entries(Tl).map(([C,O])=>n.jsx("option",{value:C,children:O},C))]})]})]})}),n.jsxs("section",{className:"panel-card",children:[n.jsxs("div",{className:"mb-3 flex flex-wrap items-center justify-between gap-2",children:[n.jsx("h2",{className:"text-base font-semibold text-text-primary",children:R?" ":"  "}),R?n.jsx("button",{type:"button",className:"action-btn",onClick:Q,disabled:s,children:" "}):null]}),n.jsxs("form",{className:"grid gap-3 lg:grid-cols-4",onSubmit:ye,children:[n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-1 block text-xs text-text-secondary",children:""}),n.jsx("select",{value:k.className,onChange:C=>P(O=>({...O,className:C.target.value})),className:"focus-ring h-10 w-full rounded-sm border border-border bg-white px-3 text-sm",children:_.map(C=>n.jsx("option",{value:C.name,children:C.name},C.id))})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-1 block text-xs text-text-secondary",children:""}),n.jsx("select",{value:k.teacherId,onChange:C=>W(C.target.value),className:"focus-ring h-10 w-full rounded-sm border border-border bg-white px-3 text-sm",children:d.map(C=>n.jsx("option",{value:C.id,children:C.name},C.id))})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-1 block text-xs text-text-secondary",children:""}),n.jsx("select",{value:k.subject,onChange:C=>P(O=>({...O,subject:C.target.value})),className:"focus-ring h-10 w-full rounded-sm border border-border bg-white px-3 text-sm",children:M.map(C=>n.jsx("option",{value:C,children:C},C))})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-1 block text-xs text-text-secondary",children:""}),n.jsx("select",{value:k.dayOfWeek,onChange:C=>P(O=>({...O,dayOfWeek:C.target.value})),className:"focus-ring h-10 w-full rounded-sm border border-border bg-white px-3 text-sm",children:Object.entries(Tl).map(([C,O])=>n.jsx("option",{value:C,children:O},`form-day-${C}`))})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-1 block text-xs text-text-secondary",children:" "}),n.jsx("input",{type:"time",value:k.startTime,onChange:C=>P(O=>({...O,startTime:C.target.value})),className:"focus-ring h-10 w-full rounded-sm border border-border px-3 text-sm"})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-1 block text-xs text-text-secondary",children:" "}),n.jsx("input",{type:"time",value:k.endTime,onChange:C=>P(O=>({...O,endTime:C.target.value})),className:"focus-ring h-10 w-full rounded-sm border border-border px-3 text-sm"})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-1 block text-xs text-text-secondary",children:""}),n.jsx("input",{type:"text",value:k.room,onChange:C=>P(O=>({...O,room:C.target.value})),className:"focus-ring h-10 w-full rounded-sm border border-border px-3 text-sm",placeholder:"A-12"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{type:"submit",className:"action-btn-primary h-10",disabled:s,children:R?" ":" "})})]})]}),n.jsx("section",{className:"panel-card",children:t?n.jsxs("div",{className:"grid gap-2",children:[n.jsx("div",{className:"skeleton h-12"}),n.jsx("div",{className:"skeleton h-12"}),n.jsx("div",{className:"skeleton h-12"})]}):H.length?n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full border-collapse text-right",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-border bg-background",children:[n.jsx("th",{className:"px-3 py-2 text-xs font-semibold text-text-secondary",children:""}),n.jsx("th",{className:"px-3 py-2 text-xs font-semibold text-text-secondary",children:""}),n.jsx("th",{className:"px-3 py-2 text-xs font-semibold text-text-secondary",children:""}),n.jsx("th",{className:"px-3 py-2 text-xs font-semibold text-text-secondary",children:""}),n.jsx("th",{className:"px-3 py-2 text-xs font-semibold text-text-secondary",children:""}),n.jsx("th",{className:"px-3 py-2 text-xs font-semibold text-text-secondary",children:""}),n.jsx("th",{className:"px-3 py-2 text-xs font-semibold text-text-secondary",children:""})]})}),n.jsx("tbody",{children:H.map(C=>n.jsxs("tr",{className:"border-b border-border/60",children:[n.jsx("td",{className:"px-3 py-3 text-sm text-text-primary",children:Tl[C.dayOfWeek]||C.dayName}),n.jsxs("td",{className:"px-3 py-3 text-sm text-text-primary",children:[C.startTime," - ",C.endTime]}),n.jsx("td",{className:"px-3 py-3 text-sm text-text-primary",children:C.className}),n.jsx("td",{className:"px-3 py-3 text-sm text-text-primary",children:C.subject}),n.jsx("td",{className:"px-3 py-3 text-sm text-text-primary",children:C.teacherName||"-"}),n.jsx("td",{className:"px-3 py-3 text-sm text-text-secondary",children:C.room||"-"}),n.jsx("td",{className:"px-3 py-3 text-sm text-text-primary",children:n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("button",{type:"button",className:"action-btn",onClick:()=>B(C),disabled:s,children:""}),n.jsx("button",{type:"button",className:"action-btn",onClick:()=>V(C),disabled:s,children:""})]})})]},C.id))})]})}):n.jsx("p",{className:"text-sm text-text-secondary",children:"Schedule not yet assigned."})})]})}const Am="edu_bridge_admin_settings",Xs={schoolName:" ",schoolEmail:"info@hikmah.school",sessionTimeoutMinutes:120},Fv=()=>{if(typeof window>"u")return Xs;try{const e=window.localStorage.getItem(Am),t=e?JSON.parse(e):{};return{...Xs,...t}}catch{return Xs}},Tv=e=>{typeof window>"u"||window.localStorage.setItem(Am,JSON.stringify(e))};function Pv(){const[e,t]=p.useState(Xs),[r,s]=p.useState(""),[a,l]=p.useState("");p.useEffect(()=>{t(Fv())},[]);const o=c=>{if(c.preventDefault(),!e.schoolName.trim()){l("  .");return}if(!e.schoolEmail.trim()){l("  .");return}Tv(e),l(""),s("  .")};return n.jsxs("div",{className:"page-enter space-y-5 p-1",children:[n.jsx(gt,{title:"",subtitle:"    ."}),a?n.jsx("p",{className:"rounded-sm border border-danger/25 bg-danger/5 px-3 py-2 text-sm text-danger",children:a}):null,r?n.jsx("p",{className:"rounded-sm border border-success/25 bg-success/10 px-3 py-2 text-sm text-success",children:r}):null,n.jsxs("section",{className:"grid gap-4 lg:grid-cols-2",children:[n.jsxs("article",{className:"panel-card",children:[n.jsx("h2",{className:"mb-3 text-base font-semibold text-text-primary",children:" "}),n.jsxs("form",{className:"space-y-3",onSubmit:o,children:[n.jsxs("label",{className:"space-y-1",children:[n.jsx("span",{className:"caption-premium",children:" "}),n.jsx("input",{value:e.schoolName,onChange:c=>t(i=>({...i,schoolName:c.target.value})),className:"focus-ring w-full rounded-sm border border-border px-3 py-2 text-sm"})]}),n.jsxs("label",{className:"space-y-1",children:[n.jsx("span",{className:"caption-premium",children:" "}),n.jsx("input",{value:e.schoolEmail,onChange:c=>t(i=>({...i,schoolEmail:c.target.value})),className:"focus-ring w-full rounded-sm border border-border px-3 py-2 text-sm",dir:"ltr"})]}),n.jsxs("label",{className:"space-y-1",children:[n.jsx("span",{className:"caption-premium",children:"   ()"}),n.jsx("input",{type:"number",min:15,max:720,value:e.sessionTimeoutMinutes,onChange:c=>t(i=>({...i,sessionTimeoutMinutes:Number(c.target.value||120)})),className:"focus-ring w-full rounded-sm border border-border px-3 py-2 text-sm"})]}),n.jsx("button",{type:"submit",className:"action-btn-primary",children:" "})]})]}),n.jsxs("article",{className:"panel-card",children:[n.jsx("h2",{className:"mb-3 text-base font-semibold text-text-primary",children:" "}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"rounded-sm border border-border bg-background p-3",children:[n.jsx("p",{className:"text-sm font-semibold text-text-primary",children:"JWT "}),n.jsx("p",{className:"text-xs text-text-secondary",children:"       ."})]}),n.jsxs("div",{className:"rounded-sm border border-border bg-background p-3",children:[n.jsx("p",{className:"text-sm font-semibold text-text-primary",children:"  "}),n.jsx("p",{className:"text-xs text-text-secondary",children:"       ."})]}),n.jsxs("div",{className:"rounded-sm border border-border bg-background p-3",children:[n.jsx("p",{className:"text-sm font-semibold text-text-primary",children:" "}),n.jsx("p",{className:"text-xs text-text-secondary",children:"        ."})]})]})]})]})]})}const ku={fullName:"",email:"",password:"",className:""};function Lv(){const{token:e}=xe(),[t,r]=p.useState(!0),[s,a]=p.useState(!1),[l,o]=p.useState(""),[c,i]=p.useState([]),[u,m]=p.useState([]),[d,h]=p.useState(ku),[w,j]=p.useState(""),[N,b]=p.useState(""),x=async()=>{try{r(!0),j("");const F=await mn(e);i(F.students||[]),m(F.classes||[]),h(_=>{var M,L;return{..._,className:_.className||((L=(M=F.classes)==null?void 0:M[0])==null?void 0:L.name)||""}})}catch(F){j(F.message||"   .")}finally{r(!1)}};p.useEffect(()=>{x()},[]);const f=p.useMemo(()=>{const F=l.trim().toLowerCase();return F?c.filter(_=>{var M;return String(_.name||"").toLowerCase().includes(F)||String(_.email||"").toLowerCase().includes(F)||String(_.className||((M=_.classes)==null?void 0:M[0])||"").toLowerCase().includes(F)}):c},[l,c]),v=(F,_)=>{i(M=>M.map(L=>L.id===F?{...L,..._}:L))},S=async F=>{var _;F.preventDefault();try{a(!0),j(""),b(""),await W0(e,{fullName:d.fullName,email:d.email,password:d.password,className:d.className}),h({...ku,className:((_=u[0])==null?void 0:_.name)||d.className}),b("   ."),await x()}catch(M){j(M.message||"  .")}finally{a(!1)}},k=async F=>{var _;try{a(!0),j(""),b(""),await Nm(e,F.id,{fullName:F.name,email:F.email,className:F.className||((_=F.classes)==null?void 0:_[0])||""}),b("   ."),await x()}catch(M){j(M.message||"  .")}finally{a(!1)}},P=async F=>{const _=window.prompt(`     ${F.name}`,"");if(_)try{a(!0),j(""),b(""),await km(e,F.id,_),b("    .")}catch(M){j(M.message||"    .")}finally{a(!1)}},R=async F=>{try{a(!0),j(""),b(""),await wm(e,F.id,!F.isActive),b(F.isActive?"  .":"  ."),v(F.id,{isActive:!F.isActive})}catch(_){j(_.message||"   .")}finally{a(!1)}},A=async F=>{if(window.confirm(`   ${F.name}`))try{a(!0),j(""),b(""),await Sm(e,F.id),b("  ."),i(_=>_.filter(M=>M.id!==F.id))}catch(_){j(_.message||"  .")}finally{a(!1)}};return n.jsxs("div",{className:"page-enter space-y-5 p-1",children:[n.jsx(gt,{title:" ",subtitle:"       ."}),w?n.jsx("p",{className:"rounded-sm border border-danger/25 bg-danger/5 px-3 py-2 text-sm text-danger",children:w}):null,N?n.jsx("p",{className:"rounded-sm border border-success/25 bg-success/10 px-3 py-2 text-sm text-success",children:N}):null,n.jsxs("section",{className:"panel-card",children:[n.jsx("h2",{className:"mb-3 text-base font-semibold text-text-primary",children:"  "}),n.jsxs("form",{className:"grid gap-3 md:grid-cols-4",onSubmit:S,children:[n.jsx("input",{value:d.fullName,onChange:F=>h(_=>({..._,fullName:F.target.value})),className:"focus-ring rounded-sm border border-border px-3 py-2 text-sm",placeholder:" ",required:!0}),n.jsx("input",{value:d.email,onChange:F=>h(_=>({..._,email:F.target.value})),className:"focus-ring rounded-sm border border-border px-3 py-2 text-sm",placeholder:" ",dir:"ltr",required:!0}),n.jsx("input",{value:d.password,onChange:F=>h(_=>({..._,password:F.target.value})),className:"focus-ring rounded-sm border border-border px-3 py-2 text-sm",placeholder:" ",type:"password",required:!0}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("select",{value:d.className,onChange:F=>h(_=>({..._,className:F.target.value})),className:"focus-ring w-full rounded-sm border border-border bg-white px-3 py-2 text-sm",required:!0,children:u.map(F=>n.jsx("option",{value:F.name,children:F.name},F.id))}),n.jsx("button",{type:"submit",className:"action-btn-primary min-w-[96px]",disabled:s,children:""})]})]})]}),n.jsxs("section",{className:"panel-card space-y-4",children:[n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[n.jsx("h2",{className:"text-base font-semibold text-text-primary",children:" "}),n.jsx("input",{value:l,onChange:F=>o(F.target.value),className:"focus-ring min-w-[240px] rounded-sm border border-border px-3 py-2 text-sm",placeholder:"     "})]}),t?n.jsxs("div",{className:"grid gap-3",children:[n.jsx("div",{className:"skeleton h-16"}),n.jsx("div",{className:"skeleton h-16"}),n.jsx("div",{className:"skeleton h-16"})]}):n.jsxs("div",{className:"space-y-3",children:[f.length?null:n.jsx("p",{className:"text-sm text-text-secondary",children:"   ."}),f.map(F=>{var _;return n.jsx("article",{className:"rounded-sm border border-border bg-background p-3",children:n.jsxs("div",{className:"grid gap-2 lg:grid-cols-[1.2fr_1.5fr_1fr_auto]",children:[n.jsx("input",{value:F.name||"",onChange:M=>v(F.id,{name:M.target.value}),className:"focus-ring rounded-sm border border-border px-3 py-2 text-sm",placeholder:""}),n.jsx("input",{value:F.email||"",onChange:M=>v(F.id,{email:M.target.value}),className:"focus-ring rounded-sm border border-border px-3 py-2 text-sm",dir:"ltr",placeholder:""}),n.jsx("select",{value:F.className||((_=F.classes)==null?void 0:_[0])||"",onChange:M=>v(F.id,{className:M.target.value,classes:[M.target.value]}),className:"focus-ring rounded-sm border border-border bg-white px-3 py-2 text-sm",children:u.map(M=>n.jsx("option",{value:M.name,children:M.name},`${F.id}-${M.id}`))}),n.jsxs("div",{className:"flex flex-wrap justify-end gap-2",children:[n.jsx("button",{type:"button",className:"action-btn",onClick:()=>k(F),disabled:s,children:""}),n.jsx("button",{type:"button",className:"action-btn",onClick:()=>P(F),disabled:s,children:"  "}),n.jsx("button",{type:"button",className:"action-btn",onClick:()=>R(F),disabled:s,children:F.isActive?"":""}),n.jsx("button",{type:"button",className:"action-btn",onClick:()=>A(F),disabled:s,children:""})]})]})},F.id)})]})]})]})}function Mv(){const{token:e}=xe(),[t,r]=p.useState(!0),[s,a]=p.useState(""),[l,o]=p.useState([]),[c,i]=p.useState([]);p.useEffect(()=>{let m=!0;return(async()=>{try{r(!0),a("");const h=await mn(e);if(!m)return;o(h.availableSubjects||[]),i(h.teachers||[])}catch(h){m&&a(h.message||"   .")}finally{m&&r(!1)}})(),()=>{m=!1}},[e]);const u=p.useMemo(()=>l.map(m=>{const d=c.filter(w=>w.subject===m),h=new Set;return d.forEach(w=>{(w.classes||[]).forEach(j=>h.add(j))}),{name:m,teachersCount:d.length,classesCount:h.size}}),[l,c]);return n.jsxs("div",{className:"page-enter space-y-5 p-1",children:[n.jsx(gt,{title:" ",subtitle:"     ."}),s?n.jsx("p",{className:"rounded-sm border border-danger/25 bg-danger/5 px-3 py-2 text-sm text-danger",children:s}):null,n.jsx("section",{className:"panel-card",children:t?n.jsxs("div",{className:"grid gap-3 sm:grid-cols-2 xl:grid-cols-4",children:[n.jsx("div",{className:"skeleton h-[120px]"}),n.jsx("div",{className:"skeleton h-[120px]"}),n.jsx("div",{className:"skeleton h-[120px]"}),n.jsx("div",{className:"skeleton h-[120px]"})]}):n.jsx("div",{className:"grid gap-3 sm:grid-cols-2 xl:grid-cols-4",children:u.map(m=>n.jsxs("article",{className:"panel-card-hover",children:[n.jsx("h2",{className:"text-lg font-semibold text-text-primary",children:m.name}),n.jsxs("div",{className:"mt-2 space-y-1",children:[n.jsxs("p",{className:"caption-premium",children:[": ",Number(m.classesCount||0).toLocaleString("en-US")]}),n.jsxs("p",{className:"caption-premium",children:[": ",Number(m.teachersCount||0).toLocaleString("en-US")]})]})]},m.name))})})]})}const _v=[{value:"multiple_choice",label:"  "},{value:"rating",label:"  (1-5)"},{value:"text",label:" "}],Im=()=>`${Date.now()}_${Math.random().toString(16).slice(2,8)}`,Rm=()=>({id:Im(),type:"multiple_choice",questionText:"",required:!0,options:["",""]}),Su={title:"",description:"",audience:["student"],questions:[Rm()]},zm=(e=[])=>e.map(t=>String(t||"").trim()).filter(Boolean),Av=e=>{const t=[];return String(e.title||"").trim()||t.push("  ."),(!Array.isArray(e.audience)||!e.audience.length)&&t.push("     (  )."),(!Array.isArray(e.questions)||!e.questions.length)&&t.push("    ."),e.questions.forEach((r,s)=>{if(String(r.questionText||"").trim()||t.push(` ${s+1}:   .`),r.type==="multiple_choice"){const a=zm(r.options),l=new Set(a);a.length<2&&t.push(` ${s+1}:     .`),l.size!==a.length&&t.push(` ${s+1}:   .`)}}),t},Iv=e=>({title:e.title||e.name||"",description:e.description||"",audience:Array.isArray(e.audience)&&e.audience.length?e.audience:["student"],questions:(e.questions||[]).map(t=>({id:t.questionId||Im(),type:t.type||"text",questionText:t.questionText||t.prompt||"",required:!!t.required,options:t.type==="multiple_choice"?t.options||["",""]:[]}))});function Rv(){const{token:e}=xe(),[t,r]=p.useState([]),[s,a]=p.useState(Su),[l,o]=p.useState(""),[c,i]=p.useState(!0),[u,m]=p.useState(!1),[d,h]=p.useState(""),[w,j]=p.useState(""),N=p.useMemo(()=>Av(s),[s]),b=async()=>{try{i(!0),h("");const L=await G0(e);r(L.surveys||[])}catch(L){h(L.message||"  .")}finally{i(!1)}};p.useEffect(()=>{b()},[]);const x=(L,E)=>{a(T=>({...T,questions:T.questions.map(W=>W.id===L?{...W,...E}:W)}))},f=()=>{a(L=>({...L,questions:[...L.questions,Rm()]}))},v=L=>{a(E=>({...E,questions:E.questions.filter(T=>T.id!==L)}))},S=L=>{const E=s.questions.find(T=>T.id===L);!E||E.type!=="multiple_choice"||x(L,{options:[...E.options,""]})},k=(L,E,T)=>{const W=s.questions.find(ye=>ye.id===L);if(!W)return;const Q=[...W.options||[]];Q[E]=T,x(L,{options:Q})},P=(L,E)=>{const T=s.questions.find(Q=>Q.id===L);if(!T)return;const W=(T.options||[]).filter((Q,ye)=>ye!==E);x(L,{options:W})},R=()=>{a(Su),o("")},A=async L=>{if(L.preventDefault(),N.length){h(N[0]);return}const E={title:s.title,description:s.description,audience:s.audience,questions:s.questions.map((T,W)=>({questionId:`q_${W+1}`,type:T.type,questionText:String(T.questionText||"").trim(),required:!!T.required,options:T.type==="multiple_choice"?zm(T.options):[]}))};try{m(!0),h(""),j(""),l?(await K0(e,l,E),j("   .")):(await Y0(e,E),j("   .")),R(),await b()}catch(T){h(T.message||"  .")}finally{m(!1)}},F=L=>{h(""),j(""),o(L.id),a(Iv(L))},_=async L=>{if(window.confirm(`   "${L.title||L.name}"`))try{m(!0),h(""),j(""),await X0(e,L.id),j("  ."),l===L.id&&R(),await b()}catch(E){h(E.message||"  .")}finally{m(!1)}},M=L=>{a(E=>{const W=E.audience.includes(L)?E.audience.filter(Q=>Q!==L):[...E.audience,L];return{...E,audience:W}})};return n.jsxs("div",{className:"page-enter space-y-5 p-1",children:[n.jsx(gt,{title:" ",subtitle:"         ."}),d?n.jsx("p",{className:"rounded-sm border border-danger/25 bg-danger/5 px-3 py-2 text-sm text-danger",children:d}):null,w?n.jsx("p",{className:"rounded-sm border border-success/25 bg-success/10 px-3 py-2 text-sm text-success",children:w}):null,n.jsxs("section",{className:"panel-card",children:[n.jsx("h2",{className:"mb-3 text-base font-semibold text-text-primary",children:l?" ":"  "}),n.jsxs("form",{className:"space-y-4",onSubmit:A,children:[n.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[n.jsx("input",{value:s.title,onChange:L=>a(E=>({...E,title:L.target.value})),className:"focus-ring rounded-sm border border-border px-3 py-2 text-sm",placeholder:" ",required:!0}),n.jsx("input",{value:s.description,onChange:L=>a(E=>({...E,description:L.target.value})),className:"focus-ring rounded-sm border border-border px-3 py-2 text-sm",placeholder:"  ()"})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("button",{type:"button",onClick:()=>M("student"),className:`action-btn rounded-full px-3 py-1 text-xs ${s.audience.includes("student")?"border-transparent bg-primary text-white":""}`,children:""}),n.jsx("button",{type:"button",onClick:()=>M("teacher"),className:`action-btn rounded-full px-3 py-1 text-xs ${s.audience.includes("teacher")?"border-transparent bg-primary text-white":""}`,children:""})]}),n.jsx("div",{className:"space-y-3",children:s.questions.map((L,E)=>n.jsxs("article",{className:"animate-fadeUp rounded-sm border border-border bg-background p-3",children:[n.jsxs("div",{className:"mb-2 flex items-center justify-between gap-2",children:[n.jsxs("p",{className:"text-sm font-semibold text-text-primary",children:[" ",E+1]}),n.jsx("button",{type:"button",className:"action-btn",onClick:()=>v(L.id),disabled:s.questions.length===1,children:" "})]}),n.jsxs("div",{className:"grid gap-2 md:grid-cols-[1fr_190px_auto]",children:[n.jsx("input",{value:L.questionText,onChange:T=>x(L.id,{questionText:T.target.value}),className:"focus-ring rounded-sm border border-border px-3 py-2 text-sm",placeholder:" ",required:!0}),n.jsx("select",{value:L.type,onChange:T=>{const W=T.target.value;x(L.id,{type:W,options:W==="multiple_choice"?["",""]:[]})},className:"focus-ring rounded-sm border border-border bg-white px-3 py-2 text-sm",children:_v.map(T=>n.jsx("option",{value:T.value,children:T.label},`${L.id}-${T.value}`))}),n.jsxs("label",{className:"inline-flex items-center gap-2 rounded-sm border border-border bg-surface px-3 py-2 text-sm",children:[n.jsx("input",{type:"checkbox",checked:L.required,onChange:T=>x(L.id,{required:T.target.checked})}),""]})]}),L.type==="multiple_choice"?n.jsxs("div",{className:"mt-3 space-y-2",children:[n.jsx("p",{className:"text-xs font-semibold text-text-secondary",children:""}),(L.options||[]).map((T,W)=>n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{value:T,onChange:Q=>k(L.id,W,Q.target.value),className:"focus-ring w-full rounded-sm border border-border px-3 py-2 text-sm",placeholder:` ${W+1}`}),n.jsx("button",{type:"button",className:"action-btn",onClick:()=>P(L.id,W),disabled:(L.options||[]).length<=2,children:""})]},`${L.id}-option-${W}`)),n.jsx("button",{type:"button",className:"action-btn",onClick:()=>S(L.id),children:" "})]}):null]},L.id))}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("button",{type:"button",className:"action-btn",onClick:f,children:" "}),n.jsx("button",{type:"submit",className:"action-btn-primary",disabled:u,children:u?" ...":l?" ":" "}),l?n.jsx("button",{type:"button",className:"action-btn",onClick:R,children:" "}):null]})]})]}),n.jsxs("section",{className:"panel-card",children:[n.jsx("h2",{className:"mb-3 text-base font-semibold text-text-primary",children:" "}),c?n.jsxs("div",{className:"grid gap-3",children:[n.jsx("div",{className:"skeleton h-16"}),n.jsx("div",{className:"skeleton h-16"}),n.jsx("div",{className:"skeleton h-16"})]}):n.jsxs("div",{className:"space-y-2",children:[t.map(L=>n.jsx("article",{className:"rounded-sm border border-border bg-background p-3",children:n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-text-primary",children:L.title||L.name}),n.jsxs("p",{className:"text-xs text-text-secondary",children:[": ",Number((L.questions||[]).length).toLocaleString("en-US")," | :"," ",Number(L.totalResponses||0).toLocaleString("en-US")]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{type:"button",className:"action-btn",onClick:()=>F(L),children:""}),n.jsx("button",{type:"button",className:"action-btn",onClick:()=>_(L),children:""})]})]})},L.id)),t.length?null:n.jsx("p",{className:"text-sm text-text-secondary",children:"    ."})]})]})]})}const Cu={fullName:"",email:"",password:"",subject:"",classes:[]};function zv(){const{token:e}=xe(),[t,r]=p.useState(!0),[s,a]=p.useState(!1),[l,o]=p.useState(""),[c,i]=p.useState([]),[u,m]=p.useState([]),[d,h]=p.useState([]),[w,j]=p.useState(Cu),[N,b]=p.useState(""),[x,f]=p.useState(""),v=async()=>{try{r(!0),b("");const E=await mn(e);i(E.teachers||[]),m(E.classes||[]),h(E.availableSubjects||[]),j(T=>{var W;return{...T,subject:T.subject||((W=E.availableSubjects)==null?void 0:W[0])||""}})}catch(E){b(E.message||"   .")}finally{r(!1)}};p.useEffect(()=>{v()},[]);const S=p.useMemo(()=>{const E=l.trim().toLowerCase();return E?c.filter(T=>String(T.name||"").toLowerCase().includes(E)||String(T.email||"").toLowerCase().includes(E)||String(T.subject||"").toLowerCase().includes(E)):c},[l,c]),k=(E,T)=>{i(W=>W.map(Q=>Q.id===E?{...Q,...T}:Q))},P=(E,T)=>{i(W=>W.map(Q=>{if(Q.id!==E)return Q;const B=(Q.classes||[]).includes(T)?(Q.classes||[]).filter(V=>V!==T):[...Q.classes||[],T];return{...Q,classes:B}}))},R=E=>{j(T=>{const W=T.classes.includes(E);return{...T,classes:W?T.classes.filter(Q=>Q!==E):[...T.classes,E]}})},A=async E=>{if(E.preventDefault(),!w.classes.length){b("     .");return}try{a(!0),b(""),f(""),await U0(e,{fullName:w.fullName,email:w.email,password:w.password,subject:w.subject,classes:w.classes}),j({...Cu,subject:d[0]||""}),f("   ."),await v()}catch(T){b(T.message||"  .")}finally{a(!1)}},F=async E=>{try{a(!0),b(""),f(""),await Nm(e,E.id,{fullName:E.name,email:E.email}),await Q0(e,E.id,{subject:E.subject,classes:E.classes||[]}),f("   ."),await v()}catch(T){b(T.message||"  .")}finally{a(!1)}},_=async E=>{const T=window.prompt(`     ${E.name}`,"");if(T)try{a(!0),b(""),f(""),await km(e,E.id,T),f("    .")}catch(W){b(W.message||"    .")}finally{a(!1)}},M=async E=>{try{a(!0),b(""),f(""),await wm(e,E.id,!E.isActive),f(E.isActive?"  .":"  ."),k(E.id,{isActive:!E.isActive})}catch(T){b(T.message||"   .")}finally{a(!1)}},L=async E=>{if(window.confirm(`   ${E.name}`))try{a(!0),b(""),f(""),await Sm(e,E.id),f("  ."),i(T=>T.filter(W=>W.id!==E.id))}catch(T){b(T.message||"  .")}finally{a(!1)}};return n.jsxs("div",{className:"page-enter space-y-5 p-1",children:[n.jsx(gt,{title:" ",subtitle:"     ."}),N?n.jsx("p",{className:"rounded-sm border border-danger/25 bg-danger/5 px-3 py-2 text-sm text-danger",children:N}):null,x?n.jsx("p",{className:"rounded-sm border border-success/25 bg-success/10 px-3 py-2 text-sm text-success",children:x}):null,n.jsxs("section",{className:"panel-card",children:[n.jsx("h2",{className:"mb-3 text-base font-semibold text-text-primary",children:"  "}),n.jsxs("form",{className:"grid gap-3 lg:grid-cols-5",onSubmit:A,children:[n.jsx("input",{value:w.fullName,onChange:E=>j(T=>({...T,fullName:E.target.value})),className:"focus-ring rounded-sm border border-border px-3 py-2 text-sm",placeholder:" ",required:!0}),n.jsx("input",{value:w.email,onChange:E=>j(T=>({...T,email:E.target.value})),className:"focus-ring rounded-sm border border-border px-3 py-2 text-sm",placeholder:" ",dir:"ltr",required:!0}),n.jsx("input",{value:w.password,onChange:E=>j(T=>({...T,password:E.target.value})),className:"focus-ring rounded-sm border border-border px-3 py-2 text-sm",placeholder:" ",type:"password",required:!0}),n.jsx("select",{value:w.subject,onChange:E=>j(T=>({...T,subject:E.target.value})),className:"focus-ring rounded-sm border border-border bg-white px-3 py-2 text-sm",required:!0,children:d.map(E=>n.jsx("option",{value:E,children:E},E))}),n.jsx("button",{type:"submit",className:"action-btn-primary",disabled:s,children:""})]}),n.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:u.map(E=>{const T=w.classes.includes(E.name);return n.jsx("button",{type:"button",onClick:()=>R(E.name),className:`action-btn rounded-full px-3 py-1 text-xs ${T?"border-transparent bg-primary text-white":""}`,children:E.name},`new-teacher-${E.id}`)})})]}),n.jsxs("section",{className:"panel-card space-y-4",children:[n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[n.jsx("h2",{className:"text-base font-semibold text-text-primary",children:" "}),n.jsx("input",{value:l,onChange:E=>o(E.target.value),className:"focus-ring min-w-[240px] rounded-sm border border-border px-3 py-2 text-sm",placeholder:"     "})]}),t?n.jsxs("div",{className:"grid gap-3",children:[n.jsx("div",{className:"skeleton h-16"}),n.jsx("div",{className:"skeleton h-16"}),n.jsx("div",{className:"skeleton h-16"})]}):n.jsxs("div",{className:"space-y-3",children:[S.length?null:n.jsx("p",{className:"text-sm text-text-secondary",children:"   ."}),S.map(E=>n.jsxs("article",{className:"rounded-sm border border-border bg-background p-3",children:[n.jsxs("div",{className:"grid gap-2 lg:grid-cols-[1.1fr_1.3fr_1fr_auto]",children:[n.jsx("input",{value:E.name||"",onChange:T=>k(E.id,{name:T.target.value}),className:"focus-ring rounded-sm border border-border px-3 py-2 text-sm",placeholder:""}),n.jsx("input",{value:E.email||"",onChange:T=>k(E.id,{email:T.target.value}),className:"focus-ring rounded-sm border border-border px-3 py-2 text-sm",dir:"ltr",placeholder:""}),n.jsx("select",{value:E.subject||"",onChange:T=>k(E.id,{subject:T.target.value}),className:"focus-ring rounded-sm border border-border bg-white px-3 py-2 text-sm",children:d.map(T=>n.jsx("option",{value:T,children:T},`${E.id}-${T}`))}),n.jsxs("div",{className:"flex flex-wrap justify-end gap-2",children:[n.jsx("button",{type:"button",className:"action-btn",onClick:()=>F(E),disabled:s,children:""}),n.jsx("button",{type:"button",className:"action-btn",onClick:()=>_(E),disabled:s,children:"  "}),n.jsx("button",{type:"button",className:"action-btn",onClick:()=>M(E),disabled:s,children:E.isActive?"":""}),n.jsx("button",{type:"button",className:"action-btn",onClick:()=>L(E),disabled:s,children:""})]})]}),n.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:u.map(T=>{const W=(E.classes||[]).includes(T.name);return n.jsx("button",{type:"button",onClick:()=>P(E.id,T.name),className:`action-btn rounded-full px-3 py-1 text-xs ${W?"border-transparent bg-primary text-white":""}`,children:T.name},`${E.id}-${T.id}`)})})]},E.id))]})]})]})}function Sa({title:e,description:t,compact:r=!1}){return n.jsxs("div",{className:`flex flex-col items-center justify-center text-center rounded-md bg-slate-50 border border-border ${r?"py-8 px-6":"py-14 px-6"}`,children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-border mb-3"}),n.jsx("p",{className:"text-[15px] font-semibold text-text-primary",children:e}),t&&n.jsx("p",{className:"mt-1 text-[13px] text-text-secondary max-w-[260px]",children:t})]})}const Ov=new Intl.DateTimeFormat("ar-SA",{day:"numeric",month:"short",year:"numeric"}),Dv=new Intl.DateTimeFormat("ar-SA",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}),fn=e=>{if(!e)return"";const t=e instanceof Date?e:new Date(e);return Number.isNaN(t.getTime())?"":Ov.format(t)},Bv=e=>{if(!e)return"";const t=e instanceof Date?e:new Date(e);return Number.isNaN(t.getTime())?"":Dv.format(t)},kt=(e,t=0)=>{const r=Number(e);return Number.isFinite(r)?new Intl.NumberFormat("ar-SA",{minimumFractionDigits:0,maximumFractionDigits:t}).format(r):"0"},$v=e=>{if(!e.length)return 0;const t=e.reduce((s,a)=>s+Number(a.score||0),0),r=e.reduce((s,a)=>s+Number(a.outOf||0),0);return r?t/r*100:0},Uv=e=>e>=75?"#00C853":e>=50?"#FFB300":"#D32F2F",Eu=e=>e>=90?{label:"",color:"#00C853"}:e>=75?{label:" ",color:"#2C7BE5"}:e>=60?{label:"",color:"#FFB300"}:e>=50?{label:"",color:"#F97316"}:{label:"",color:"#D32F2F"};function Wv({rows:e=[]}){const t=$v(e),{label:r,color:s}=Eu(t);return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"panel-card",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("span",{className:"text-[13px] font-semibold text-text-secondary",children:" "}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-[11px] font-semibold px-2 py-0.5 rounded-full",style:{background:s+"18",color:s},children:r}),n.jsxs("span",{className:"text-[22px] font-bold text-text-primary",children:[kt(t,1),""]})]})]}),n.jsx("div",{className:"h-2 rounded-full bg-border overflow-hidden",children:n.jsx("div",{className:"grade-fill h-full rounded-full",style:{width:`${Math.max(2,Math.min(100,t))}%`,background:Uv(t)}})})]}),e.length?n.jsx("div",{className:"surface-card overflow-hidden",children:n.jsxs("table",{className:"w-full min-w-[480px] border-collapse",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-slate-50 border-b border-border",children:[n.jsx("th",{className:"text-right px-4 py-3 text-[11px] font-semibold text-text-secondary uppercase tracking-wide",children:""}),n.jsx("th",{className:"text-right px-4 py-3 text-[11px] font-semibold text-text-secondary uppercase tracking-wide",children:""}),n.jsx("th",{className:"text-right px-4 py-3 text-[11px] font-semibold text-text-secondary uppercase tracking-wide",children:""}),n.jsx("th",{className:"text-right px-4 py-3 text-[11px] font-semibold text-text-secondary uppercase tracking-wide",children:""})]})}),n.jsx("tbody",{children:e.map((a,l)=>{const o=a.outOf?Number(a.score)/Number(a.outOf)*100:0,{label:c,color:i}=Eu(o);return n.jsxs("tr",{className:`border-b border-border last:border-0 premium-transition hover:bg-slate-50 ${l%2===0,""}`,children:[n.jsx("td",{className:"px-4 py-3 text-[14px] text-text-primary",children:a.assessment}),n.jsxs("td",{className:"px-4 py-3 text-[14px] font-bold text-text-primary",children:[kt(a.score)," / ",kt(a.outOf)]}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("span",{className:"text-[11px] font-semibold px-2 py-0.5 rounded-full",style:{background:i+"18",color:i},children:c})}),n.jsx("td",{className:"px-4 py-3 text-[13px] text-text-secondary",children:fn(a.date)})]},a.id)})})]})}):n.jsx(Sa,{title:"   ",description:"    .",compact:!0})]})}const Fu={:{bg:"#EFF6FF",color:"#2C7BE5"},:{bg:"#FFFBEB",color:"#D97706"},:{bg:"#F0FDF4",color:"#00C853"},:{bg:"#F8FAFC",color:"#475569"}};function Hv({summary:e,recentFeedback:t=[]}){const r=[{label:"",value:(e==null?void 0:e.homeworkCount)??0,accent:"#2C7BE5"},{label:"",value:`${kt((e==null?void 0:e.averageGrade)??0,1)}`,accent:"#00C853"},{label:"",value:(e==null?void 0:e.feedbackCount)??0,accent:"#FFB300"}];return n.jsxs("aside",{className:"space-y-4",children:[n.jsxs("div",{className:"panel-card",children:[n.jsx("p",{className:"text-[12px] font-semibold text-text-secondary uppercase tracking-wide mb-3",children:" "}),n.jsx("div",{className:"space-y-2",children:r.map(s=>n.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-border last:border-0",children:[n.jsx("span",{className:"text-[13px] text-text-secondary",children:s.label}),n.jsx("strong",{className:"text-[16px] font-bold",style:{color:s.accent},children:s.value})]},s.label))})]}),n.jsxs("div",{className:"panel-card",children:[n.jsx("p",{className:"text-[12px] font-semibold text-text-secondary uppercase tracking-wide mb-3",children:" "}),t.length?n.jsx("div",{className:"space-y-3",children:t.slice(0,4).map(s=>{const a=Fu[s.category]||Fu.;return n.jsxs("div",{className:"pb-3 border-b border-border last:border-0 last:pb-0",children:[n.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1",children:[n.jsx("span",{className:"text-[10px] font-bold px-1.5 py-0.5 rounded-full",style:{background:a.bg,color:a.color},children:s.category}),n.jsx("span",{className:"text-[11px] text-text-secondary",children:fn(s.date)})]}),n.jsx("p",{className:"clamp-2 text-[12px] text-text-secondary leading-relaxed",children:s.preview})]},s.id)})}):n.jsx(Sa,{title:"  ",compact:!0})]})]})}function Vv({tabs:e=[],activeKey:t,onChange:r}){return n.jsx("div",{className:"flex gap-1 p-1 bg-slate-50 border border-border rounded-sm mb-5",children:e.map(s=>{const a=s.key===t;return n.jsx("button",{type:"button",role:"tab","aria-selected":a,onClick:()=>r==null?void 0:r(s.key),className:`flex-1 py-2 px-3 rounded-[6px] text-[13px] font-semibold premium-transition focus-ring
              ${a?"bg-surface text-primary shadow-sm border border-border":"text-text-secondary hover:text-text-primary"}`,children:s.label},s.key)})})}const Qv=[{key:"posts",label:""},{key:"homework",label:""},{key:"grades",label:""}],Gv={:{bg:"#F0FDF4",color:"#00C853"}," ":{bg:"#FEF2F2",color:"#D32F2F"}};function Yv(){return n.jsx("svg",{viewBox:"0 0 20 20",fill:"none",className:"w-4 h-4","aria-hidden":"true",children:n.jsx("path",{d:"m4 7 6 6 6-6",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})}const Tu=["#2C7BE5","#00C853","#FFB300","#D32F2F","#8B5CF6","#F97316","#14B8A6","#EC4899"];function Kv({current:e,allSubjects:t,onSwitch:r}){const[s,a]=p.useState(!1),l=p.useRef(null);return p.useEffect(()=>{if(!s)return;const o=c=>{l.current&&!l.current.contains(c.target)&&a(!1)};return document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)},[s]),n.jsxs("div",{ref:l,className:"relative",children:[n.jsxs("button",{type:"button",onClick:()=>a(o=>!o),className:"action-btn flex items-center gap-2 focus-ring","aria-haspopup":"listbox","aria-expanded":s,children:[n.jsx("span",{className:"max-w-[130px] truncate",children:e.name}),n.jsx(Yv,{})]}),s&&n.jsx("div",{role:"listbox","aria-label":" ",className:"absolute start-0 top-full z-30 mt-1 min-w-[200px] rounded-md border border-border bg-surface shadow-md animate-fadeUp overflow-hidden",children:t.map((o,c)=>{const i=Tu[c%Tu.length];return n.jsxs("button",{type:"button",role:"option","aria-selected":o.id===e.id,onClick:()=>{r(o.id),a(!1)},className:`flex w-full items-center gap-3 px-4 py-3 text-right text-[13px] premium-transition hover:bg-slate-50 focus-ring
                  ${o.id===e.id?"bg-slate-50 font-semibold text-text-primary":"text-text-secondary"}`,children:[n.jsx("div",{className:"w-1 h-6 rounded-full flex-shrink-0",style:{background:i}}),n.jsx("img",{src:o.image,alt:"","aria-hidden":!0,className:"w-7 h-7 object-contain flex-shrink-0"}),n.jsx("span",{className:"flex-1",children:o.name})]},o.id)})})]})}function Xv({subject:e,allSubjects:t,recentFeedback:r,onBack:s,onSwitch:a}){var j,N;const[l,o]=p.useState("posts"),[c,i]=p.useState({});p.useEffect(()=>{o("posts"),i({}),window.scrollTo({top:0,behavior:"smooth"})},[e==null?void 0:e.id]);const u=p.useMemo(()=>{const b=(e==null?void 0:e.grades)||[];if(!b.length)return 0;const x=b.reduce((v,S)=>v+Number(S.score||0),0),f=b.reduce((v,S)=>v+Number(S.outOf||0),0);return f?x/f*100:0},[e==null?void 0:e.grades]),m=b=>i(x=>({...x,[b]:!x[b]})),d=()=>{const b=e.posts||[];return b.length?n.jsx("div",{className:"space-y-3",children:b.map(x=>{var S;const f=!!c[x.id],v=x.body.length>180;return n.jsxs("div",{className:"panel-card",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3 mb-2",children:[n.jsx("h4",{className:"text-[15px] font-semibold text-text-primary",children:x.title}),n.jsx("span",{className:"flex-shrink-0 text-[12px] text-text-secondary",children:fn(x.date)})]}),n.jsx("p",{className:`text-[14px] text-text-secondary leading-[1.8] ${f?"":"clamp-3"}`,children:x.body}),((S=x.attachments)==null?void 0:S.length)>0&&n.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:x.attachments.map(k=>n.jsx("span",{className:"text-[12px] text-text-secondary border border-border bg-slate-50 px-2.5 py-1 rounded-sm",children:k},k))}),v&&n.jsx("button",{type:"button",onClick:()=>m(x.id),className:"mt-2 text-[12px] font-semibold text-primary hover:opacity-80 focus-ring",children:f?"":" "})]},x.id)})}):n.jsx(Sa,{title:"  ",description:"     .",compact:!0})},h=()=>{const b=e.homework||[];return b.length?n.jsx("div",{className:"space-y-3",children:b.map(x=>{const f=Gv[x.status]||{bg:"#F8FAFC",color:"#475569"};return n.jsxs("div",{className:"panel-card",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3 mb-2",children:[n.jsx("h4",{className:"text-[15px] font-semibold text-text-primary",children:x.title}),n.jsx("span",{className:"flex-shrink-0 text-[11px] font-semibold px-2 py-0.5 rounded-full",style:{background:f.bg,color:f.color},children:x.status})]}),n.jsxs("p",{className:"text-[13px] text-text-secondary",children:[" : ",Bv(x.dueDate)]}),x.attachment&&n.jsxs("p",{className:"mt-1 text-[13px] text-text-secondary",children:[": ",x.attachment]}),x.teacherComment&&n.jsxs("div",{className:"mt-3 bg-slate-50 border border-border rounded-sm px-3 py-2.5 text-[13px] text-text-secondary leading-relaxed",children:[" : ",x.teacherComment]})]},x.id)})}):n.jsx(Sa,{title:"  ",description:"     .",compact:!0})},w={homeworkCount:((j=e.homework)==null?void 0:j.length)||0,averageGrade:u,feedbackCount:((N=e.feedbackItems)==null?void 0:N.length)||0};return n.jsxs("main",{dir:"rtl",className:"min-h-screen bg-background",children:[n.jsx("div",{className:"sticky top-0 z-20 bg-surface border-b border-border",children:n.jsxs("div",{className:"max-w-[1200px] mx-auto px-6 py-3 flex items-center justify-between gap-4",children:[n.jsx("button",{type:"button",onClick:s,className:"action-btn focus-ring pressable",children:" "}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:"text-[12px] text-text-secondary hidden sm:inline",children:" :"}),n.jsx(Kv,{current:e,allSubjects:t,onSwitch:a})]})]})}),n.jsxs("div",{className:"max-w-[1200px] mx-auto px-6 py-8",children:[n.jsxs("div",{className:"surface-card mb-7 overflow-hidden",children:[n.jsx("div",{className:"h-1 w-full bg-primary"}),n.jsxs("div",{className:"flex items-center gap-5 p-6",children:[n.jsx("div",{className:"flex-shrink-0 w-20 h-20 flex items-center justify-center bg-slate-50 rounded-md border border-border",children:n.jsx("img",{src:e.image,alt:e.name,className:"w-14 h-14 object-contain"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"h2-premium",children:e.name}),n.jsxs("p",{className:"text-[14px] text-text-secondary mt-1",children:[": ",e.teacher]}),n.jsxs("p",{className:"text-[13px] text-text-secondary mt-0.5",children:[" : ",n.jsxs("strong",{className:"text-text-primary",children:[Number(u).toFixed(1),""]})]})]})]})]}),n.jsxs("div",{className:"grid gap-6 lg:grid-cols-[minmax(0,7fr)_minmax(0,3fr)]",children:[n.jsxs("div",{children:[n.jsx(Vv,{tabs:Qv,activeKey:l,onChange:o}),l==="posts"?d():l==="homework"?h():n.jsx(Wv,{rows:e.grades||[]})]}),n.jsx(Hv,{summary:w,recentFeedback:e.feedbackItems||[]})]})]})]})}const Jv="/edu-bridge/assets/arabic-DpzAsG7P.png",Zv="/edu-bridge/assets/biology-CLN4ZAM2.png",qv="/edu-bridge/assets/chemistry-CXjPhEZn.png",ey="/edu-bridge/assets/islamic-studies-BCn_swsR.png",Ao="/edu-bridge/assets/math-Bl34fPvW.png",ty="/edu-bridge/assets/physics-Dst6CiM8.png",ry="/edu-bridge/assets/social-studies-CLGdCg6t.png",ny="/edu-bridge/assets/english-CoFe_4wl.png",As={:Ao," ":Jv,:ty,:qv,:Zv," ":ry," ":ey," ":ny};function sy(e){if(!e)return Ao;if(As[e])return As[e];const t=Object.keys(As).find(r=>e.includes(r)||r.includes(e));return t?As[t]:Ao}const ay={academic:"",moral:"",behavior:"",idfk:""},Pu=e=>ay[String(e||"").trim().toLowerCase()]||e||"",at=["#2C7BE5","#00C853","#FFB300","#D32F2F","#8B5CF6","#F97316","#14B8A6"],ly={improving:" ",declining:" ",stable:""},Om={low:{label:"",color:"#00C853"},medium:{label:"",color:"#FFB300"},high:{label:"",color:"#D32F2F"}},oy={active:" ",moderate:"",low:" "},ln={:{bg:"#EFF6FF",c:"#2C7BE5"},:{bg:"#FFFBEB",c:"#D97706"},:{bg:"#F0FDF4",c:"#00C853"},:{bg:"#F8FAFC",c:"#475569"}},iy={1:"",2:"",3:"",4:"",5:""},Lu=["#2C7BE5","#00C853","#FFB300","#D32F2F","#8B5CF6","#F97316","#14B8A6","#EC4899"],Mu=["",""," "," "," ","",""," "," "];function cy(e){return[...e].sort((t,r)=>{const s=Mu.findIndex(c=>{var i;return((i=t.name)==null?void 0:i.includes(c))||c.includes(t.name||"")}),a=Mu.findIndex(c=>{var i;return((i=r.name)==null?void 0:i.includes(c))||c.includes(r.name||"")});return(s===-1?999:s)-(a===-1?999:a)})}const Ee={dashboard:"dashboard",grades:"grades",schedule:"schedule",ai:"ai",notes:"notes",profile:"profile"},uy=[{id:Ee.dashboard,label:"",icon:""},{id:Ee.grades,label:"",icon:""},{id:Ee.schedule,label:" ",icon:""},{id:Ee.ai,label:" ",icon:""},{id:Ee.notes,label:"",icon:""},{id:Ee.profile,label:"",icon:""}];function Qa({d:e,size:t=18}){return n.jsx("svg",{viewBox:"0 0 24 24",fill:"none",style:{width:t,height:t,flexShrink:0},"aria-hidden":"true",children:n.jsx("path",{d:e,stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}const dy=()=>n.jsx(Qa,{d:"M12 3a4 4 0 0 0-4 4v2.2c0 .8-.2 1.6-.7 2.3L6 13.4v1.1h12v-1.1l-1.3-1.9a4.2 4.2 0 0 1-.7-2.3V7a4 4 0 0 0-4-4Zm-2 14a2 2 0 0 0 4 0"}),Ga=()=>n.jsx(Qa,{d:"m15 18-6-6 6-6"}),Dm=()=>n.jsx(Qa,{d:"m9 18 6-6-6-6"}),py=()=>n.jsx(Qa,{d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"});function my({studentName:e,avatarUrl:t,notifCount:r,onLogout:s}){return n.jsx("nav",{className:"premium-topnav",children:n.jsxs("div",{className:"premium-topnav-inner",children:[n.jsxs("div",{className:"nav-identity",children:[t?n.jsx("img",{src:t,alt:e,className:"nav-avatar"}):n.jsx("div",{className:"nav-avatar-placeholder",children:(e==null?void 0:e[0])||""}),n.jsx("div",{className:"nav-student-info",children:n.jsx("span",{className:"nav-student-name",children:e})})]}),n.jsx("div",{style:{flex:1}}),n.jsxs("div",{className:"nav-actions",children:[n.jsxs("button",{type:"button","aria-label":"",className:"nav-action-btn relative",children:[n.jsx(dy,{}),r>0&&n.jsx("span",{className:"nav-badge",children:r>9?"9+":r})]}),n.jsxs("button",{type:"button",onClick:s,className:"nav-action-btn nav-logout",children:[n.jsx(py,{}),n.jsx("span",{className:"nav-logout-label",children:""})]})]})]})})}function fy({activeTab:e,onTabChange:t}){const r=p.useRef(null),[s,a]=p.useState(!1),[l,o]=p.useState(!1),c=p.useCallback(()=>{const u=r.current;u&&(a(u.scrollLeft>4),o(u.scrollLeft<u.scrollWidth-u.clientWidth-4))},[]);p.useEffect(()=>{const u=r.current;if(!u)return;c(),u.addEventListener("scroll",c,{passive:!0});const m=new ResizeObserver(c);return m.observe(u),()=>{u.removeEventListener("scroll",c),m.disconnect()}},[c]);const i=u=>{var m;(m=r.current)==null||m.scrollBy({left:u*-160,behavior:"smooth"})};return n.jsxs("div",{className:"tabbar-wrap",children:[s&&n.jsx("button",{type:"button",className:"tabbar-scroll-arrow tabbar-scroll-arrow-start",onClick:()=>i(-1),"aria-label":" ",children:n.jsx(Dm,{})}),n.jsx("div",{ref:r,className:"tabbar-inner",role:"tablist",children:uy.map(u=>n.jsxs("button",{role:"tab","aria-selected":e===u.id,type:"button",onClick:()=>t(u.id),className:`tabbar-tab ${e===u.id?"tabbar-tab-active":""}`,children:[n.jsx("span",{className:"tabbar-icon",children:u.icon}),n.jsx("span",{children:u.label}),e===u.id&&n.jsx("span",{className:"tabbar-underline"})]},u.id))}),l&&n.jsx("button",{type:"button",className:"tabbar-scroll-arrow tabbar-scroll-arrow-end",onClick:()=>i(1),"aria-label":" ",children:n.jsx(Ga,{})})]})}function hy({subjects:e,onSelect:t}){const r=p.useRef(null),s=p.useRef(!1),a=p.useRef(0),l=p.useRef(0),o=p.useRef(0),c=p.useRef(0),i=p.useRef(0),u=p.useRef(null),m=p.useCallback(j=>{s.current=!0,a.current=j.pageX-r.current.offsetLeft,l.current=r.current.scrollLeft,o.current=0,c.current=j.pageX,i.current=Date.now(),r.current.style.cursor="grabbing",cancelAnimationFrame(u.current)},[]),d=p.useCallback(j=>{if(!s.current)return;j.preventDefault();const N=Date.now(),b=N-i.current||1,x=j.pageX-c.current;o.current=x/b,c.current=j.pageX,i.current=N;const v=(j.pageX-r.current.offsetLeft-a.current)*1.2;r.current.scrollLeft=l.current-v},[]),h=p.useCallback(()=>{if(!s.current)return;s.current=!1,r.current&&(r.current.style.cursor="grab");let j=o.current*16;const N=()=>{r.current&&(j*=.93,!(Math.abs(j)<.5)&&(r.current.scrollLeft-=j,u.current=requestAnimationFrame(N)))};u.current=requestAnimationFrame(N)},[]),w=j=>{var N;(N=r.current)==null||N.scrollBy({left:j*-280,behavior:"smooth"})};return n.jsxs("div",{className:"carousel-wrapper",children:[n.jsx("button",{type:"button",className:"carousel-arrow carousel-arrow-start",onClick:()=>w(-1),"aria-label":"",children:n.jsx(Dm,{})}),n.jsx("div",{ref:r,className:"carousel-track",onMouseDown:m,onMouseMove:d,onMouseUp:h,onMouseLeave:h,children:e.map((j,N)=>{const b=at[N%at.length];return n.jsxs("button",{type:"button",draggable:!1,className:"carousel-card",onClick:()=>t(j.id),style:{"--accent":b},children:[n.jsx("div",{className:"carousel-card-accent-bar",style:{background:b}}),n.jsx("div",{className:"carousel-card-img-zone",children:n.jsx("img",{src:j.image,alt:j.name,draggable:!1,className:"carousel-card-img"})}),n.jsxs("div",{className:"carousel-card-info",children:[n.jsx("p",{className:"carousel-card-name",children:j.name}),n.jsx("p",{className:"carousel-card-teacher",children:j.teacher}),n.jsx("p",{className:"carousel-card-cta",style:{color:b},children:"  "})]}),n.jsx("div",{className:"carousel-card-hover-glow",style:{"--accent":b}})]},j.id)})}),n.jsx("button",{type:"button",className:"carousel-arrow carousel-arrow-end",onClick:()=>w(1),"aria-label":"",children:n.jsx(Ga,{})})]})}function xy({subjects:e,feedback:t,onTabChange:r}){const s=e.reduce((c,i)=>{var u;return c+(((u=i.homework)==null?void 0:u.length)||0)},0),a=e.reduce((c,i)=>c+(i.homework||[]).filter(u=>u.status==="").length,0),l=t[0]||null,o=l?ln[l.category]||ln.:null;return n.jsxs("div",{className:"summary-cards-row",children:[n.jsxs("div",{className:"summary-card",children:[n.jsxs("div",{className:"summary-card-header",children:[n.jsx("div",{className:"summary-card-icon",style:{background:"#F0FDF4",color:"#00C853"},children:""}),n.jsxs("div",{children:[n.jsx("p",{className:"summary-card-title",children:""}),n.jsx("p",{className:"summary-card-sub",children:a>0?`${a}   ${s}`:`${s} `})]})]}),s>0&&n.jsx("div",{className:"summary-progress-track",children:n.jsx("div",{className:"summary-progress-fill",style:{width:`${s?a/s*100:0}%`,background:"#00C853"}})})]}),n.jsxs("button",{type:"button",className:"summary-card summary-card-clickable",onClick:()=>r(Ee.notes),children:[n.jsxs("div",{className:"summary-card-header",children:[n.jsx("div",{className:"summary-card-icon",style:{background:"#FFF7ED",color:"#F97316"},children:""}),n.jsxs("div",{children:[n.jsx("p",{className:"summary-card-title",children:""}),n.jsxs("p",{className:"summary-card-sub",children:[t.length,"    "]})]})]}),l?n.jsxs("div",{className:"summary-feedback-preview",children:[n.jsxs("div",{className:"summary-feedback-top",children:[n.jsx("span",{className:"summary-feedback-subject",children:l.subjectName}),n.jsx("span",{className:"summary-feedback-badge",style:{background:o.bg,color:o.c},children:l.category}),n.jsx("span",{className:"summary-feedback-date",children:fn(l.date)})]}),n.jsx("p",{className:"summary-feedback-text clamp-2",children:l.preview})]}):n.jsx("p",{className:"summary-empty-hint",children:"   "})]})]})}function gy({studentName:e,className:t,avatarUrl:r}){const s=new Date().getHours(),a=s<12?" ":s<17?" ":" ";return n.jsxs("div",{className:"welcome-card",children:[n.jsx("div",{className:"welcome-card-bg"}),n.jsxs("div",{className:"welcome-card-content",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"welcome-greeting",children:[a,""]}),n.jsx("h1",{className:"welcome-name",children:e}),t&&n.jsxs("p",{className:"welcome-class",children:[" ",t]}),n.jsx("p",{className:"welcome-subtitle",children:"     "})]}),n.jsx("div",{className:"welcome-avatar-wrap",children:r?n.jsx("img",{src:r,alt:e,className:"welcome-avatar"}):n.jsx("div",{className:"welcome-avatar-placeholder",children:(e==null?void 0:e[0])||""})})]})]})}function vy({portalData:e,subjects:t,onSelectSubject:r,onTabChange:s}){const a=(e==null?void 0:e.recentFeedback)||[],l=e==null?void 0:e.weeklySnapshot,o=a.slice(0,3);return n.jsxs("div",{className:"tab-content fade-in-up",children:[n.jsx(xy,{subjects:t,feedback:a,onTabChange:s}),n.jsxs("section",{className:"section-block",children:[n.jsxs("div",{className:"section-header",children:[n.jsx("h2",{className:"section-title-premium",children:" "}),n.jsx("p",{className:"section-subtitle-premium",children:"    "})]}),t.length>0?n.jsx(hy,{subjects:t,onSelect:r}):n.jsx("div",{className:"empty-card",children:n.jsx("p",{className:"empty-title",children:"   "})})]}),n.jsxs("div",{className:"dashboard-bottom-grid",children:[n.jsxs("div",{className:"section-block",children:[n.jsxs("div",{className:"section-header",children:[n.jsx("h3",{className:"section-title-sm",children:" "}),a.length>0&&n.jsxs("button",{type:"button",className:"view-all-btn",onClick:()=>s(Ee.notes),children:["  (",a.length,")"]})]}),o.length?n.jsx("div",{className:"notes-list",children:o.map(c=>{const i=ln[c.category]||ln.;return n.jsxs("div",{className:"note-row",children:[n.jsx("div",{className:"note-dot",style:{background:i.c}}),n.jsxs("div",{className:"note-body",children:[n.jsxs("div",{className:"note-header",children:[n.jsx("span",{className:"note-subject",children:c.subjectName}),n.jsx("span",{className:"note-badge",style:{background:i.bg,color:i.c},children:c.category})]}),n.jsx("p",{className:"note-preview clamp-2",children:c.preview})]}),n.jsx("span",{className:"note-date",children:fn(c.date)})]},c.id)})}):n.jsx("div",{className:"empty-card-sm",children:n.jsx("p",{className:"empty-hint",children:"   "})})]}),l&&n.jsxs("div",{className:"ai-entry-card",onClick:()=>s(Ee.ai),children:[n.jsx("div",{className:"ai-entry-icon",children:""}),n.jsxs("div",{className:"ai-entry-info",children:[n.jsx("p",{className:"ai-entry-title",children:"  "}),n.jsxs("p",{className:"ai-entry-sub",children:[ly[l.academicDirection]||"",l.riskStatus&&`   ${(Om[l.riskStatus]||{}).label||""}`]})]}),n.jsx("div",{className:"ai-entry-arrow",children:n.jsx(Ga,{})})]})]})]})}function yy({subjects:e}){const[t,r]=p.useState(0),s=e[t],a=p.useMemo(()=>{if(!s)return 0;const c=s.grades||[],i=c.reduce((m,d)=>m+Number(d.score||0),0),u=c.reduce((m,d)=>m+Number(d.outOf||0),0);return u?i/u*100:0},[s,t]),l=a>=90?{label:"",color:"#00C853",bg:"#F0FDF4"}:a>=80?{label:" ",color:"#2C7BE5",bg:"#EFF6FF"}:a>=70?{label:"",color:"#FFB300",bg:"#FFFBEB"}:a>=60?{label:"",color:"#F97316",bg:"#FFF7ED"}:{label:" ",color:"#D32F2F",bg:"#FEF2F2"};if(!e.length)return n.jsx("div",{className:"tab-content fade-in-up",children:n.jsx("div",{className:"empty-card",children:n.jsx("p",{className:"empty-title",children:"  "})})});const o=(s==null?void 0:s.grades)||[];return o.filter(c=>c.type==="exam"||!c.type),o.filter(c=>c.type==="assignment"),o.filter(c=>c.type==="quiz"),n.jsxs("div",{className:"tab-content fade-in-up",children:[n.jsxs("div",{className:"tab-page-header",children:[n.jsx("h2",{className:"tab-page-title",children:""}),n.jsx("p",{className:"tab-page-sub",children:"    "})]}),n.jsx("div",{className:"subject-pills-scroll",children:e.map((c,i)=>{const u=at[i%at.length];return n.jsxs("button",{type:"button",onClick:()=>r(i),className:`subject-pill ${t===i?"subject-pill-active":""}`,style:t===i?{background:u,borderColor:u,color:"#fff"}:{},children:[n.jsx("img",{src:c.image,alt:"",className:"subject-pill-img"}),c.name]},c.id)})}),s&&n.jsxs("div",{className:"grades-display fade-in-up",children:[n.jsxs("div",{className:"grade-subject-header",children:[n.jsxs("div",{className:"grade-subject-left",children:[n.jsx("img",{src:s.image,alt:s.name,className:"grade-subject-img"}),n.jsxs("div",{children:[n.jsx("h3",{className:"grade-subject-name",children:s.name}),n.jsx("p",{className:"grade-subject-teacher",children:s.teacher})]})]}),n.jsxs("div",{className:"grade-subject-right",children:[n.jsx("span",{className:"grade-badge",style:{background:l.bg,color:l.color},children:l.label}),n.jsxs("p",{className:"grade-avg",style:{color:at[t%at.length]},children:[kt(a,1),""]})]})]}),n.jsx("div",{className:"grade-progress-wrap",children:n.jsx("div",{className:"grade-progress-track",children:n.jsx("div",{className:"grade-progress-fill",style:{width:`${a}%`,background:at[t%at.length]}})})}),o.length===0?n.jsx("div",{className:"empty-card-sm",children:n.jsx("p",{className:"empty-hint",children:"   "})}):n.jsx("div",{className:"grades-table-wrap",children:n.jsxs("table",{className:"grades-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:""}),n.jsx("th",{children:""}),n.jsx("th",{children:" "}),n.jsx("th",{children:""})]})}),n.jsx("tbody",{children:o.map((c,i)=>{const u=c.outOf?Number(c.score)/Number(c.outOf)*100:0,m=u>=90?"#00C853":u>=70?"#2C7BE5":u>=50?"#FFB300":"#D32F2F";return n.jsxs("tr",{className:"grade-row",children:[n.jsx("td",{className:"grade-cell-name",children:c.name||c.label||` ${i+1}`}),n.jsx("td",{className:"grade-cell-score",style:{color:m},children:c.score}),n.jsx("td",{className:"grade-cell-out",children:c.outOf}),n.jsx("td",{children:n.jsxs("span",{className:"grade-pct-badge",style:{background:`${m}15`,color:m},children:[kt(u,1),""]})})]},i)})})]})})]},s.id)]})}function by({token:e}){const[t,r]=p.useState(!0),[s,a]=p.useState(""),[l,o]=p.useState({className:"",entries:[],schoolDays:[1,2,3,4,5]});p.useEffect(()=>{let m=!0;return(async()=>{try{r(!0),a("");const h=await gm(e);if(!m)return;o({className:h.className||"",entries:h.entries||[],schoolDays:h.schoolDays||[1,2,3,4,5]})}catch(h){m&&a((h==null?void 0:h.message)||"   .")}finally{m&&r(!1)}})(),()=>{m=!1}},[e]);const c=p.useMemo(()=>[...new Set((l.entries||[]).map(d=>`${d.startTime}-${d.endTime}`))].sort((d,h)=>String(d).localeCompare(String(h))),[l.entries]),i=p.useMemo(()=>{const m={};return(l.entries||[]).forEach(d=>{m[`${d.dayOfWeek}-${d.startTime}-${d.endTime}`]=d}),m},[l.entries]),u=p.useMemo(()=>{const m={};let d=0;return(l.entries||[]).forEach(h=>{h.subject&&!m[h.subject]&&(m[h.subject]=Lu[d%Lu.length],d++)}),m},[l.entries]);return n.jsxs("div",{className:"tab-content fade-in-up",children:[n.jsxs("div",{className:"tab-page-header",children:[n.jsx("h2",{className:"tab-page-title",children:" "}),l.className&&n.jsxs("p",{className:"tab-page-sub",children:[" ",l.className]})]}),s&&n.jsx("div",{className:"error-banner-premium",children:s}),t?n.jsx("div",{className:"sched-skeleton",children:[1,2,3,4].map(m=>n.jsx("div",{className:"skeleton-row"},m))}):l.entries.length?n.jsx("div",{className:"schedule-card",children:n.jsx("div",{className:"schedule-table-wrap",children:n.jsxs("table",{className:"schedule-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{className:"sched-time-col",children:""}),l.schoolDays.map(m=>n.jsx("th",{className:"sched-day-col",children:iy[m]||m},m))]})}),n.jsx("tbody",{children:c.map((m,d)=>{const[h,w]=m.split("-");return n.jsxs("tr",{className:`sched-row ${d%2===0?"":"sched-row-alt"}`,children:[n.jsxs("td",{className:"sched-time",children:[h,"  ",w]}),l.schoolDays.map(j=>{const N=i[`${j}-${h}-${w}`],b=N?u[N.subject]||"#2C7BE5":null;return n.jsx("td",{className:"sched-cell",children:N?n.jsxs("div",{className:"sched-entry",style:{borderRightColor:b},children:[n.jsx("p",{className:"sched-entry-subject",children:N.subject}),N.teacherName&&n.jsx("p",{className:"sched-entry-teacher",children:N.teacherName}),N.room&&n.jsx("p",{className:"sched-entry-room",children:N.room})]}):n.jsx("div",{className:"sched-empty-cell"})},`${j}-${m}`)})]},m)})})]})})}):n.jsxs("div",{className:"empty-card",children:[n.jsx("div",{className:"empty-icon",children:""}),n.jsx("p",{className:"empty-title",children:"    "}),n.jsx("p",{className:"empty-hint",children:"       ."})]})]})}function _u({pct:e=0,color:t="#2C7BE5",size:r=80,stroke:s=6}){const a=(r-s)/2,l=2*Math.PI*a,o=e/100*l;return n.jsxs("svg",{width:r,height:r,style:{transform:"rotate(-90deg)",flexShrink:0},children:[n.jsx("circle",{cx:r/2,cy:r/2,r:a,fill:"none",stroke:"#F1F5F9",strokeWidth:s}),n.jsx("circle",{cx:r/2,cy:r/2,r:a,fill:"none",stroke:t,strokeWidth:s,strokeDasharray:`${o} ${l}`,strokeLinecap:"round",style:{transition:"stroke-dasharray 1.2s cubic-bezier(0.16,1,0.3,1)"}})]})}function jy({snap:e,subjects:t,portalData:r}){if(!e)return n.jsx("div",{className:"tab-content fade-in-up",children:n.jsxs("div",{className:"empty-card",children:[n.jsx("div",{className:"empty-icon",children:""}),n.jsx("p",{className:"empty-title",children:"    "}),n.jsx("p",{className:"empty-hint",children:"      ."})]})});const s=Om[e.riskStatus]||{label:e.riskStatus||"",color:"#475569"},a=oy[e.parentEngagementStatus]||e.parentEngagementStatus||"",l={active:"#00C853",moderate:"#FFB300",low:"#D32F2F"}[e.parentEngagementStatus]||"#64748B",o={active:88,moderate:55,low:20}[e.parentEngagementStatus]||50,c={low:25,medium:60,high:90}[e.riskStatus]||50,i=(t||[]).map(N=>{const b=N.grades||[],x=b.reduce((S,k)=>S+Number(k.score||0),0),f=b.reduce((S,k)=>S+Number(k.outOf||0),0),v=f?x/f*100:null;return{...N,avg:v}}).filter(N=>N.avg!==null).sort((N,b)=>b.avg-N.avg),u=(t||[]).flatMap(N=>N.grades||[]),m=u.reduce((N,b)=>N+Number(b.score||0),0),d=u.reduce((N,b)=>N+Number(b.outOf||0),0),h=d?m/d*100:0;r!=null&&r.recentFeedback;const w={improving:{label:"  ",bg:"#F0FDF4",color:"#00C853"},declining:{label:"  ",bg:"#FEF2F2",color:"#D32F2F"},stable:{label:" ",bg:"#F8FAFC",color:"#64748B"}},j=w[e.academicDirection]||w.stable;return n.jsxs("div",{className:"tab-content fade-in-up",children:[n.jsxs("div",{className:"tab-page-header",children:[n.jsx("h2",{className:"tab-page-title",children:"   "}),n.jsx("p",{className:"tab-page-sub",children:"   "})]}),n.jsxs("div",{className:"ai-kpi-row",children:[n.jsxs("div",{className:"ai-kpi-card",children:[n.jsxs("p",{className:"ai-kpi-value",style:{color:"#2C7BE5"},children:[kt(h,1),""]}),n.jsx("p",{className:"ai-kpi-label",children:" "})]}),n.jsxs("div",{className:"ai-kpi-card",children:[n.jsx("p",{className:"ai-kpi-value",style:{color:j.color},children:j.label}),n.jsx("p",{className:"ai-kpi-label",children:" "})]}),n.jsxs("div",{className:"ai-kpi-card",children:[n.jsx("p",{className:"ai-kpi-value",style:{color:s.color},children:s.label}),n.jsx("p",{className:"ai-kpi-label",children:" "})]}),n.jsxs("div",{className:"ai-kpi-card",children:[n.jsx("p",{className:"ai-kpi-value",style:{color:l},children:a}),n.jsx("p",{className:"ai-kpi-label",children:"  "})]})]}),n.jsxs("div",{className:"ai-main-grid",children:[n.jsxs("div",{className:"ai-left-col",children:[i.length>0&&n.jsxs("div",{className:"ai-block",children:[n.jsx("h3",{className:"ai-block-title",children:"   "}),n.jsx("div",{className:"ai-bars-list",children:i.map((N,b)=>{const x=at[b%at.length],f=N.avg??0,v=f>=90?"":f>=80?" ":f>=70?"":f>=60?"":" ";return n.jsxs("div",{className:"ai-bar-row",children:[n.jsx("img",{src:N.image,alt:N.name,className:"ai-bar-img"}),n.jsxs("div",{className:"ai-bar-info",children:[n.jsxs("div",{className:"ai-bar-header",children:[n.jsx("span",{className:"ai-bar-name",children:N.name}),n.jsxs("div",{className:"ai-bar-meta",children:[n.jsx("span",{className:"ai-bar-badge",style:{background:`${x}18`,color:x},children:v}),n.jsxs("span",{className:"ai-bar-pct",style:{color:x},children:[kt(f,1),""]})]})]}),n.jsx("div",{className:"ai-bar-track",children:n.jsx("div",{className:"ai-bar-fill grade-fill",style:{width:`${f}%`,background:x}})})]})]},N.id)})})]}),e.attendancePattern&&n.jsxs("div",{className:"ai-block",style:{borderTop:"2px solid #2C7BE5"},children:[n.jsx("h3",{className:"ai-block-title",children:"  "}),n.jsx("p",{className:"ai-block-text",children:e.attendancePattern})]})]}),n.jsxs("div",{className:"ai-right-col",children:[n.jsxs("div",{className:"ai-block",children:[n.jsx("h3",{className:"ai-block-title",children:"  "}),n.jsxs("div",{className:"ai-gauges",children:[n.jsxs("div",{className:"ai-gauge-row",children:[n.jsx(_u,{pct:c,color:s.color,size:72,stroke:6}),n.jsxs("div",{children:[n.jsx("p",{className:"ai-gauge-label",children:"  "}),n.jsx("p",{className:"ai-gauge-value",style:{color:s.color},children:s.label})]})]}),n.jsx("div",{className:"ai-gauge-divider"}),n.jsxs("div",{className:"ai-gauge-row",children:[n.jsx(_u,{pct:o,color:l,size:72,stroke:6}),n.jsxs("div",{children:[n.jsx("p",{className:"ai-gauge-label",children:"  "}),n.jsx("p",{className:"ai-gauge-value",style:{color:l},children:a})]})]})]})]}),i.length>0&&n.jsxs("div",{className:"ai-block",children:[n.jsx("h3",{className:"ai-block-title",children:"   "}),n.jsx("div",{className:"ai-top-subjects",children:i.slice(0,4).map((N,b)=>{const x=["","","",""];return n.jsxs("div",{className:"ai-top-row",children:[n.jsx("span",{className:"ai-top-medal",children:x[b]||""}),n.jsx("span",{className:"ai-top-name",children:N.name}),n.jsxs("span",{className:"ai-top-pct",style:{color:at[b%at.length]},children:[kt(N.avg,1),""]})]},N.id)})})]})]})]})]})}function Ny({feedback:e}){const[t,r]=p.useState({}),s=a=>r(l=>({...l,[a]:!l[a]}));return n.jsxs("div",{className:"tab-content fade-in-up",children:[n.jsxs("div",{className:"tab-page-header",children:[n.jsx("h2",{className:"tab-page-title",children:""}),n.jsx("span",{className:"tab-count-badge",children:e.length})]}),e.length?n.jsx("div",{className:"notes-grid",children:e.map(a=>{const l=ln[a.category]||ln.,o=t[a.id],c=(a.preview||"").length>120;return n.jsxs("div",{className:"note-card",children:[n.jsxs("div",{className:"note-card-header",children:[n.jsxs("div",{children:[n.jsx("p",{className:"note-card-subject",children:a.subjectName}),n.jsx("p",{className:"note-card-date",children:fn(a.date)})]}),n.jsx("span",{className:"note-card-badge",style:{background:l.bg,color:l.c},children:a.category})]}),n.jsx("p",{className:`note-card-text ${o||!c?"":"clamp-3"}`,children:a.preview}),c&&n.jsx("button",{type:"button",className:"note-expand-btn",onClick:()=>s(a.id),children:o?"":" "})]},a.id)})}):n.jsxs("div",{className:"empty-card",children:[n.jsx("div",{className:"empty-icon",children:""}),n.jsx("p",{className:"empty-title",children:"  "}),n.jsx("p",{className:"empty-hint",children:"   ."})]})]})}function wy({portalData:e,subjects:t,user:r,avatarUrl:s,studentName:a,className:l,onTabChange:o}){const c=t.flatMap(h=>h.grades||[]),i=c.reduce((h,w)=>h+Number(w.score||0),0),u=c.reduce((h,w)=>h+Number(w.outOf||0),0),m=u?i/u*100:0,d=(e==null?void 0:e.recentFeedback)||[];return n.jsxs("div",{className:"tab-content fade-in-up",children:[n.jsx("div",{className:"tab-page-header",children:n.jsx("h2",{className:"tab-page-title",children:" "})}),n.jsxs("div",{className:"profile-layout",children:[n.jsxs("div",{className:"profile-card",children:[n.jsx("div",{className:"profile-avatar-wrap",children:s?n.jsx("img",{src:s,alt:a,className:"profile-avatar"}):n.jsx("div",{className:"profile-avatar-placeholder",children:(a==null?void 0:a[0])||""})}),n.jsx("h3",{className:"profile-name",children:a}),l&&n.jsxs("p",{className:"profile-class",children:[" ",l]}),(r==null?void 0:r.email)&&n.jsx("p",{className:"profile-email",children:r.email})]}),n.jsxs("div",{className:"profile-stats-col",children:[n.jsxs("div",{className:"profile-stat-card",children:[n.jsx("span",{className:"profile-stat-icon",children:""}),n.jsxs("div",{children:[n.jsxs("p",{className:"profile-stat-value",style:{color:"#2C7BE5"},children:[kt(m,1),""]}),n.jsx("p",{className:"profile-stat-label",children:" "})]})]}),n.jsxs("div",{className:"profile-stat-card",children:[n.jsx("span",{className:"profile-stat-icon",children:""}),n.jsxs("div",{children:[n.jsx("p",{className:"profile-stat-value",style:{color:"#8B5CF6"},children:t.length}),n.jsx("p",{className:"profile-stat-label",children:" "})]})]}),n.jsxs("div",{className:"profile-stat-card",children:[n.jsx("span",{className:"profile-stat-icon",children:""}),n.jsxs("div",{children:[n.jsx("p",{className:"profile-stat-value",style:{color:"#F97316"},children:d.length}),n.jsx("p",{className:"profile-stat-label",children:""})]})]}),n.jsxs("button",{type:"button",className:"profile-ai-btn",onClick:()=>o(Ee.ai),children:[n.jsx("span",{children:""}),n.jsx("span",{children:"  "}),n.jsx(Ga,{})]})]})]})]})}function ky(){var A,F,_,M;const e=pr(),{token:t,user:r,logout:s}=xe(),[a,l]=p.useState(!0),[o,c]=p.useState(""),[i,u]=p.useState(null),[m,d]=p.useState(Ee.dashboard),[h,w]=p.useState(null);p.useEffect(()=>{let L=!0;return t?(async()=>{try{l(!0),c("");const T=await j0(t);if(!L)return;u({...T,subjects:cy((T.subjects||[]).map(W=>({...W,image:sy(W.name),feedbackItems:(W.feedbackItems||[]).map(Q=>({...Q,category:Pu(Q.category)}))}))),recentFeedback:(T.recentFeedback||[]).map(W=>({...W,category:Pu(W.category)}))})}catch(T){L&&(c((T==null?void 0:T.message)||"  ."),u(null))}finally{L&&l(!1)}})():l(!1),()=>{L=!1}},[t]);const j=(i==null?void 0:i.subjects)||[],N=p.useMemo(()=>h&&j.find(L=>L.id===h)||null,[h,j]),b=()=>{s(),e("/login",{replace:!0})},x=L=>{w(L)},f=()=>{w(null)},v=((A=i==null?void 0:i.student)==null?void 0:A.name)||(r==null?void 0:r.name)||"",S=((F=i==null?void 0:i.student)==null?void 0:F.className)||((_=r==null?void 0:r.classes)==null?void 0:_[0])||"",k=((M=i==null?void 0:i.student)==null?void 0:M.avatarUrl)||(r==null?void 0:r.profilePicture)||"",P=((i==null?void 0:i.recentFeedback)||[]).length;if(N)return n.jsx(Xv,{subject:N,allSubjects:j,subjectDetails:{},recentFeedback:(i==null?void 0:i.recentFeedback)||[],onBack:f,onSwitch:L=>w(L)});const R=L=>{d(L),window.scrollTo({top:0,behavior:"smooth"})};return n.jsxs(n.Fragment,{children:[n.jsx("style",{children:Sy}),n.jsxs("main",{dir:"rtl",className:"portal-root",children:[n.jsx(my,{studentName:v,avatarUrl:k,notifCount:P,onLogout:b}),n.jsxs("div",{className:"portal-content",children:[n.jsx(gy,{studentName:v,className:S,avatarUrl:k}),n.jsx(fy,{activeTab:m,onTabChange:R}),o&&n.jsx("div",{className:"error-banner-premium",children:o}),a?n.jsxs("div",{className:"loading-grid",children:[n.jsx("div",{className:"loading-bar",style:{height:88}}),n.jsx("div",{className:"loading-row",children:[1,2,3,4].map(L=>n.jsx("div",{className:"skeleton-card"},L))}),n.jsx("div",{className:"loading-bar",style:{height:240}})]}):n.jsxs(n.Fragment,{children:[m===Ee.dashboard&&n.jsx(vy,{portalData:i,subjects:j,onSelectSubject:x,onTabChange:R}),m===Ee.grades&&n.jsx(yy,{subjects:j}),m===Ee.schedule&&n.jsx(by,{token:t}),m===Ee.ai&&n.jsx(jy,{snap:i==null?void 0:i.weeklySnapshot,subjects:j,portalData:i}),m===Ee.notes&&n.jsx(Ny,{feedback:(i==null?void 0:i.recentFeedback)||[]}),m===Ee.profile&&n.jsx(wy,{portalData:i,subjects:j,user:r,avatarUrl:k,studentName:v,className:S,onTabChange:R})]})]})]})]})}const Sy=`
/*  Root  */
.portal-root {
  min-height: 100dvh;
  background: #F5F6FA;
  font-family: 'Cairo', sans-serif;
}

/*  Top Nav  slim identity bar only  */
.premium-topnav {
  position: sticky;
  top: 0;
  z-index: 50;
  background: rgba(255,255,255,0.97);
  backdrop-filter: blur(12px);
  border-bottom: 1px solid #E8ECF4;
  box-shadow: 0 1px 8px rgba(15,23,42,0.05);
}
.premium-topnav-inner {
  max-width: 1360px;
  margin: 0 auto;
  padding: 0 32px;
  height: 52px;
  display: flex;
  align-items: center;
  gap: 16px;
}
.nav-identity {
  display: flex;
  align-items: center;
  gap: 10px;
  flex-shrink: 0;
}
.nav-avatar {
  width: 32px; height: 32px;
  border-radius: 50%;
  object-fit: cover;
  border: 2px solid #E8ECF4;
}
.nav-avatar-placeholder {
  width: 32px; height: 32px;
  border-radius: 50%;
  background: #EFF6FF;
  border: 2px solid #BFDBFE;
  display: flex; align-items: center; justify-content: center;
  font-weight: 700; font-size: 13px; color: #2C7BE5;
}
.nav-student-name { font-size: 13px; font-weight: 700; color: #0F172A; }
.nav-actions { display: flex; align-items: center; gap: 6px; }
.nav-action-btn {
  display: flex; align-items: center; gap: 6px;
  padding: 6px 10px;
  border: 1px solid #E8ECF4; border-radius: 8px;
  background: #F8FAFC; cursor: pointer;
  font-family: 'Cairo', sans-serif; font-size: 13px; font-weight: 600; color: #475569;
  transition: all 180ms ease;
}
.nav-action-btn:hover { background: #EFF6FF; border-color: #BFDBFE; color: #2C7BE5; transform: translateY(-1px); }
.nav-badge {
  position: absolute; top: -4px; left: -4px;
  min-width: 16px; height: 16px;
  background: #D32F2F; color: #fff;
  font-size: 9px; font-weight: 700; border-radius: 999px;
  display: flex; align-items: center; justify-content: center; padding: 0 3px;
}
.nav-logout { color: #D32F2F; }
.nav-logout:hover { background: #FEF2F2 !important; border-color: #FECACA !important; color: #D32F2F !important; }
.nav-logout-label { font-size: 13px; }

/*  Tab Bar  below welcome card  */
.tabbar-wrap {
  position: relative;
  display: flex;
  align-items: center;
  background: #fff;
  border: 1px solid #E8ECF4;
  border-radius: 16px;
  padding: 6px;
  margin-bottom: 28px;
  box-shadow: 0 2px 12px rgba(15,23,42,0.05);
  gap: 4px;
}
.tabbar-inner {
  flex: 1;
  display: flex;
  align-items: center;
  gap: 4px;
  overflow-x: auto;
  scrollbar-width: none;
  scroll-behavior: smooth;
}
.tabbar-inner::-webkit-scrollbar { display: none; }
.tabbar-tab {
  position: relative;
  display: flex; align-items: center; gap: 8px;
  padding: 10px 18px;
  border: none; background: none; cursor: pointer;
  font-family: 'Cairo', sans-serif;
  font-size: 14px; font-weight: 600;
  color: #64748B;
  border-radius: 11px;
  transition: color 200ms ease, background 200ms ease;
  white-space: nowrap;
  flex-shrink: 0;
}
.tabbar-tab:hover { color: #0F172A; background: #F8FAFC; }
.tabbar-tab-active {
  color: #2C7BE5 !important;
  background: #EFF6FF !important;
  font-weight: 700;
}
.tabbar-icon { font-size: 16px; }
.tabbar-underline {
  position: absolute;
  bottom: 4px; left: 12px; right: 12px;
  height: 2px;
  background: #2C7BE5;
  border-radius: 2px;
  animation: slideIn 220ms cubic-bezier(0.16,1,0.3,1);
}
@keyframes slideIn {
  from { transform: scaleX(0); opacity: 0; }
  to   { transform: scaleX(1); opacity: 1; }
}
/* Scroll arrows inside tabbar */
.tabbar-scroll-arrow {
  flex-shrink: 0;
  width: 32px; height: 32px;
  border-radius: 8px;
  border: 1px solid #E8ECF4;
  background: #F8FAFC;
  display: flex; align-items: center; justify-content: center;
  cursor: pointer;
  color: #64748B;
  transition: all 180ms ease;
  animation: fadeUp 200ms ease;
}
.tabbar-scroll-arrow:hover {
  background: #EFF6FF;
  border-color: #BFDBFE;
  color: #2C7BE5;
}

/*  Summary Cards (2-card row)  */
.summary-cards-row {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 16px;
  margin-bottom: 28px;
}
@media (max-width: 600px) { .summary-cards-row { grid-template-columns: 1fr; } }
.summary-card {
  background: #fff;
  border: 1px solid #E8ECF4;
  border-radius: 16px;
  padding: 18px 20px;
  box-shadow: 0 2px 12px rgba(15,23,42,0.05);
  animation: fadeUp 350ms ease both;
  text-align: right;
}
.summary-card-clickable {
  cursor: pointer;
  transition: transform 200ms ease, box-shadow 200ms ease;
  font-family: 'Cairo', sans-serif;
  width: 100%;
}
.summary-card-clickable:hover {
  transform: translateY(-3px);
  box-shadow: 0 8px 24px rgba(15,23,42,0.09);
  border-color: #F97316;
}
.summary-card-header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 12px;
}
.summary-card-icon {
  width: 40px; height: 40px;
  border-radius: 11px;
  display: flex; align-items: center; justify-content: center;
  font-size: 19px;
  flex-shrink: 0;
}
.summary-card-title {
  font-size: 15px; font-weight: 700; color: #0F172A; margin: 0 0 2px;
}
.summary-card-sub {
  font-size: 12px; color: #64748B; margin: 0;
}
.summary-progress-track {
  height: 7px;
  background: #F1F5F9;
  border-radius: 999px;
  overflow: hidden;
}
.summary-progress-fill {
  height: 100%;
  border-radius: 999px;
  transition: width 900ms cubic-bezier(0.16,1,0.3,1);
}
.summary-feedback-preview {
  background: #FFF7ED;
  border: 1px solid #FED7AA;
  border-radius: 10px;
  padding: 10px 12px;
}
.summary-feedback-top {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 6px;
  flex-wrap: wrap;
}
.summary-feedback-subject { font-size: 12px; font-weight: 700; color: #0F172A; }
.summary-feedback-badge {
  font-size: 10px; font-weight: 700;
  padding: 2px 7px; border-radius: 999px;
}
.summary-feedback-date { font-size: 11px; color: #94A3B8; margin-right: auto; }
.summary-feedback-text { font-size: 12px; color: #64748B; line-height: 1.6; margin: 0; }
.summary-empty-hint { font-size: 13px; color: #94A3B8; margin: 0; text-align: center; padding: 8px 0; }
.portal-content {
  max-width: 1360px;
  margin: 0 auto;
  padding: 24px 32px 48px;
}

/*  Welcome Card  */
.welcome-card {
  position: relative;
  background: linear-gradient(135deg, #1E3A8A 0%, #2C7BE5 60%, #38BDF8 100%);
  border-radius: 20px;
  padding: 32px 36px;
  margin-bottom: 28px;
  overflow: hidden;
}
.welcome-card-bg {
  position: absolute;
  inset: 0;
  background: radial-gradient(ellipse at 80% 50%, rgba(255,255,255,0.12) 0%, transparent 60%);
  pointer-events: none;
}
.welcome-card::before {
  content: '';
  position: absolute;
  top: -40px; right: -40px;
  width: 200px; height: 200px;
  border-radius: 50%;
  background: rgba(255,255,255,0.07);
  pointer-events: none;
}
.welcome-card::after {
  content: '';
  position: absolute;
  bottom: -60px; left: -20px;
  width: 160px; height: 160px;
  border-radius: 50%;
  background: rgba(255,255,255,0.05);
  pointer-events: none;
}
.welcome-card-content {
  position: relative;
  z-index: 1;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 20px;
}
.welcome-greeting {
  font-size: 14px;
  color: rgba(255,255,255,0.75);
  margin: 0 0 4px;
}
.welcome-name {
  font-size: 28px;
  font-weight: 800;
  color: #fff;
  margin: 0 0 4px;
}
.welcome-class {
  font-size: 13px;
  color: rgba(255,255,255,0.75);
  margin: 0 0 8px;
}
.welcome-subtitle {
  font-size: 13px;
  color: rgba(255,255,255,0.6);
  margin: 0;
}
.welcome-avatar-wrap {
  flex-shrink: 0;
}
.welcome-avatar {
  width: 72px; height: 72px;
  border-radius: 50%;
  object-fit: cover;
  border: 3px solid rgba(255,255,255,0.4);
}
.welcome-avatar-placeholder {
  width: 72px; height: 72px;
  border-radius: 50%;
  background: rgba(255,255,255,0.2);
  border: 3px solid rgba(255,255,255,0.4);
  display: flex; align-items: center; justify-content: center;
  font-size: 28px; font-weight: 800; color: #fff;
}

/*  Section Block  */
.section-block {
  margin-bottom: 32px;
}
.section-header {
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 16px;
}
.section-title-premium {
  font-size: 18px;
  font-weight: 700;
  color: #0F172A;
  margin: 0;
}
.section-subtitle-premium {
  font-size: 12px;
  color: #94A3B8;
  margin: 0;
}
.section-title-sm {
  font-size: 15px;
  font-weight: 700;
  color: #0F172A;
  margin: 0;
}
.view-all-btn {
  border: none;
  background: none;
  font-family: 'Cairo', sans-serif;
  font-size: 12px;
  font-weight: 700;
  color: #2C7BE5;
  cursor: pointer;
  padding: 0;
}
.view-all-btn:hover { opacity: 0.7; }

/*  Subject Carousel  */
.carousel-wrapper {
  position: relative;
  padding: 0 44px;
}
.carousel-arrow {
  position: absolute;
  top: 50%;
  transform: translateY(-60%); /* offset for padding-top on track */
  z-index: 3;
  width: 36px; height: 36px;
  border-radius: 50%;
  border: 1px solid #E8ECF4;
  background: #fff;
  display: flex; align-items: center; justify-content: center;
  cursor: pointer;
  transition: all 200ms ease;
  box-shadow: 0 2px 8px rgba(15,23,42,0.08);
  opacity: 0;
}
.carousel-wrapper:hover .carousel-arrow { opacity: 1; }
.carousel-arrow:hover {
  background: #2C7BE5;
  color: #fff;
  border-color: #2C7BE5;
  transform: translateY(-60%) scale(1.05);
}
.carousel-arrow-start { right: 0; }
.carousel-arrow-end { left: 0; }
.carousel-track {
  display: flex;
  gap: 16px;
  overflow-x: auto;
  overflow-y: visible; /* CRITICAL: allow cards to lift without clipping */
  scroll-snap-type: x mandatory;
  scrollbar-width: none;
  padding-top: 10px;   /* room for hover lift */
  padding-bottom: 12px;
  cursor: grab;
  user-select: none;
}
.carousel-track:active { cursor: grabbing; }
.carousel-track::-webkit-scrollbar { display: none; }
.carousel-card {
  flex: 0 0 200px;
  scroll-snap-align: start;
  background: #fff;
  border: 1px solid #E8ECF4;
  border-radius: 16px;
  overflow: hidden;
  cursor: pointer;
  text-align: right;
  position: relative;
  transition: transform 240ms cubic-bezier(0.16,1,0.3,1), box-shadow 240ms ease, border-color 240ms ease;
  box-shadow: 0 2px 10px rgba(15,23,42,0.05);
}
.carousel-card:hover {
  transform: translateY(-6px) scale(1.01);
  box-shadow: 0 16px 36px rgba(15,23,42,0.13);
  border-color: var(--accent);
}
.carousel-card:active { transform: scale(0.97); }
.carousel-card-accent-bar { height: 3px; width: 100%; }
.carousel-card-img-zone {
  display: flex; align-items: center; justify-content: center;
  padding: 20px 16px;
  background: #F8FAFC;
}
.carousel-card-img {
  width: 72px; height: 72px;
  object-fit: contain;
  transition: transform 240ms ease;
  pointer-events: none;
}
.carousel-card:hover .carousel-card-img { transform: scale(1.08); }
.carousel-card-info { padding: 12px 14px 14px; border-top: 1px solid #F1F5F9; }
.carousel-card-name {
  font-size: 13px; font-weight: 700; color: #0F172A;
  margin: 0 0 3px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
}
.carousel-card-teacher {
  font-size: 11px; color: #94A3B8;
  margin: 0 0 8px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
}
.carousel-card-cta { font-size: 11px; font-weight: 700; margin: 0; }
.carousel-card-hover-glow {
  position: absolute; inset: 0; border-radius: 16px; opacity: 0;
  transition: opacity 240ms ease;
  box-shadow: inset 0 0 0 2px var(--accent);
  pointer-events: none;
}
.carousel-card:hover .carousel-card-hover-glow { opacity: 1; }

/*  Dashboard Bottom Grid  */
.dashboard-bottom-grid {
  display: grid;
  grid-template-columns: minmax(0,2fr) minmax(0,1fr);
  gap: 24px;
  align-items: start;
}
@media (max-width: 800px) { .dashboard-bottom-grid { grid-template-columns: 1fr; } }

/*  Notes preview list  */
.notes-list { display: flex; flex-direction: column; gap: 8px; }
.note-row {
  display: flex;
  align-items: flex-start;
  gap: 12px;
  background: #fff;
  border: 1px solid #E8ECF4;
  border-radius: 12px;
  padding: 12px 14px;
  transition: box-shadow 200ms ease;
}
.note-row:hover { box-shadow: 0 4px 16px rgba(15,23,42,0.07); }
.note-dot { width: 8px; height: 8px; border-radius: 50%; flex-shrink: 0; margin-top: 5px; }
.note-body { flex: 1; min-width: 0; }
.note-header { display: flex; align-items: center; gap: 8px; margin-bottom: 4px; }
.note-subject { font-size: 13px; font-weight: 700; color: #0F172A; }
.note-badge { font-size: 10px; font-weight: 700; padding: 2px 7px; border-radius: 999px; }
.note-preview { font-size: 12px; color: #64748B; margin: 0; line-height: 1.6; }
.note-date { font-size: 11px; color: #94A3B8; flex-shrink: 0; }

/*  AI Entry Card  */
.ai-entry-card {
  display: flex;
  align-items: center;
  gap: 14px;
  background: #fff;
  border: 1px solid #E8ECF4;
  border-right: 3px solid #2C7BE5;
  border-radius: 16px;
  padding: 18px 20px;
  cursor: pointer;
  transition: all 220ms ease;
}
.ai-entry-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 20px rgba(44,123,229,0.12);
  border-right-color: #2C7BE5;
}
.ai-entry-icon {
  width: 40px; height: 40px;
  background: #EFF6FF;
  border: 1px solid #BFDBFE;
  border-radius: 10px;
  display: flex; align-items: center; justify-content: center;
  font-size: 18px;
  flex-shrink: 0;
}
.ai-entry-info { flex: 1; min-width: 0; }
.ai-entry-title { font-size: 14px; font-weight: 700; color: #0F172A; margin: 0 0 3px; }
.ai-entry-sub { font-size: 12px; color: #64748B; margin: 0; }
.ai-entry-arrow { color: #94A3B8; }

/*  Tab Content  */
.tab-content { animation: fadeUp 300ms ease-out both; }
@keyframes fadeUp {
  from { opacity: 0; transform: translateY(10px); }
  to   { opacity: 1; transform: translateY(0); }
}
.fade-in-up { animation: fadeUp 280ms ease-out both; }

/*  Tab Page Header  */
.tab-page-header {
  display: flex;
  align-items: baseline;
  gap: 14px;
  margin-bottom: 24px;
  flex-wrap: wrap;
}
.tab-page-title {
  font-size: 22px;
  font-weight: 800;
  color: #0F172A;
  margin: 0;
}
.tab-page-sub { font-size: 13px; color: #94A3B8; margin: 0; }
.tab-count-badge {
  font-size: 12px;
  font-weight: 700;
  background: #EFF6FF;
  color: #2C7BE5;
  border: 1px solid #BFDBFE;
  padding: 2px 10px;
  border-radius: 999px;
}

/*  Subject Pills  */
.subject-pills-scroll {
  display: flex;
  gap: 8px;
  overflow-x: auto;
  scrollbar-width: none;
  padding-bottom: 4px;
  margin-bottom: 24px;
}
.subject-pills-scroll::-webkit-scrollbar { display: none; }
.subject-pill {
  display: flex;
  align-items: center;
  gap: 7px;
  padding: 8px 16px;
  border: 1.5px solid #E8ECF4;
  border-radius: 999px;
  background: #fff;
  cursor: pointer;
  font-family: 'Cairo', sans-serif;
  font-size: 13px;
  font-weight: 600;
  color: #475569;
  white-space: nowrap;
  transition: all 220ms ease;
}
.subject-pill:hover { border-color: #BFDBFE; color: #0F172A; }
.subject-pill-active { box-shadow: 0 4px 12px rgba(44,123,229,0.2); }
.subject-pill-img { width: 20px; height: 20px; object-fit: contain; }

/*  Grades Display  */
.grades-display {
  background: #fff;
  border: 1px solid #E8ECF4;
  border-radius: 20px;
  overflow: hidden;
  box-shadow: 0 2px 14px rgba(15,23,42,0.06);
}
.grade-subject-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;
  padding: 22px 24px 20px;
  border-bottom: 1px solid #F1F5F9;
  flex-wrap: wrap;
}
.grade-subject-left {
  display: flex;
  align-items: center;
  gap: 14px;
}
.grade-subject-img { width: 48px; height: 48px; object-fit: contain; }
.grade-subject-name { font-size: 18px; font-weight: 800; color: #0F172A; margin: 0 0 3px; }
.grade-subject-teacher { font-size: 13px; color: #64748B; margin: 0; }
.grade-subject-right { display: flex; flex-direction: column; align-items: flex-end; gap: 4px; }
.grade-badge {
  font-size: 11px;
  font-weight: 700;
  padding: 3px 10px;
  border-radius: 999px;
}
.grade-avg { font-size: 28px; font-weight: 800; margin: 0; }
.grade-progress-wrap { padding: 0 24px 16px; }
.grade-progress-track {
  height: 8px;
  background: #F1F5F9;
  border-radius: 999px;
  overflow: hidden;
}
.grade-progress-fill {
  height: 100%;
  border-radius: 999px;
  transition: width 900ms cubic-bezier(0.16,1,0.3,1);
}

/*  Grades Table  */
.grades-table-wrap { padding: 0 24px 24px; overflow-x: auto; }
.grades-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 13px;
}
.grades-table th {
  text-align: right;
  padding: 10px 12px;
  font-size: 11px;
  font-weight: 700;
  color: #64748B;
  text-transform: uppercase;
  letter-spacing: 0.04em;
  border-bottom: 1px solid #F1F5F9;
}
.grade-row { transition: background 150ms ease; }
.grade-row:hover { background: #F8FAFC; }
.grade-row td { padding: 11px 12px; border-bottom: 1px solid #F8FAFC; }
.grade-row:last-child td { border-bottom: none; }
.grade-cell-name { font-weight: 600; color: #0F172A; }
.grade-cell-score { font-weight: 700; font-size: 15px; }
.grade-cell-out { color: #64748B; }
.grade-pct-badge {
  display: inline-flex;
  padding: 3px 10px;
  border-radius: 999px;
  font-size: 12px;
  font-weight: 700;
}

/*  Schedule  */
.schedule-card {
  background: #fff;
  border: 1px solid #E8ECF4;
  border-radius: 20px;
  overflow: hidden;
  box-shadow: 0 2px 14px rgba(15,23,42,0.06);
}
.schedule-table-wrap { overflow-x: auto; }
.schedule-table {
  width: 100%;
  min-width: 600px;
  border-collapse: collapse;
  text-align: right;
}
.schedule-table thead { background: #F8FAFC; border-bottom: 1px solid #E8ECF4; }
.sched-time-col { padding: 12px 16px; font-size: 11px; font-weight: 700; color: #64748B; text-transform: uppercase; width: 100px; }
.sched-day-col { padding: 12px 16px; font-size: 13px; font-weight: 700; color: #0F172A; }
.sched-row { border-bottom: 1px solid #F1F5F9; }
.sched-row:last-child { border-bottom: none; }
.sched-row-alt { background: #FAFBFC; }
.sched-time { padding: 10px 16px; font-size: 12px; font-weight: 700; color: #64748B; white-space: nowrap; }
.sched-cell { padding: 6px 8px; }
.sched-entry {
  background: #fff;
  border: 1px solid #E8ECF4;
  border-right-width: 3px;
  border-radius: 10px;
  padding: 8px 10px;
  transition: box-shadow 180ms ease;
}
.sched-entry:hover { box-shadow: 0 3px 12px rgba(15,23,42,0.07); }
.sched-entry-subject { font-size: 13px; font-weight: 700; color: #0F172A; margin: 0 0 2px; }
.sched-entry-teacher { font-size: 11px; color: #64748B; margin: 0; }
.sched-entry-room { font-size: 11px; color: #94A3B8; margin: 0; }
.sched-empty-cell { background: #F8FAFC; border: 1px dashed #E8ECF4; border-radius: 10px; height: 56px; }
.sched-skeleton { display: flex; flex-direction: column; gap: 10px; }
.skeleton-row { height: 56px; background: #E8ECF4; border-radius: 10px; animation: shimmer 1.2s ease-out infinite; background-size: 200% 100%; background-image: linear-gradient(90deg, #E8ECF4 0%, #F1F5F9 50%, #E8ECF4 100%); }
@keyframes shimmer { 0% { background-position: -200% 0; } 100% { background-position: 200% 0; } }

/*  AI Tab  */
.ai-kpi-row {
  display: grid;
  grid-template-columns: repeat(4,minmax(0,1fr));
  gap: 14px;
  margin-bottom: 24px;
}
@media (max-width: 900px) { .ai-kpi-row { grid-template-columns: repeat(2,1fr); } }
.ai-kpi-card {
  background: #fff;
  border: 1px solid #E8ECF4;
  border-radius: 14px;
  padding: 18px;
  transition: transform 200ms ease, box-shadow 200ms ease;
}
.ai-kpi-card:hover { transform: translateY(-2px); box-shadow: 0 6px 18px rgba(15,23,42,0.08); }
.ai-kpi-value { font-size: 20px; font-weight: 800; margin: 0 0 4px; }
.ai-kpi-label { font-size: 12px; color: #64748B; margin: 0; }
.ai-main-grid {
  display: grid;
  grid-template-columns: minmax(0,2fr) minmax(0,1fr);
  gap: 20px;
  align-items: start;
}
@media (max-width: 900px) { .ai-main-grid { grid-template-columns: 1fr; } }
.ai-left-col, .ai-right-col { display: flex; flex-direction: column; gap: 16px; }
.ai-block {
  background: #fff;
  border: 1px solid #E8ECF4;
  border-radius: 16px;
  padding: 20px;
}
.ai-block-title { font-size: 15px; font-weight: 700; color: #0F172A; margin: 0 0 16px; }
.ai-block-text { font-size: 14px; color: #475569; line-height: 1.7; margin: 0; }
.ai-bars-list { display: flex; flex-direction: column; gap: 14px; }
.ai-bar-row { display: flex; align-items: center; gap: 12px; }
.ai-bar-img { width: 32px; height: 32px; object-fit: contain; flex-shrink: 0; }
.ai-bar-info { flex: 1; min-width: 0; }
.ai-bar-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 6px; }
.ai-bar-name { font-size: 13px; font-weight: 600; color: #0F172A; }
.ai-bar-meta { display: flex; align-items: center; gap: 8px; }
.ai-bar-badge { font-size: 10px; font-weight: 700; padding: 2px 7px; border-radius: 6px; }
.ai-bar-pct { font-size: 13px; font-weight: 800; }
.ai-bar-track { height: 7px; border-radius: 999px; overflow: hidden; background: #F1F5F9; }
.ai-bar-fill { height: 100%; border-radius: 999px; }
.ai-gauges { display: flex; flex-direction: column; gap: 16px; }
.ai-gauge-row { display: flex; align-items: center; gap: 14px; }
.ai-gauge-divider { height: 1px; background: #F1F5F9; }
.ai-gauge-label { font-size: 11px; color: #94A3B8; margin: 0 0 4px; }
.ai-gauge-value { font-size: 16px; font-weight: 700; margin: 0; }
.ai-top-subjects { display: flex; flex-direction: column; gap: 10px; }
.ai-top-row { display: flex; align-items: center; gap: 10px; }
.ai-top-medal { font-size: 16px; flex-shrink: 0; }
.ai-top-name { flex: 1; font-size: 13px; font-weight: 600; color: #0F172A; }
.ai-top-pct { font-size: 13px; font-weight: 800; }

/*  Notes Tab  */
.notes-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px,1fr));
  gap: 14px;
}
.note-card {
  background: #fff;
  border: 1px solid #E8ECF4;
  border-radius: 14px;
  padding: 16px;
  transition: transform 200ms ease, box-shadow 200ms ease;
}
.note-card:hover { transform: translateY(-3px); box-shadow: 0 8px 22px rgba(15,23,42,0.08); }
.note-card-header { display: flex; align-items: flex-start; justify-content: space-between; gap: 10px; margin-bottom: 10px; }
.note-card-subject { font-size: 14px; font-weight: 700; color: #0F172A; margin: 0; }
.note-card-date { font-size: 11px; color: #94A3B8; margin: 2px 0 0; }
.note-card-badge { font-size: 10px; font-weight: 700; padding: 3px 9px; border-radius: 999px; flex-shrink: 0; }
.note-card-text { font-size: 13px; color: #475569; line-height: 1.7; margin: 0; }
.note-expand-btn {
  margin-top: 8px;
  border: none; background: none;
  font-family: 'Cairo', sans-serif;
  font-size: 12px; font-weight: 700;
  color: #2C7BE5; cursor: pointer; padding: 0;
}
.note-expand-btn:hover { opacity: 0.7; }

/*  Profile Tab  */
.profile-layout {
  display: grid;
  grid-template-columns: 240px minmax(0,1fr);
  gap: 24px;
  align-items: start;
}
@media (max-width: 700px) { .profile-layout { grid-template-columns: 1fr; } }
.profile-card {
  background: #fff;
  border: 1px solid #E8ECF4;
  border-radius: 20px;
  padding: 28px 20px;
  text-align: center;
  box-shadow: 0 2px 12px rgba(15,23,42,0.05);
}
.profile-avatar-wrap { margin-bottom: 14px; }
.profile-avatar { width: 80px; height: 80px; border-radius: 50%; object-fit: cover; border: 3px solid #BFDBFE; }
.profile-avatar-placeholder {
  width: 80px; height: 80px;
  border-radius: 50%;
  background: #EFF6FF;
  border: 3px solid #BFDBFE;
  display: flex; align-items: center; justify-content: center;
  font-size: 32px; font-weight: 800; color: #2C7BE5;
  margin: 0 auto;
}
.profile-name { font-size: 17px; font-weight: 800; color: #0F172A; margin: 0 0 4px; }
.profile-class { font-size: 13px; color: #64748B; margin: 0 0 4px; }
.profile-email { font-size: 12px; color: #94A3B8; margin: 0; }
.profile-stats-col { display: flex; flex-direction: column; gap: 12px; }
.profile-stat-card {
  display: flex;
  align-items: center;
  gap: 16px;
  background: #fff;
  border: 1px solid #E8ECF4;
  border-radius: 14px;
  padding: 16px 18px;
  transition: transform 200ms ease;
}
.profile-stat-card:hover { transform: translateY(-2px); }
.profile-stat-icon { font-size: 22px; }
.profile-stat-value { font-size: 22px; font-weight: 800; margin: 0 0 2px; }
.profile-stat-label { font-size: 12px; color: #64748B; margin: 0; }
.profile-ai-btn {
  display: flex;
  align-items: center;
  gap: 12px;
  background: #EFF6FF;
  border: 1.5px solid #BFDBFE;
  border-radius: 14px;
  padding: 16px 18px;
  cursor: pointer;
  font-family: 'Cairo', sans-serif;
  font-size: 14px;
  font-weight: 700;
  color: #2C7BE5;
  transition: all 200ms ease;
  text-align: right;
}
.profile-ai-btn:hover {
  background: #DBEAFE;
  transform: translateY(-2px);
  box-shadow: 0 6px 16px rgba(44,123,229,0.15);
}
.profile-ai-btn > *:last-child { margin-right: auto; }

/*  Empty + Error states  */
.empty-card {
  background: #fff;
  border: 1px solid #E8ECF4;
  border-radius: 16px;
  padding: 60px 24px;
  text-align: center;
}
.empty-card-sm {
  background: #F8FAFC;
  border: 1px dashed #E8ECF4;
  border-radius: 12px;
  padding: 24px;
  text-align: center;
}
.empty-icon { font-size: 36px; margin-bottom: 12px; }
.empty-title { font-size: 15px; font-weight: 700; color: #0F172A; margin: 0 0 6px; }
.empty-hint { font-size: 13px; color: #94A3B8; margin: 0; }
.error-banner-premium {
  background: #FEF2F2;
  border: 1px solid #FECACA;
  border-radius: 12px;
  padding: 12px 16px;
  font-size: 13px;
  color: #D32F2F;
  margin-bottom: 20px;
}

/*  Loading skeletons  */
.loading-grid { display: flex; flex-direction: column; gap: 16px; }
.loading-bar {
  background: #E8ECF4;
  border-radius: 16px;
  animation: shimmer 1.2s ease-out infinite;
  background-size: 200% 100%;
  background-image: linear-gradient(90deg, #E8ECF4 0%, #F1F5F9 50%, #E8ECF4 100%);
}
.loading-row { display: grid; grid-template-columns: repeat(4,1fr); gap: 14px; }
.skeleton-card {
  height: 88px;
  background: #E8ECF4;
  border-radius: 14px;
  animation: shimmer 1.2s ease-out infinite;
  background-size: 200% 100%;
  background-image: linear-gradient(90deg, #E8ECF4 0%, #F1F5F9 50%, #E8ECF4 100%);
}

/*  Responsive  */
@media (max-width: 1024px) {
  .premium-topnav-inner { padding: 0 20px; gap: 16px; }
  .portal-content { padding: 20px 20px 40px; }
  .welcome-card { padding: 24px 24px; }
}
@media (max-width: 700px) {
  .nav-student-info { display: none; }
  .nav-logout-label { display: none; }
  .welcome-name { font-size: 22px; }
  .welcome-avatar { width: 56px; height: 56px; }
  .welcome-avatar-placeholder { width: 56px; height: 56px; font-size: 22px; }
}
`,Cy={1:"",2:"",3:"",4:"",5:""},Au=["#2C7BE5","#00C853","#FFB300","#D32F2F","#8B5CF6","#F97316","#14B8A6","#EC4899"];function Ey(){const e=pr(),{token:t}=xe(),[r,s]=p.useState(!0),[a,l]=p.useState(""),[o,c]=p.useState({className:"",entries:[],schoolDays:[1,2,3,4,5]});p.useEffect(()=>{let d=!0;return(async()=>{try{s(!0),l("");const w=await gm(t);if(!d)return;c({className:w.className||"",entries:w.entries||[],schoolDays:w.schoolDays||[1,2,3,4,5]})}catch(w){d&&l((w==null?void 0:w.message)||"   .")}finally{d&&s(!1)}})(),()=>{d=!1}},[t]);const i=p.useMemo(()=>[...new Set((o.entries||[]).map(h=>`${h.startTime}-${h.endTime}`))].sort((h,w)=>String(h).localeCompare(String(w))),[o.entries]),u=p.useMemo(()=>{const d={};return(o.entries||[]).forEach(h=>{d[`${h.dayOfWeek}-${h.startTime}-${h.endTime}`]=h}),d},[o.entries]),m=p.useMemo(()=>{const d={};let h=0;return(o.entries||[]).forEach(w=>{w.subject&&!d[w.subject]&&(d[w.subject]=Au[h%Au.length],h++)}),d},[o.entries]);return n.jsx("main",{dir:"rtl",className:"min-h-screen bg-background",children:n.jsxs("div",{className:"max-w-[1200px] mx-auto px-6 py-8",children:[n.jsxs("header",{className:"flex items-center justify-between gap-4 mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"h2-premium",children:" "}),n.jsx("p",{className:"caption-premium mt-1",children:o.className?` ${o.className}`:" "})]}),n.jsx("button",{type:"button",onClick:()=>e("/student"),className:"action-btn focus-ring pressable",children:"  "})]}),a&&n.jsx("div",{className:"mb-6 rounded-sm border border-danger/30 bg-red-50 px-4 py-3 text-[13px] text-danger",children:a}),r?n.jsx("div",{className:"space-y-3",children:[1,2,3,4].map(d=>n.jsx("div",{className:"skeleton h-16"},d))}):o.entries.length?n.jsx("div",{className:"surface-card overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full min-w-[600px] border-collapse text-right",children:[n.jsx("thead",{className:"bg-slate-50 border-b border-border",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-[11px] font-semibold text-text-secondary uppercase tracking-wide w-28",children:""}),o.schoolDays.map(d=>n.jsx("th",{className:"px-4 py-3 text-[13px] font-semibold text-text-primary",children:Cy[d]||d},d))]})}),n.jsx("tbody",{children:i.map((d,h)=>{const[w,j]=d.split("-");return n.jsxs("tr",{className:`border-b border-border last:border-0 ${h%2===0?"":"bg-slate-50/50"}`,children:[n.jsxs("td",{className:"px-4 py-3 text-[12px] font-semibold text-text-secondary whitespace-nowrap",children:[w,"  ",j]}),o.schoolDays.map(N=>{const b=u[`${N}-${w}-${j}`],x=b?m[b.subject]||"#2C7BE5":null;return n.jsx("td",{className:"px-2 py-2",children:b?n.jsxs("div",{className:"rounded-sm border border-border bg-surface p-2.5 premium-transition hover:shadow-sm",style:{borderRightWidth:3,borderRightColor:x},children:[n.jsx("p",{className:"text-[13px] font-semibold text-text-primary leading-snug",children:b.subject}),b.teacherName&&n.jsx("p",{className:"text-[11px] text-text-secondary mt-0.5",children:b.teacherName}),b.room&&n.jsx("p",{className:"text-[11px] text-text-secondary",children:b.room})]}):n.jsx("div",{className:"rounded-sm bg-slate-50 border border-border h-[58px]"})},`${N}-${d}`)})]},d)})})]})})}):n.jsxs("div",{className:"surface-card p-16 text-center",children:[n.jsx("p",{className:"h3-premium mb-2",children:"    "}),n.jsx("p",{className:"caption-premium",children:"       ."})]})]})})}const Fy=e=>/\?{2,}/.test(String(e||"")),Qe=(e,t="   .")=>e&&e instanceof Ks?e.message&&!Fy(e.message)?e.message:e.status===401?"   .":e.status===403?"   .":e.status===400?"   .":t:t;function _t({message:e="   ",action:t}){return n.jsxs("div",{className:"ht-soft-surface flex min-h-[220px] flex-col items-center justify-center px-6 py-10 text-center",children:[n.jsx("div",{className:"mb-4 h-10 w-10 rounded-full border border-[var(--ht-border-default)] bg-[var(--ht-bg-base)]"}),n.jsx("p",{className:"text-[16px] leading-[1.8] text-[var(--ht-neutral-700)]",children:e}),t?n.jsx("div",{className:"mt-5",children:t}):null]})}const Ty=new Intl.DateTimeFormat("en-GB-u-nu-latn",{day:"2-digit",month:"2-digit",year:"numeric"}),Py=new Intl.DateTimeFormat("en-GB-u-nu-latn",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}),Ly=e=>{if(!e)return"-";const t=e instanceof Date?e:new Date(e);return Number.isNaN(t.getTime())?"-":Ty.format(t)},lr=e=>{if(!e)return"-";const t=e instanceof Date?e:new Date(e);return Number.isNaN(t.getTime())?"-":Py.format(t)},ie=(e,t=0)=>{const r=Number(e);return Number.isFinite(r)?new Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:t}).format(r):"0"},Iu=(e={})=>{const t=e.profilePicture||e.avatarUrl||e.name||e.email||e.id||"user";return`https://api.dicebear.com/8.x/initials/svg?seed=${encodeURIComponent(t)}`},My={:"bg-[var(--ht-amber-100)] text-[var(--ht-amber-600)]",:"bg-[var(--ht-primary-100)] text-[var(--ht-primary-700)]",:"bg-[var(--ht-success-100)] text-[var(--ht-success-600)]"};function _y({items:e=[],onViewAll:t}){return n.jsxs("section",{className:"ht-surface p-5 sm:p-6",children:[n.jsxs("div",{className:"mb-5 flex items-center justify-between gap-3",children:[n.jsx("h2",{className:"text-[24px] font-semibold text-[var(--ht-neutral-900)]",children:" "}),n.jsx("button",{type:"button",onClick:t,className:"ht-interactive text-[13px] font-medium text-[var(--ht-primary-700)] hover:text-[var(--ht-primary-800)] active:scale-[0.98] focus-visible:outline-none",children:" "})]}),e.length?n.jsx("div",{className:"divide-y divide-[var(--ht-border-subtle)]",children:e.map(r=>n.jsxs("article",{className:"flex flex-wrap items-start justify-between gap-3 py-4",children:[n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsxs("div",{className:"mb-2 flex flex-wrap items-center gap-2",children:[n.jsx("span",{className:`rounded-full px-2 py-1 text-[11px] font-semibold ${My[r.type]||"bg-[var(--ht-bg-muted)] text-[var(--ht-neutral-600)]"}`,children:r.type}),n.jsx("span",{className:"text-[12px] text-[var(--ht-neutral-500)]",children:r.className})]}),n.jsx("h3",{className:"text-[15px] font-medium text-[var(--ht-neutral-800)]",children:r.title})]}),n.jsx("span",{className:"whitespace-nowrap text-[12px] text-[var(--ht-neutral-400)]",children:lr(r.date)})]},r.id))}):n.jsx(_t,{message:"   "})]})}function Ay({className:e,studentCount:t,onClick:r}){return n.jsxs("button",{type:"button",onClick:r,className:"ht-surface ht-interactive ht-lift-hover flex min-h-[168px] w-full flex-col justify-center rounded-[6px] border border-[var(--ht-border-subtle)] px-5 py-6 text-right active:scale-[0.98] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--ht-border-focus)] focus-visible:ring-offset-2",children:[n.jsx("span",{className:"mb-3 h-[2px] w-10 bg-[var(--ht-primary-500)]/50"}),n.jsx("h3",{className:"text-center text-[20px] font-semibold text-[var(--ht-neutral-900)]",children:e}),n.jsxs("p",{className:"mt-3 text-center text-[13px] text-[var(--ht-neutral-500)]",children:[" : ",ie(t)]}),n.jsx("div",{className:"mt-4 border-t border-[var(--ht-border-subtle)]"})]})}function Iy({rows:e=[],onAdd:t,onImport:r,onEdit:s}){return n.jsxs("section",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[n.jsx("h3",{className:"text-[20px] font-semibold text-[var(--ht-neutral-900)]",children:""}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r?n.jsx("button",{type:"button",onClick:r,className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-4 text-[13px] font-medium text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)] active:scale-[0.98] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--ht-border-focus)] focus-visible:ring-offset-2",children:"+   "}):null,n.jsx("button",{type:"button",onClick:t,className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-4 text-[13px] font-medium text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)] active:scale-[0.98] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--ht-border-focus)] focus-visible:ring-offset-2",children:"+  "})]})]}),e.length?n.jsx("div",{className:"ht-surface ht-scroll overflow-x-auto",children:n.jsxs("table",{className:"min-w-full border-collapse text-right",children:[n.jsx("thead",{className:"bg-[var(--ht-bg-subtle)]",children:n.jsx("tr",{children:[" ","","","","",""].map(a=>n.jsx("th",{scope:"col",className:"whitespace-nowrap px-4 py-3 text-[11px] font-semibold uppercase tracking-[0.06em] text-[var(--ht-neutral-500)]",children:a},a))})}),n.jsx("tbody",{children:e.map(a=>n.jsxs("tr",{className:"border-t border-[var(--ht-border-subtle)]",children:[n.jsx("td",{className:"whitespace-nowrap px-4 py-3 text-[14px] text-[var(--ht-neutral-800)]",children:a.studentName}),n.jsx("td",{className:"whitespace-nowrap px-4 py-3 text-[14px] text-[var(--ht-neutral-700)]",children:a.examTitle||"-"}),n.jsx("td",{className:"whitespace-nowrap px-4 py-3 text-[14px] text-[var(--ht-neutral-700)]",children:a.score===null||a.score===void 0?"-":ie(a.score,2)}),n.jsx("td",{className:"whitespace-nowrap px-4 py-3 text-[14px] text-[var(--ht-neutral-700)]",children:a.maxMarks===null||a.maxMarks===void 0?"-":ie(a.maxMarks,2)}),n.jsx("td",{className:"whitespace-nowrap px-4 py-3 text-[13px] text-[var(--ht-neutral-500)]",children:lr(a.updatedAt)}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("button",{type:"button",onClick:()=>s(a),className:"ht-interactive rounded-[4px] border border-[var(--ht-border-default)] px-3 py-1.5 text-[12px] text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)] active:scale-[0.98] focus-visible:outline-none",children:""})})]},a.studentId))})]})}):n.jsx(_t,{message:"   "})]})}const Ru={pending:" ",submitted:"",graded:""};function Ry({items:e=[],onCreate:t,onEdit:r,onDelete:s,onOpenDetail:a}){return n.jsxs("section",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between gap-3",children:[n.jsx("h3",{className:"text-[20px] font-semibold text-[var(--ht-neutral-900)]",children:""}),n.jsx("button",{type:"button",onClick:t,className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-4 text-[13px] font-medium text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)] active:scale-[0.98] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--ht-border-focus)] focus-visible:ring-offset-2",children:"+  "})]}),e.length?n.jsx("div",{className:"space-y-3",children:e.map(l=>{const o=l.assignments.filter(m=>m.status==="pending").length,c=l.assignments.filter(m=>m.status==="submitted").length,i=l.assignments.filter(m=>m.status==="graded").length,u=l.assignments.length;return n.jsxs("article",{className:"ht-surface p-4",children:[n.jsxs("div",{className:"mb-2 flex flex-wrap items-center justify-between gap-2",children:[n.jsx("h4",{className:"text-[16px] font-semibold text-[var(--ht-neutral-900)]",children:l.title}),n.jsxs("span",{className:"text-[12px] text-[var(--ht-neutral-400)]",children:[": ",lr(l.dueDate)]})]}),n.jsx("p",{className:"text-[14px] leading-[1.9] text-[var(--ht-neutral-700)]",children:l.description||"-"}),l.attachmentName?n.jsxs("p",{className:"mt-3 text-[13px] text-[var(--ht-neutral-500)]",children:[": ",l.attachmentName]}):null,n.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-3 text-[12px] text-[var(--ht-neutral-500)]",children:[n.jsxs("span",{children:[" : ",ie(u)]}),n.jsxs("span",{children:[": ",ie(c)]}),n.jsxs("span",{children:[": ",ie(i)]}),n.jsxs("span",{children:[": ",ie(o)]})]}),n.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-2",children:[n.jsx("button",{type:"button",onClick:()=>a(l),className:"ht-interactive rounded-[4px] border border-[var(--ht-border-default)] px-3 py-1.5 text-[12px] text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)] active:scale-[0.98] focus-visible:outline-none",children:" "}),n.jsx("button",{type:"button",onClick:()=>r(l),className:"ht-interactive rounded-[4px] border border-[var(--ht-border-default)] px-3 py-1.5 text-[12px] text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)] active:scale-[0.98] focus-visible:outline-none",children:""}),n.jsx("button",{type:"button",onClick:()=>s(l),className:"ht-interactive rounded-[4px] border border-[var(--ht-border-default)] px-3 py-1.5 text-[12px] text-[var(--ht-danger-600)] hover:bg-[var(--ht-danger-100)] active:scale-[0.98] focus-visible:outline-none",children:""})]}),n.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:Object.keys(Ru).map(m=>{const d=l.assignments.filter(h=>h.status===m).length;return n.jsxs("span",{className:"rounded-full border border-[var(--ht-border-subtle)] bg-[var(--ht-bg-subtle)] px-2 py-1 text-[11px] text-[var(--ht-neutral-600)]",children:[Ru[m],": ",ie(d)]},m)})})]},l.id)})}):n.jsx(_t,{message:"   "})]})}function zy({posts:e=[],onCreate:t,onEdit:r,onDelete:s}){return n.jsxs("section",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between gap-3",children:[n.jsx("h3",{className:"text-[20px] font-semibold text-[var(--ht-neutral-900)]",children:""}),n.jsx("button",{type:"button",onClick:t,className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-4 text-[13px] font-medium text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)] active:scale-[0.98] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--ht-border-focus)] focus-visible:ring-offset-2",children:"+  "})]}),e.length?n.jsx("div",{className:"space-y-3",children:e.map(a=>n.jsxs("article",{className:"ht-surface p-4",children:[n.jsxs("div",{className:"mb-2 flex flex-wrap items-center justify-between gap-2",children:[n.jsx("h4",{className:"text-[16px] font-semibold text-[var(--ht-neutral-900)]",children:a.title}),n.jsx("span",{className:"text-[12px] text-[var(--ht-neutral-400)]",children:lr(a.createdAt)})]}),n.jsx("p",{className:"text-[14px] leading-[1.9] text-[var(--ht-neutral-700)]",children:a.body||"-"}),a.attachmentName?n.jsxs("p",{className:"mt-3 text-[13px] text-[var(--ht-neutral-500)]",children:[": ",a.attachmentName]}):null,n.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[n.jsx("button",{type:"button",onClick:()=>r(a),className:"ht-interactive rounded-[4px] border border-[var(--ht-border-default)] px-3 py-1.5 text-[12px] text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)] active:scale-[0.98] focus-visible:outline-none",children:""}),n.jsx("button",{type:"button",onClick:()=>s(a),className:"ht-interactive rounded-[4px] border border-[var(--ht-border-default)] px-3 py-1.5 text-[12px] text-[var(--ht-danger-600)] hover:bg-[var(--ht-danger-100)] active:scale-[0.98] focus-visible:outline-none",children:""})]})]},a.id))}):n.jsx(_t,{message:"   "})]})}function Is({label:e,value:t}){return n.jsxs("div",{className:"ht-soft-surface px-4 py-3",children:[n.jsx("p",{className:"text-[12px] text-[var(--ht-neutral-500)]",children:e}),n.jsx("p",{className:"mt-1 text-[20px] font-semibold text-[var(--ht-neutral-900)]",children:t})]})}const Oy={pending:" ",submitted:"",graded:""};function Dy({summary:e,recentSubmissions:t=[]}){return n.jsxs("aside",{className:"space-y-4",children:[n.jsxs("section",{className:"ht-surface p-4",children:[n.jsx("h3",{className:"mb-4 text-[18px] font-semibold text-[var(--ht-neutral-900)]",children:" "}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(Is,{label:" ",value:ie(e.studentCount)}),n.jsx(Is,{label:" ",value:ie(e.homeworkCount)}),n.jsx(Is,{label:" ",value:`${ie(e.averageGrade,1)}%`}),n.jsx(Is,{label:" ",value:ie(e.announcementCount)})]})]}),n.jsxs("section",{className:"ht-surface p-4",children:[n.jsx("h3",{className:"mb-4 text-[18px] font-semibold text-[var(--ht-neutral-900)]",children:" "}),t.length?n.jsx("div",{className:"space-y-3",children:t.map(r=>n.jsxs("article",{className:"rounded-[4px] border border-[var(--ht-border-subtle)] p-3",children:[n.jsx("p",{className:"text-[13px] font-medium text-[var(--ht-neutral-800)]",children:r.studentName}),n.jsx("p",{className:"mt-1 text-[12px] text-[var(--ht-neutral-600)]",children:r.homeworkTitle}),n.jsxs("div",{className:"mt-2 flex flex-wrap items-center justify-between gap-2",children:[n.jsx("span",{className:"rounded-full bg-[var(--ht-bg-subtle)] px-2 py-1 text-[11px] text-[var(--ht-neutral-600)]",children:Oy[r.status]||r.status}),n.jsx("span",{className:"text-[11px] text-[var(--ht-neutral-400)]",children:lr(r.updatedAt)})]})]},r.id))}):n.jsx(_t,{message:"   "})]})]})}function By({rows:e=[],onViewProfile:t}){return n.jsxs("section",{className:"space-y-4",children:[n.jsx("h3",{className:"text-[20px] font-semibold text-[var(--ht-neutral-900)]",children:""}),e.length?n.jsx("div",{className:"ht-surface ht-scroll overflow-x-auto",children:n.jsxs("table",{className:"min-w-full border-collapse text-right",children:[n.jsx("thead",{className:"bg-[var(--ht-bg-subtle)]",children:n.jsx("tr",{children:[""," "," ",""," "].map(r=>n.jsx("th",{scope:"col",className:"whitespace-nowrap px-4 py-3 text-[11px] font-semibold uppercase tracking-[0.06em] text-[var(--ht-neutral-500)]",children:r},r))})}),n.jsx("tbody",{children:e.map(r=>n.jsxs("tr",{className:"border-t border-[var(--ht-border-subtle)]",children:[n.jsx("td",{className:"px-4 py-3",children:n.jsx("img",{src:r.avatarUrl,alt:` ${r.name}`,className:"h-9 w-9 rounded-full border border-[var(--ht-border-default)] object-cover"})}),n.jsx("td",{className:"whitespace-nowrap px-4 py-3 text-[14px] text-[var(--ht-neutral-800)]",children:r.name}),n.jsx("td",{className:"whitespace-nowrap px-4 py-3 text-[14px] text-[var(--ht-neutral-600)]",children:r.email||"-"}),n.jsx("td",{className:"whitespace-nowrap px-4 py-3",children:n.jsx("span",{className:"rounded-full border border-[var(--ht-border-subtle)] bg-[var(--ht-bg-subtle)] px-2 py-1 text-[11px] text-[var(--ht-neutral-600)]",children:r.status})}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("button",{type:"button",onClick:()=>t(r),className:"ht-interactive rounded-[4px] border border-[var(--ht-border-default)] px-3 py-1.5 text-[12px] text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)] active:scale-[0.98] focus-visible:outline-none",children:" "})})]},r.id))})]})}):n.jsx(_t,{message:"   "})]})}function $y({tabs:e,activeKey:t,onChange:r}){const s=p.useRef(null),a=p.useRef({}),[l,o]=p.useState({width:0,x:0}),c=p.useMemo(()=>e.findIndex(i=>i.key===t),[e,t]);return p.useEffect(()=>{const i=s.current,u=a.current[t];if(!i||!u){o({width:0,x:0});return}const m=i.getBoundingClientRect(),d=u.getBoundingClientRect();o({width:d.width,x:d.left-m.left})},[t,e]),n.jsxs("div",{className:"relative border-b border-[var(--ht-border-subtle)]",ref:s,children:[n.jsx("div",{className:"flex flex-wrap gap-1",children:e.map(i=>n.jsx("button",{ref:u=>{a.current[i.key]=u},type:"button",onClick:()=>r(i.key),className:`ht-interactive relative px-4 py-3 text-[14px] font-medium ${t===i.key?"text-[var(--ht-neutral-900)]":"text-[var(--ht-neutral-500)]"} hover:text-[var(--ht-neutral-800)] active:scale-[0.98] focus-visible:outline-none`,children:i.label},i.key))}),n.jsx("span",{className:"ht-tab-indicator absolute bottom-[-1px] block h-[2px] bg-[var(--ht-primary-500)]",style:{width:`${l.width}px`,transform:`translateX(${l.x}px)`,opacity:c>=0?1:0}})]})}const Uy=[{key:"posts",label:""},{key:"homework",label:""},{key:"grades",label:""},{key:"students",label:""}];function Wy({className:e,studentCount:t,activeTab:r,onChangeTab:s,posts:a,homework:l,grades:o,students:c,summary:i,recentSubmissions:u,onCreatePost:m,onEditPost:d,onDeletePost:h,onCreateHomework:w,onEditHomework:j,onDeleteHomework:N,onOpenHomeworkDetail:b,onAddGrade:x,onImportGrade:f,onEditGrade:v,onViewStudent:S}){return n.jsxs("section",{className:"space-y-6",children:[n.jsxs("header",{children:[n.jsx("h2",{className:"ht-display text-[34px] font-semibold leading-[1.3] text-[var(--ht-neutral-900)]",children:e}),n.jsxs("p",{className:"mt-1 text-[14px] text-[var(--ht-neutral-500)]",children:[" : ",t]})]}),n.jsx("div",{className:"border-t border-[var(--ht-border-subtle)]"}),n.jsxs("div",{className:"grid gap-6 lg:grid-cols-[minmax(0,7fr)_minmax(0,3fr)]",children:[n.jsxs("section",{className:"space-y-4",children:[n.jsx($y,{tabs:Uy,activeKey:r,onChange:s}),r==="posts"?n.jsx(zy,{posts:a,onCreate:m,onEdit:d,onDelete:h}):null,r==="homework"?n.jsx(Ry,{items:l,onCreate:w,onEdit:j,onDelete:N,onOpenDetail:b}):null,r==="grades"?n.jsx(Iy,{rows:o,onAdd:x,onImport:f,onEdit:v}):null,r==="students"?n.jsx(By,{rows:c,onViewProfile:S}):null]}),n.jsx(Dy,{summary:i,recentSubmissions:u})]})]})}const zu={sm:"max-w-[440px]",md:"max-w-[560px]",lg:"max-w-[720px]",xl:"max-w-[920px]"};function bt({open:e,title:t,description:r,onClose:s,footer:a,size:l="md",children:o}){return p.useEffect(()=>{if(!e)return;const c=u=>{u.key==="Escape"&&(s==null||s())},i=document.body.style.overflow;return document.body.style.overflow="hidden",document.addEventListener("keydown",c),()=>{document.body.style.overflow=i,document.removeEventListener("keydown",c)}},[e,s]),e?n.jsx("div",{className:"ht-modal-overlay",role:"presentation",onMouseDown:c=>{c.target===c.currentTarget&&(s==null||s())},children:n.jsxs("section",{role:"dialog","aria-modal":"true","aria-label":t,className:`ht-modal-panel w-full ${zu[l]||zu.md}`,children:[n.jsxs("header",{className:"flex items-start justify-between gap-4 border-b border-[var(--ht-border-subtle)] px-6 py-5",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-[20px] font-semibold leading-[1.5] text-[var(--ht-neutral-900)]",children:t}),r?n.jsx("p",{className:"mt-1 text-[13px] leading-[1.7] text-[var(--ht-neutral-500)]",children:r}):null]}),n.jsx("button",{type:"button",onClick:s,"aria-label":"",className:"ht-interactive inline-flex h-9 w-9 items-center justify-center rounded-[4px] border border-[var(--ht-border-subtle)] text-[var(--ht-neutral-500)] hover:bg-[var(--ht-bg-subtle)] hover:text-[var(--ht-neutral-800)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--ht-border-focus)] focus-visible:ring-offset-2",children:""})]}),n.jsx("div",{className:"px-6 py-5",children:o}),a?n.jsx("footer",{className:"flex items-center justify-start gap-3 border-t border-[var(--ht-border-subtle)] px-6 py-4",children:a}):null]})}):null}function Hy({onPost:e,onHomework:t,onGrade:r,onGradeImport:s,disabled:a=!1}){const l="ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-4 text-[13px] font-medium text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)] active:scale-[0.98] disabled:cursor-not-allowed disabled:opacity-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--ht-border-focus)] focus-visible:ring-offset-2";return n.jsxs("section",{className:"ht-surface p-5 sm:p-6",children:[n.jsx("h2",{className:"mb-5 text-[24px] font-semibold text-[var(--ht-neutral-900)]",children:" "}),n.jsxs("div",{className:"flex flex-wrap gap-3",children:[n.jsx("button",{type:"button",onClick:e,disabled:a,className:l,children:" "}),n.jsx("button",{type:"button",onClick:t,disabled:a,className:l,children:" "}),n.jsx("button",{type:"button",onClick:r,disabled:a,className:l,children:" "}),n.jsx("button",{type:"button",onClick:s,disabled:a,className:l,children:"   "})]})]})}function Vy(){return n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",className:"h-5 w-5","aria-hidden":"true",children:[n.jsx("path",{d:"M12 3a4 4 0 0 0-4 4v2.2c0 .8-.2 1.6-.7 2.3L6 13.4v1.1h12v-1.1l-1.3-1.9a4.2 4.2 0 0 1-.7-2.3V7a4 4 0 0 0-4-4Z",stroke:"currentColor",strokeWidth:"1.4"}),n.jsx("path",{d:"M10 17a2 2 0 0 0 4 0",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function Qy(){return n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",className:"h-5 w-5","aria-hidden":"true",children:[n.jsx("path",{d:"m10.5 3 .4 1.8c.1.4.4.7.8.9.4.1.9.1 1.3 0 .4-.2.7-.5.8-.9L14.2 3m4.3 2.5-1.4 1.2c-.3.3-.5.7-.5 1.1s.2.8.5 1.1c.3.3.7.5 1.1.5h1.8m0 4.2h-1.8c-.4 0-.8.2-1.1.5-.3.3-.5.7-.5 1.1s.2.8.5 1.1l1.4 1.2M14.2 21l-.4-1.8c-.1-.4-.4-.7-.8-.9a2 2 0 0 0-1.3 0c-.4.2-.7.5-.8.9L10.5 21m-4.3-2.5 1.4-1.2c.3-.3.5-.7.5-1.1s-.2-.8-.5-1.1c-.3-.3-.7-.5-1.1-.5H4.7m0-4.2h1.8c.4 0 .8-.2 1.1-.5.3-.3.5-.7.5-1.1s-.2-.8-.5-1.1L6.2 5.5",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),n.jsx("circle",{cx:"12",cy:"12",r:"2.4",stroke:"currentColor",strokeWidth:"1.4"})]})}function Ou({label:e,children:t,onClick:r}){return n.jsx("button",{type:"button","aria-label":e,onClick:r,className:"ht-interactive inline-flex h-10 w-10 items-center justify-center rounded-[4px] border border-[var(--ht-border-subtle)] bg-[var(--ht-bg-base)] text-[var(--ht-neutral-600)] hover:bg-[var(--ht-bg-subtle)] hover:text-[var(--ht-neutral-800)] active:scale-[0.98] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--ht-border-focus)] focus-visible:ring-offset-2",children:t})}function Gy({teacherName:e,avatarUrl:t,subjectLabel:r,onOpenNotifications:s,onOpenSettings:a,onOpenSchedule:l,onLogout:o}){return n.jsxs("header",{className:"ht-surface ht-fade-up mb-10 flex flex-col justify-between gap-4 p-5 sm:flex-row sm:items-center sm:p-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("img",{src:t,alt:` ${e}`,className:"h-12 w-12 rounded-full border border-[var(--ht-border-default)] object-cover"}),n.jsxs("div",{children:[n.jsxs("h1",{className:"ht-display text-[30px] font-semibold leading-[1.3] text-[var(--ht-neutral-900)]",children:[" . ",e]}),n.jsx("p",{className:"mt-1 text-[13px] text-[var(--ht-neutral-500)]",children:r})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{type:"button",onClick:l,className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[13px] font-medium text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)] active:scale-[0.98] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--ht-border-focus)] focus-visible:ring-offset-2",children:" "}),n.jsx(Ou,{label:"",onClick:s,children:n.jsx(Vy,{})}),n.jsx(Ou,{label:"",onClick:a,children:n.jsx(Qy,{})}),n.jsx("button",{type:"button",onClick:o,className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-4 text-[13px] font-medium text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)] active:scale-[0.98] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--ht-border-focus)] focus-visible:ring-offset-2",children:" "})]})]})}const Ye={dashboard:"dashboard",classes:"classes",snapshots:"snapshots",analysis:"analysis",actions:"actions"},Yy=[{id:Ye.dashboard,label:" ",icon:n.jsx("svg",{viewBox:"0 0 18 18",fill:"none",width:"15",height:"15",children:n.jsx("path",{d:"M1 9.5V16a1 1 0 001 1h4.5v-4.5h5V17H16a1 1 0 001-1V9.5L9 2 1 9.5z",stroke:"currentColor",strokeWidth:"1.4",strokeLinejoin:"round"})})},{id:Ye.classes,label:" ",icon:n.jsxs("svg",{viewBox:"0 0 18 18",fill:"none",width:"15",height:"15",children:[n.jsx("rect",{x:"1.5",y:"4",width:"15",height:"12",rx:"1.5",stroke:"currentColor",strokeWidth:"1.4"}),n.jsx("path",{d:"M5.5 4V2M12.5 4V2M1.5 8h15",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})},{id:Ye.snapshots,label:" ",icon:n.jsxs("svg",{viewBox:"0 0 18 18",fill:"none",width:"15",height:"15",children:[n.jsx("circle",{cx:"7",cy:"5.5",r:"2.5",stroke:"currentColor",strokeWidth:"1.4"}),n.jsx("path",{d:"M2 16c0-2.76 2.24-4.5 5-4.5s5 1.74 5 4.5",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"}),n.jsx("path",{d:"M12.5 7.5a2.5 2.5 0 010 5M14.5 16c0-1.8-.8-3.2-2-4",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})},{id:Ye.analysis,label:" ",icon:n.jsxs("svg",{viewBox:"0 0 18 18",fill:"none",width:"15",height:"15",children:[n.jsx("path",{d:"M2 14l3.5-4.5L8 12l4-6 2.5 3.5",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("rect",{x:"2",y:"2",width:"14",height:"14",rx:"2",stroke:"currentColor",strokeWidth:"1.4"})]})},{id:Ye.actions,label:" ",icon:n.jsxs("svg",{viewBox:"0 0 18 18",fill:"none",width:"15",height:"15",children:[n.jsx("path",{d:"M9 1v3M9 14v3M1 9h3M14 9h3M3.22 3.22l2.12 2.12M12.66 12.66l2.12 2.12M3.22 14.78l2.12-2.12M12.66 5.34l2.12-2.12",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"}),n.jsx("circle",{cx:"9",cy:"9",r:"2.5",stroke:"currentColor",strokeWidth:"1.4"})]})}];function Ky({risk:e}){const r={high:{label:"",bg:"#fee2e2",color:"#b91c1c"},medium:{label:"",bg:"#fef3c7",color:"#92400e"},low:{label:"",bg:"#dcf5e9",color:"#146f3e"}}[e]||{label:e||"",bg:"#f1f5f9",color:"#475569"};return n.jsx("span",{style:{display:"inline-flex",alignItems:"center",padding:"2px 10px",borderRadius:999,fontSize:11,fontWeight:700,background:r.bg,color:r.color,whiteSpace:"nowrap"},children:r.label})}function Sn({title:e,subtitle:t}){return n.jsxs("div",{className:"ht-section-heading",children:[n.jsx("h2",{className:"ht-section-title",children:e}),t&&n.jsx("p",{className:"ht-section-subtitle",children:t})]})}function Rs({label:e,value:t,accent:r="#2a4799",bg:s="#f0f4fd",icon:a}){return n.jsxs("article",{className:"ht-stat-card",style:{"--accent":r,"--bg":s},children:[n.jsx("div",{className:"ht-stat-icon",style:{background:s,color:r},children:a}),n.jsx("p",{className:"ht-stat-value",style:{color:r},children:t}),n.jsx("p",{className:"ht-stat-label",children:e})]})}const Pl={title:"",body:"",attachmentName:""},Ll={title:"",description:"",dueDate:"",maxMarks:"100",attachmentName:""},Du={studentId:"",examTitle:"",score:"",maxMarks:"100"},Bu={studentId:"",status:"pending",score:"",teacherComment:""},Ml={examTitle:"",defaultMaxMarks:"100",sourceType:"image",fileName:"",fileDataUrl:"",ocrText:""},_l={tone:"neutral",loading:!1,error:"",feedback:null,termComment:null},$u={pending:" ",submitted:"",graded:""},Xy=e=>new Promise((t,r)=>{const s=new FileReader;s.onload=()=>t(String(s.result||"")),s.onerror=()=>r(new Error("  .")),s.readAsDataURL(e)});function Jy(){var Di,Bi,$i,Ui,Wi,Hi,Vi,Qi,Gi,Yi,Ki,Xi,Ji;const e=pr(),{token:t,user:r,logout:s}=xe(),[a,l]=p.useState(!0),[o,c]=p.useState(!1),[i,u]=p.useState(""),[m,d]=p.useState(""),[h,w]=p.useState([]),[j,N]=p.useState([]),[b,x]=p.useState([]),[f,v]=p.useState(""),[S,k]=p.useState({pendingResponses:0,flaggedParents:0,repeatedIncidents:0,weeklySnapshots:[],classAnalysis:[]}),[P,R]=p.useState(Ye.dashboard),[A,F]=p.useState(""),[_,M]=p.useState("posts"),[L,E]=p.useState(!1),[T,W]=p.useState({open:!1,mode:"create",post:null}),[Q,ye]=p.useState(Pl),[B,V]=p.useState({open:!1,mode:"create",item:null}),[H,C]=p.useState(Ll),[O,Z]=p.useState({open:!1,row:null}),[te,ge]=p.useState(Du),[K,fe]=p.useState({open:!1,item:null}),[we,Ve]=p.useState(Bu),[q,$t]=p.useState({open:!1,student:null,profile:null,loading:!1,error:""}),[St,et]=p.useState({open:!1,title:"",kind:""}),[D,G]=p.useState({open:!1,stage:"upload",loading:!1,preview:null,rows:[]}),[X,Ct]=p.useState(Ml),[Pe,tt]=p.useState(_l),Ut=async()=>{var g,y;try{l(!0),u("");const[U,z]=await Promise.all([vm(t),ym(t)]),De=U.classes||[];w(De),N(U.homework||[]),x(U.announcements||[]),v(((g=U.subjects)==null?void 0:g[0])||((y=r==null?void 0:r.subjects)==null?void 0:y[0])||(r==null?void 0:r.subject)||""),k({pendingResponses:Number((z==null?void 0:z.pendingResponses)||0),flaggedParents:Number((z==null?void 0:z.flaggedParents)||0),repeatedIncidents:Number((z==null?void 0:z.repeatedIncidents)||0),weeklySnapshots:Array.isArray(z==null?void 0:z.weeklySnapshots)?z.weeklySnapshots:[],classAnalysis:Array.isArray(z==null?void 0:z.classAnalysis)?z.classAnalysis:[]})}catch(U){u(Qe(U,"   ."))}finally{l(!1)}};p.useEffect(()=>{Ut()},[t]),p.useEffect(()=>{A&&(h.some(g=>g.name===A)||(F(""),M("posts")))},[h,A]);const se=p.useMemo(()=>h.find(g=>g.name===A)||null,[h,A]),Bm=p.useMemo(()=>(r==null?void 0:r.profilePicture)||(r==null?void 0:r.avatarUrl)||Iu(r||{}),[r]),hn=p.useMemo(()=>{const g=b.map(z=>({id:`ann-${z.id}`,className:z.className,type:"",title:z.title,date:z.updatedAt||z.createdAt})),y=j.map(z=>({id:`hw-${z.id}`,className:z.className,type:"",title:z.title,date:z.updatedAt||z.createdAt})),U=h.flatMap(z=>(z.students||[]).flatMap(De=>(De.examMarks||[]).map(hr=>({id:`grade-${z.name}-${De.id}-${hr.subject}`,className:z.name,type:"",title:`${De.name} - ${hr.examTitle||hr.subject||""}`,date:hr.updatedAt}))));return[...g,...y,...U].filter(z=>z.date).sort((z,De)=>new Date(De.date)-new Date(z.date))},[b,j,h]),$m=p.useMemo(()=>L?hn:hn.slice(0,8),[hn,L]),Ya=p.useMemo(()=>b.filter(g=>g.className===A),[b,A]),fr=p.useMemo(()=>j.filter(g=>g.className===A),[j,A]),Ka=p.useMemo(()=>((se==null?void 0:se.students)||[]).map(g=>{const y=(g.examMarks||[]).find(U=>String(U.subject||"").toLowerCase()===String(f||"").toLowerCase());return{studentId:g.id,studentName:g.name,examTitle:(y==null?void 0:y.examTitle)||"",score:(y==null?void 0:y.rawScore)==null?(y==null?void 0:y.score)??null:Number(y.rawScore),maxMarks:(y==null?void 0:y.maxMarks)==null?(y==null?void 0:y.score)==null?null:100:Number(y.maxMarks),updatedAt:(y==null?void 0:y.updatedAt)||null}}),[se,f]),Um=p.useMemo(()=>((se==null?void 0:se.students)||[]).map(g=>{const y=fr.flatMap(z=>z.assignments.filter(De=>De.studentId===g.id));let U="";return y.some(z=>z.status==="pending")?U="":y.some(z=>z.status==="submitted")?U=" ":y.length&&y.every(z=>z.status==="graded")&&(U=""),{id:g.id,name:g.name,email:g.email||"",avatarUrl:Iu(g),status:U}}),[se,fr]),Wm=p.useMemo(()=>{var U;const g=Ka.filter(z=>z.score!=null),y=g.length?g.reduce((z,De)=>z+Number(De.score||0)/(Number(De.maxMarks||100)||100)*100,0)/g.length:0;return{studentCount:((U=se==null?void 0:se.students)==null?void 0:U.length)||0,homeworkCount:fr.length,averageGrade:y,announcementCount:Ya.length}},[se,fr,Ya,Ka]),Hm=p.useMemo(()=>fr.flatMap(g=>g.assignments.filter(y=>y.status==="submitted"||y.status==="graded").map(y=>({id:`${g.id}-${y.studentId}`,studentName:y.studentName,homeworkTitle:g.title,status:y.status,updatedAt:y.updatedAt}))).sort((g,y)=>new Date(y.updatedAt)-new Date(g.updatedAt)).slice(0,8),[fr]),xn=()=>{u(""),d("")},Vm=()=>{s(),e("/login",{replace:!0})},Qm=()=>et({open:!0,title:"",kind:"notifications"}),Gm=()=>et({open:!0,title:"",kind:"settings"}),zi=()=>{xn(),W({open:!0,mode:"create",post:null}),ye(Pl)},Ym=g=>{xn(),W({open:!0,mode:"edit",post:g}),ye({title:g.title||"",body:g.body||"",attachmentName:g.attachmentName||""})},Km=async()=>{if(A){if(!Q.title.trim()){u("  .");return}try{c(!0),u(""),T.mode==="edit"&&T.post?(await I0(t,T.post.id,{title:Q.title.trim(),body:Q.body.trim(),attachmentName:Q.attachmentName.trim()}),d("  .")):(await bm(t,{className:A,subject:f,title:Q.title.trim(),body:Q.body.trim(),attachmentName:Q.attachmentName.trim()}),d("  .")),W({open:!1,mode:"create",post:null}),ye(Pl),await Ut()}catch(g){u(Qe(g,"  ."))}finally{c(!1)}}},Xm=async g=>{if(window.confirm("     "))try{c(!0),u(""),await R0(t,g.id),d("  ."),await Ut()}catch(y){u(Qe(y,"  ."))}finally{c(!1)}},Oi=()=>{xn(),V({open:!0,mode:"create",item:null}),C(Ll)},Jm=g=>{xn(),V({open:!0,mode:"edit",item:g}),C({title:g.title||"",description:g.description||"",dueDate:g.dueDate?new Date(g.dueDate).toISOString().slice(0,10):"",maxMarks:String(g.maxMarks||100),attachmentName:g.attachmentName||""})},Zm=async()=>{if(!A)return;const g=H.title.trim(),y=Number(H.maxMarks);if(!g){u("  .");return}if(Number.isNaN(y)||y<=0){u("   .");return}try{c(!0),u("");const U={title:g,description:H.description.trim(),dueDate:H.dueDate||null,maxMarks:y,attachmentName:H.attachmentName.trim()};B.mode==="edit"&&B.item?(await T0(t,B.item.id,U),d("  .")):(await F0(t,{className:A,subject:f,...U}),d("  .")),V({open:!1,mode:"create",item:null}),C(Ll),await Ut()}catch(U){u(Qe(U,"  ."))}finally{c(!1)}},qm=async g=>{if(window.confirm("     "))try{c(!0),u(""),await L0(t,g.id),d("  ."),await Ut()}catch(y){u(Qe(y,"  ."))}finally{c(!1)}},ef=g=>{var U;const y=(U=g.assignments)==null?void 0:U[0];fe({open:!0,item:g}),Ve({studentId:(y==null?void 0:y.studentId)||"",status:(y==null?void 0:y.status)||"pending",score:(y==null?void 0:y.score)==null?"":String(y.score),teacherComment:(y==null?void 0:y.teacherComment)||""})},rt=p.useMemo(()=>{const g=K.item;return!g||!we.studentId?null:g.assignments.find(y=>y.studentId===we.studentId)||null},[K.item,we.studentId]),tf=g=>{var U;const y=(U=K.item)==null?void 0:U.assignments.find(z=>z.studentId===g);y&&Ve({studentId:g,status:y.status||"pending",score:y.score==null?"":String(y.score),teacherComment:y.teacherComment||""})},rf=async()=>{const g=K.item;if(!g||!we.studentId)return;const y=we.score===""?null:Number(we.score);if(y!==null&&Number.isNaN(y)){u("   .");return}try{c(!0),u(""),await P0(t,g.id,{studentId:we.studentId,status:we.status,score:y,teacherComment:we.teacherComment}),d("   ."),await Ut(),fe({open:!1,item:null}),Ve(Bu)}catch(U){u(Qe(U,"   ."))}finally{c(!1)}},Xa=(g=null)=>{var y,U;xn(),Z({open:!0,row:g}),ge({studentId:(g==null?void 0:g.studentId)||((U=(y=se==null?void 0:se.students)==null?void 0:y[0])==null?void 0:U.id)||"",examTitle:(g==null?void 0:g.examTitle)||"",score:(g==null?void 0:g.score)==null?"":String(g.score),maxMarks:(g==null?void 0:g.maxMarks)==null?"100":String(g.maxMarks)})},nf=async()=>{if(!te.studentId){u("  .");return}const g=Number(te.score),y=Number(te.maxMarks);if(Number.isNaN(g)||Number.isNaN(y)||y<=0){u("   .");return}try{c(!0),u(""),await w0(t,{studentId:te.studentId,subject:f,examTitle:te.examTitle.trim()||"",score:g,maxMarks:y}),d("  ."),Z({open:!1,row:null}),ge(Du),await Ut()}catch(U){u(Qe(U,"  ."))}finally{c(!1)}},sf=async g=>{tt(_l),$t({open:!0,student:g,profile:null,loading:!0,error:""});try{const y=await b0(t,g.id,{subject:f});$t({open:!0,student:g,profile:y,loading:!1,error:""})}catch(y){$t({open:!0,student:g,profile:null,loading:!1,error:Qe(y,"   .")})}},ds=(g,y)=>{var z;const U=A||((z=h[0])==null?void 0:z.name)||"";U&&(R(Ye.classes),F(U),M(g),y==="post"?zi():y==="homework"?Oi():y==="grade"?Xa():y==="grade-import"&&Ja(U))},Ja=(g="")=>{var U;const y=g||A||((U=h[0])==null?void 0:U.name)||"";if(!y){u("      .");return}F(y),Ct({...Ml,examTitle:te.examTitle||""}),G({open:!0,stage:"upload",loading:!1,preview:null,rows:[]})},Za=()=>{G({open:!1,stage:"upload",loading:!1,preview:null,rows:[]}),Ct(Ml)},af=async g=>{var U;const y=(U=g.target.files)==null?void 0:U[0];if(y)try{const z=await Xy(y);Ct(De=>{var hr;return{...De,fileName:y.name||"",fileDataUrl:z,sourceType:(hr=y.type)!=null&&hr.includes("pdf")?"pdf":"image"}})}catch(z){u(Qe(z,"  ."))}},lf=async()=>{if(!A){u("  .");return}if(!X.fileDataUrl&&!X.ocrText.trim()){u(" /    OCR  .");return}try{G(y=>({...y,loading:!0})),u("");const g=await k0(t,{className:A,subject:f,examTitle:X.examTitle.trim()||te.examTitle.trim()||"Assessment",defaultMaxMarks:Number(X.defaultMaxMarks||100),sourceType:X.sourceType,fileDataUrl:X.fileDataUrl,ocrText:X.ocrText.trim()});G(y=>({...y,loading:!1,stage:"preview",preview:g,rows:((g==null?void 0:g.detectedRows)||[]).map(U=>({...U,skip:!!U.skip,confirmOverwrite:!!U.confirmOverwrite,examTitle:U.examTitle||X.examTitle.trim()||"Assessment"}))}))}catch(g){G(y=>({...y,loading:!1})),u(Qe(g,"   ."))}},Lr=(g,y)=>G(U=>({...U,rows:U.rows.map(z=>z.rowIndex===g?{...z,...y}:z)})),of=async()=>{if(!D.rows.length){u("   .");return}try{G(y=>({...y,loading:!0})),u("");const g=await S0(t,{className:A,subject:f,examTitle:X.examTitle.trim()||"Assessment",confirmImport:!0,rows:D.rows.map(y=>({rowIndex:y.rowIndex,sourceStudentName:y.sourceStudentName,matchedStudentId:y.matchedStudentId||"",score:y.score,maxMarks:y.maxMarks,examTitle:y.examTitle,skip:y.skip===!0,confirmOverwrite:y.confirmOverwrite===!0}))});d(` : ${ie(g.importedCount)}   : ${ie(g.skippedCount)}.`),Za(),await Ut()}catch(g){G(y=>({...y,loading:!1})),u(Qe(g,"  ."))}},cf=async()=>{if(q.student)try{tt(y=>({...y,loading:!0,error:""}));const g=await C0(t,q.student.id,{subject:f,tone:Pe.tone});tt(y=>({...y,loading:!1,feedback:(g==null?void 0:g.draft)||null}))}catch(g){tt(y=>({...y,loading:!1,error:Qe(g,"   .")}))}},uf=async()=>{if(q.student)try{tt(y=>({...y,loading:!0,error:""}));const g=await E0(t,q.student.id,{subject:f,tone:Pe.tone,termLabel:"Current Term"});tt(y=>({...y,loading:!1,termComment:(g==null?void 0:g.comment)||null}))}catch(g){tt(y=>({...y,loading:!1,error:Qe(g,"   .")}))}},df=g=>{g!==Ye.classes&&(F(""),M("posts")),R(g),window.scrollTo({top:0,behavior:"smooth"})},pf=()=>n.jsxs("div",{className:"ht-page-body",children:[n.jsx(Sn,{title:" ",subtitle:"     "}),n.jsxs("div",{className:"ht-stats-row",children:[n.jsx(Rs,{label:" ",value:ie(S.pendingResponses),accent:"#2a4799",bg:"#f0f4fd",icon:""}),n.jsx(Rs,{label:"   ",value:ie(S.flaggedParents),accent:"#92400e",bg:"#fef3c7",icon:""}),n.jsx(Rs,{label:" ",value:ie(S.repeatedIncidents),accent:"#b91c1c",bg:"#fee2e2",icon:""}),n.jsx(Rs,{label:" ",value:ie(h.length),accent:"#146f3e",bg:"#dcf5e9",icon:""})]}),n.jsx(_y,{items:$m,onViewAll:()=>E(g=>!g)})]}),mf=()=>se?n.jsxs("div",{className:"ht-page-body",children:[n.jsxs("button",{type:"button",onClick:()=>{F(""),M("posts")},className:"ht-back-btn ht-interactive",children:[n.jsx("svg",{viewBox:"0 0 16 16",fill:"none",width:"14",height:"14",children:n.jsx("path",{d:"M10 12l-4-4 4-4",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})}),"  "]}),n.jsx(Wy,{className:se.name,studentCount:se.students.length,activeTab:_,onChangeTab:M,posts:Ya,homework:fr,grades:Ka,students:Um,summary:Wm,recentSubmissions:Hm,onCreatePost:zi,onEditPost:Ym,onDeletePost:Xm,onCreateHomework:Oi,onEditHomework:Jm,onDeleteHomework:qm,onOpenHomeworkDetail:ef,onAddGrade:()=>Xa(),onImportGrade:()=>Ja(se.name),onEditGrade:g=>Xa(g),onViewStudent:g=>sf(g)})]}):n.jsxs("div",{className:"ht-page-body",children:[n.jsx(Sn,{title:" ",subtitle:h.length?`${ie(h.length)}       `:"    "}),h.length?n.jsx("div",{className:"ht-class-grid",children:h.map(g=>n.jsx(Ay,{className:g.name,studentCount:g.students.length,onClick:()=>{F(g.name),M("posts")}},g.name))}):n.jsx(_t,{message:"    "})]}),ff=()=>{var g;return n.jsxs("div",{className:"ht-page-body",children:[n.jsx(Sn,{title:" ",subtitle:`   ${ie(((g=S.weeklySnapshots)==null?void 0:g.length)||0)} `}),(S.weeklySnapshots||[]).length?n.jsx("div",{className:"ht-snapshot-grid",children:S.weeklySnapshots.map(y=>n.jsxs("article",{className:"ht-surface ht-snapshot-card",children:[n.jsxs("div",{className:"ht-snap-top",children:[n.jsx("div",{className:"ht-snap-avatar",children:(y.studentName||"")[0]}),n.jsxs("div",{className:"ht-snap-info",children:[n.jsx("p",{className:"ht-snap-name",children:y.studentName}),n.jsx("p",{className:"ht-snap-class",children:y.className||""})]}),n.jsx(Ky,{risk:y.riskStatus})]}),n.jsx("div",{className:"ht-snap-divider"}),n.jsxs("dl",{className:"ht-snap-dl",children:[y.academicDirection&&n.jsxs(n.Fragment,{children:[n.jsx("dt",{children:" "}),n.jsx("dd",{children:y.academicDirection})]}),y.attendancePattern&&n.jsxs(n.Fragment,{children:[n.jsx("dt",{children:""}),n.jsx("dd",{children:y.attendancePattern})]}),y.behaviorNote&&n.jsxs(n.Fragment,{children:[n.jsx("dt",{children:""}),n.jsx("dd",{children:y.behaviorNote})]}),y.parentEngagementStatus&&n.jsxs(n.Fragment,{children:[n.jsx("dt",{children:" "}),n.jsx("dd",{children:y.parentEngagementStatus})]})]})]},`${y.studentId}-${y.className}`))}):n.jsx(_t,{message:"      ."})]})},hf=()=>n.jsxs("div",{className:"ht-page-body",children:[n.jsx(Sn,{title:"  ",subtitle:"     "}),(S.classAnalysis||[]).length?n.jsx("div",{className:"ht-analysis-list",children:S.classAnalysis.map((g,y)=>n.jsxs("article",{className:"ht-surface ht-analysis-card",children:[n.jsx("div",{className:"ht-analysis-bar"}),n.jsxs("div",{className:"ht-analysis-content",children:[n.jsxs("div",{className:"ht-analysis-tags",children:[g.className&&n.jsx("span",{className:"ht-tag ht-tag-class",children:g.className}),g.type&&n.jsx("span",{className:"ht-tag ht-tag-type",children:g.type})]}),n.jsx("p",{className:"ht-analysis-message",children:g.message}),g.suggestion&&n.jsxs("div",{className:"ht-analysis-suggestion",children:[n.jsx("span",{children:""}),n.jsx("p",{children:g.suggestion})]})]})]},`${g.type}-${g.className}-${y}`))}):n.jsx(_t,{message:"     ."})]}),xf=()=>n.jsxs("div",{className:"ht-page-body",children:[n.jsx(Sn,{title:" ",subtitle:"    "}),n.jsx(Hy,{onPost:()=>ds("posts","post"),onHomework:()=>ds("homework","homework"),onGrade:()=>ds("grades","grade"),onGradeImport:()=>ds("grades","grade-import"),disabled:!h.length})]});return n.jsxs("main",{dir:"rtl",className:"ht-theme ht-app-root",children:[n.jsxs("div",{className:"ht-app-container",children:[n.jsx(Gy,{teacherName:(r==null?void 0:r.name)||"",avatarUrl:Bm,subjectLabel:f?`  : ${f}`:"  ",onOpenNotifications:Qm,onOpenSettings:Gm,onOpenSchedule:()=>e("/teacher/schedule"),onLogout:Vm}),n.jsx("nav",{className:"ht-page-nav",role:"tablist","aria-label":" ",children:Yy.map(({id:g,label:y,icon:U})=>n.jsxs("button",{type:"button",role:"tab","aria-selected":P===g,onClick:()=>df(g),className:`ht-nav-btn ht-interactive${P===g?" active":""}`,children:[n.jsx("span",{className:"ht-nav-btn-icon",children:U}),n.jsx("span",{className:"ht-nav-btn-label",children:y}),P===g&&n.jsx("span",{className:"ht-nav-btn-indicator","aria-hidden":"true"})]},g))}),i&&n.jsx("div",{className:"ht-banner ht-banner-error",children:i}),m&&n.jsx("div",{className:"ht-banner ht-banner-success",children:m}),a?n.jsx("div",{className:"ht-loading-wrap",children:n.jsx("div",{className:"ht-loading-grid",children:[200,140,300,180,260,100].map((g,y)=>n.jsx("div",{className:"ht-loading-bone",style:{height:g}},y))})}):n.jsxs("div",{className:"ht-page-enter",children:[P===Ye.dashboard&&pf(),P===Ye.classes&&mf(),P===Ye.snapshots&&ff(),P===Ye.analysis&&hf(),P===Ye.actions&&xf()]})]}),n.jsx(bt,{open:T.open,onClose:()=>W({open:!1,mode:"create",post:null}),title:T.mode==="edit"?" ":" ",description:"     .",footer:n.jsxs(n.Fragment,{children:[n.jsx("button",{type:"button",onClick:()=>W({open:!1,mode:"create",post:null}),className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-4 text-[13px] text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)] active:scale-[0.98]",children:""}),n.jsx("button",{type:"button",disabled:o,onClick:Km,className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-primary-600)] bg-[var(--ht-primary-600)] px-4 text-[13px] text-white hover:bg-[var(--ht-primary-700)] active:scale-[0.98] disabled:opacity-60",children:o?" ...":""})]}),children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:""}),n.jsx("input",{type:"text",value:Q.title,onChange:g=>ye(y=>({...y,title:g.target.value})),className:"h-10 w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[14px] text-[var(--ht-neutral-800)] outline-none focus:border-[var(--ht-border-focus)]"})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:""}),n.jsx("textarea",{value:Q.body,onChange:g=>ye(y=>({...y,body:g.target.value})),className:"min-h-[120px] w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 py-2 text-[14px] leading-[1.8] text-[var(--ht-neutral-800)] outline-none focus:border-[var(--ht-border-focus)]"})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:""}),n.jsx("input",{type:"text",value:Q.attachmentName,onChange:g=>ye(y=>({...y,attachmentName:g.target.value})),className:"h-10 w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[14px] text-[var(--ht-neutral-800)] outline-none focus:border-[var(--ht-border-focus)]"})]})]})}),n.jsx(bt,{open:B.open,onClose:()=>V({open:!1,mode:"create",item:null}),title:B.mode==="edit"?" ":" ",description:"    .",footer:n.jsxs(n.Fragment,{children:[n.jsx("button",{type:"button",onClick:()=>V({open:!1,mode:"create",item:null}),className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-4 text-[13px] text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)] active:scale-[0.98]",children:""}),n.jsx("button",{type:"button",disabled:o,onClick:Zm,className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-primary-600)] bg-[var(--ht-primary-600)] px-4 text-[13px] text-white hover:bg-[var(--ht-primary-700)] active:scale-[0.98] disabled:opacity-60",children:o?" ...":""})]}),children:n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[n.jsxs("label",{className:"block sm:col-span-2",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:" "}),n.jsx("input",{type:"text",value:H.title,onChange:g=>C(y=>({...y,title:g.target.value})),className:"h-10 w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[14px] text-[var(--ht-neutral-800)] outline-none focus:border-[var(--ht-border-focus)]"})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:" "}),n.jsx("input",{type:"date",value:H.dueDate,onChange:g=>C(y=>({...y,dueDate:g.target.value})),className:"h-10 w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[14px] text-[var(--ht-neutral-800)] outline-none focus:border-[var(--ht-border-focus)]"})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:""}),n.jsx("input",{type:"number",min:"1",value:H.maxMarks,onChange:g=>C(y=>({...y,maxMarks:g.target.value})),className:"h-10 w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[14px] text-[var(--ht-neutral-800)] outline-none focus:border-[var(--ht-border-focus)]"})]}),n.jsxs("label",{className:"block sm:col-span-2",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:""}),n.jsx("textarea",{value:H.description,onChange:g=>C(y=>({...y,description:g.target.value})),className:"min-h-[100px] w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 py-2 text-[14px] leading-[1.8] text-[var(--ht-neutral-800)] outline-none focus:border-[var(--ht-border-focus)]"})]}),n.jsxs("label",{className:"block sm:col-span-2",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:""}),n.jsx("input",{type:"text",value:H.attachmentName,onChange:g=>C(y=>({...y,attachmentName:g.target.value})),className:"h-10 w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[14px] text-[var(--ht-neutral-800)] outline-none focus:border-[var(--ht-border-focus)]"})]})]})}),n.jsx(bt,{open:O.open,onClose:()=>Z({open:!1,row:null}),title:" ",description:"    .",footer:n.jsxs(n.Fragment,{children:[n.jsx("button",{type:"button",disabled:o,onClick:()=>{Z({open:!1,row:null}),Ja(A)},className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-4 text-[13px] text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)] active:scale-[0.98] disabled:opacity-60",children:"  "}),n.jsx("button",{type:"button",onClick:()=>Z({open:!1,row:null}),className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-4 text-[13px] text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)] active:scale-[0.98]",children:""}),n.jsx("button",{type:"button",disabled:o,onClick:nf,className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-primary-600)] bg-[var(--ht-primary-600)] px-4 text-[13px] text-white hover:bg-[var(--ht-primary-700)] active:scale-[0.98] disabled:opacity-60",children:o?" ...":""})]}),children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:""}),n.jsxs("select",{value:te.studentId,onChange:g=>ge(y=>({...y,studentId:g.target.value})),className:"h-10 w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[14px] text-[var(--ht-neutral-800)] outline-none focus:border-[var(--ht-border-focus)]",children:[n.jsx("option",{value:"",children:" "}),((se==null?void 0:se.students)||[]).map(g=>n.jsx("option",{value:g.id,children:g.name},g.id))]})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:""}),n.jsx("input",{type:"text",value:te.examTitle,onChange:g=>ge(y=>({...y,examTitle:g.target.value})),className:"h-10 w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[14px] text-[var(--ht-neutral-800)] outline-none focus:border-[var(--ht-border-focus)]"})]}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:""}),n.jsx("input",{type:"number",min:"0",value:te.score,onChange:g=>ge(y=>({...y,score:g.target.value})),className:"h-10 w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[14px] text-[var(--ht-neutral-800)] outline-none focus:border-[var(--ht-border-focus)]"})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:""}),n.jsx("input",{type:"number",min:"1",value:te.maxMarks,onChange:g=>ge(y=>({...y,maxMarks:g.target.value})),className:"h-10 w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[14px] text-[var(--ht-neutral-800)] outline-none focus:border-[var(--ht-border-focus)]"})]})]})]})}),n.jsx(bt,{open:D.open,onClose:Za,title:"    ",description:"   PDF   OCR      .",size:"xl",footer:n.jsxs(n.Fragment,{children:[n.jsx("button",{type:"button",onClick:Za,className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-4 text-[13px] text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)] active:scale-[0.98]",children:""}),D.stage==="upload"?n.jsx("button",{type:"button",disabled:D.loading,onClick:lf,className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-primary-600)] bg-[var(--ht-primary-600)] px-4 text-[13px] text-white hover:bg-[var(--ht-primary-700)] active:scale-[0.98] disabled:opacity-60",children:D.loading?" ...":""}):n.jsx("button",{type:"button",disabled:D.loading,onClick:of,className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-primary-600)] bg-[var(--ht-primary-600)] px-4 text-[13px] text-white hover:bg-[var(--ht-primary-700)] active:scale-[0.98] disabled:opacity-60",children:D.loading?" ...":" "})]}),children:D.stage==="upload"?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("p",{className:"text-[13px] text-[var(--ht-neutral-500)]",children:[" : ",A||"-","  : ",f||"-"]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:"  "}),n.jsx("input",{type:"file",accept:"image/*,application/pdf",onChange:af,className:"h-10 w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[13px] text-[var(--ht-neutral-700)]"}),X.fileName&&n.jsx("p",{className:"mt-1 text-[12px] text-[var(--ht-neutral-500)]",children:X.fileName})]}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:" "}),n.jsx("input",{type:"text",value:X.examTitle,onChange:g=>Ct(y=>({...y,examTitle:g.target.value})),className:"h-10 w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[14px] text-[var(--ht-neutral-800)] outline-none"})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:"  "}),n.jsx("input",{type:"number",min:"1",value:X.defaultMaxMarks,onChange:g=>Ct(y=>({...y,defaultMaxMarks:g.target.value})),className:"h-10 w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[14px] text-[var(--ht-neutral-800)] outline-none"})]})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:" OCR ()"}),n.jsx("textarea",{value:X.ocrText,onChange:g=>Ct(y=>({...y,ocrText:g.target.value})),className:"min-h-[120px] w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 py-2 text-[13px] text-[var(--ht-neutral-800)] outline-none",placeholder:"  OCR    ."})]})]}):n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"grid gap-3 sm:grid-cols-4",children:[[" ",(Bi=(Di=D.preview)==null?void 0:Di.summary)==null?void 0:Bi.totalRows],[" ",(Ui=($i=D.preview)==null?void 0:$i.summary)==null?void 0:Ui.matchedRows],["  ",(Hi=(Wi=D.preview)==null?void 0:Wi.summary)==null?void 0:Hi.unrecognizedRows],["  ",(Qi=(Vi=D.preview)==null?void 0:Vi.summary)==null?void 0:Qi.inconsistentRows]].map(([g,y])=>n.jsxs("article",{className:"ht-soft-surface p-3",children:[n.jsx("p",{className:"text-[11px] text-[var(--ht-neutral-500)]",children:g}),n.jsx("p",{className:"mt-1 text-[18px] font-semibold text-[var(--ht-neutral-900)]",children:ie(y||0)})]},g))}),n.jsx("div",{className:"max-h-[420px] overflow-auto rounded-[4px] border border-[var(--ht-border-subtle)]",children:n.jsxs("table",{className:"min-w-full border-collapse text-right",children:[n.jsx("thead",{className:"bg-[var(--ht-bg-subtle)]",children:n.jsx("tr",{children:["  "," ","","","","",""].map(g=>n.jsx("th",{className:"whitespace-nowrap px-3 py-2 text-[11px] font-semibold uppercase tracking-[0.06em] text-[var(--ht-neutral-500)]",children:g},g))})}),n.jsx("tbody",{children:D.rows.map(g=>{var y,U;return n.jsxs("tr",{className:"border-t border-[var(--ht-border-subtle)]",children:[n.jsx("td",{className:"whitespace-nowrap px-3 py-2 text-[13px] text-[var(--ht-neutral-800)]",children:g.sourceStudentName||`Row ${g.rowIndex+1}`}),n.jsx("td",{className:"px-3 py-2",children:n.jsxs("select",{value:g.matchedStudentId||"",onChange:z=>Lr(g.rowIndex,{matchedStudentId:z.target.value}),className:"h-9 w-[210px] rounded-[4px] border border-[var(--ht-border-default)] px-2 text-[12px] text-[var(--ht-neutral-800)] outline-none",children:[n.jsx("option",{value:"",children:"Unrecognized"}),((se==null?void 0:se.students)||[]).map(z=>n.jsx("option",{value:z.id,children:z.name},z.id))]})}),n.jsx("td",{className:"px-3 py-2",children:n.jsx("input",{type:"number",value:g.score??"",onChange:z=>Lr(g.rowIndex,{score:z.target.value}),className:"h-9 w-20 rounded-[4px] border border-[var(--ht-border-default)] px-2 text-[12px] outline-none"})}),n.jsx("td",{className:"px-3 py-2",children:n.jsx("input",{type:"number",value:g.maxMarks??"",onChange:z=>Lr(g.rowIndex,{maxMarks:z.target.value}),className:"h-9 w-20 rounded-[4px] border border-[var(--ht-border-default)] px-2 text-[12px] outline-none"})}),n.jsx("td",{className:"px-3 py-2",children:n.jsx("input",{type:"text",value:g.examTitle||"",onChange:z=>Lr(g.rowIndex,{examTitle:z.target.value}),className:"h-9 w-28 rounded-[4px] border border-[var(--ht-border-default)] px-2 text-[12px] outline-none"})}),n.jsxs("td",{className:"px-3 py-2 text-[11px] text-[var(--ht-neutral-500)]",children:[(y=g.issues)!=null&&y.length?g.issues.join(" / "):"-",(U=g.overwrite)!=null&&U.requiresOverwriteConfirmation?n.jsxs("label",{className:"mt-1 flex items-center gap-1 text-[11px] text-[var(--ht-danger-600)]",children:[n.jsx("input",{type:"checkbox",checked:g.confirmOverwrite===!0,onChange:z=>Lr(g.rowIndex,{confirmOverwrite:z.target.checked})}),n.jsx("span",{children:" "})]}):null]}),n.jsx("td",{className:"px-3 py-2 text-center",children:n.jsx("input",{type:"checkbox",checked:g.skip===!0,onChange:z=>Lr(g.rowIndex,{skip:z.target.checked})})})]},g.rowIndex)})})]})})]})}),n.jsx(bt,{open:K.open,onClose:()=>fe({open:!1,item:null}),title:((Gi=K.item)==null?void 0:Gi.title)||" ",description:"    .",size:"lg",footer:n.jsxs(n.Fragment,{children:[n.jsx("button",{type:"button",onClick:()=>fe({open:!1,item:null}),className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-4 text-[13px] text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)] active:scale-[0.98]",children:""}),n.jsx("button",{type:"button",disabled:o||!we.studentId,onClick:rf,className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-primary-600)] bg-[var(--ht-primary-600)] px-4 text-[13px] text-white hover:bg-[var(--ht-primary-700)] active:scale-[0.98] disabled:opacity-60",children:o?" ...":""})]}),children:K.item?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("p",{className:"text-[13px] text-[var(--ht-neutral-500)]",children:[": ",Ly(K.item.dueDate)]}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:""}),n.jsx("select",{value:we.studentId,onChange:g=>tf(g.target.value),className:"h-10 w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[14px] text-[var(--ht-neutral-800)] outline-none focus:border-[var(--ht-border-focus)]",children:(K.item.assignments||[]).map(g=>n.jsx("option",{value:g.studentId,children:g.studentName},g.studentId))})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:""}),n.jsxs("select",{value:we.status,onChange:g=>Ve(y=>({...y,status:g.target.value})),className:"h-10 w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[14px] text-[var(--ht-neutral-800)] outline-none focus:border-[var(--ht-border-focus)]",children:[n.jsx("option",{value:"pending",children:" "}),n.jsx("option",{value:"submitted",children:""}),n.jsx("option",{value:"graded",children:""})]})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:""}),n.jsx("input",{type:"number",min:"0",max:K.item.maxMarks,value:we.score,onChange:g=>Ve(y=>({...y,score:g.target.value})),className:"h-10 w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[14px] text-[var(--ht-neutral-800)] outline-none focus:border-[var(--ht-border-focus)]"})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:" "}),n.jsx("input",{type:"text",value:we.teacherComment,onChange:g=>Ve(y=>({...y,teacherComment:g.target.value})),className:"h-10 w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[14px] text-[var(--ht-neutral-800)] outline-none focus:border-[var(--ht-border-focus)]"})]})]}),n.jsxs("div",{className:"ht-soft-surface p-4",children:[n.jsxs("p",{className:"text-[13px] text-[var(--ht-neutral-600)]",children:["  : ",$u[rt==null?void 0:rt.status]||"-"]}),n.jsxs("p",{className:"mt-1 text-[13px] text-[var(--ht-neutral-600)]",children:[" : ",lr(rt==null?void 0:rt.updatedAt)]}),n.jsxs("p",{className:"mt-1 text-[13px] text-[var(--ht-neutral-600)]",children:[" : ",(rt==null?void 0:rt.submissionAttachment)||(rt==null?void 0:rt.submissionText)||"  "]})]})]}):null}),n.jsx(bt,{open:q.open,onClose:()=>{$t({open:!1,student:null,profile:null,loading:!1,error:""}),tt(_l)},title:q.student?` : ${q.student.name}`:" ",description:"     .",size:"lg",children:q.loading?n.jsx("p",{className:"text-[14px] text-[var(--ht-neutral-500)]",children:"   ..."}):q.error?n.jsx("p",{className:"text-[14px] text-[var(--ht-danger-600)]",children:q.error}):q.profile?n.jsxs("div",{className:"space-y-5",children:[n.jsx("section",{className:"grid gap-3 sm:grid-cols-2",children:[["",q.profile.student.name],[" ",q.profile.student.email||"-"],[" ",(()=>{const g=q.profile.examMarks||[];if(!g.length)return"0%";const y=g.reduce((U,z)=>U+Number(z.rawScore??z.score??0)/(Number(z.maxMarks||100)||100)*100,0)/g.length;return`${ie(y,1)}%`})()],[" ",((Ki=(Yi=q.profile.feedbackReceived)==null?void 0:Yi[0])==null?void 0:Ki.content)||"-"]].map(([g,y])=>n.jsxs("div",{className:"ht-soft-surface p-4",children:[n.jsx("p",{className:"text-[12px] text-[var(--ht-neutral-500)]",children:g}),n.jsx("p",{className:"mt-1 text-[16px] font-semibold text-[var(--ht-neutral-900)]",children:y})]},g))}),q.profile.weeklySnapshot&&n.jsxs("section",{className:"ht-soft-surface p-4",children:[n.jsx("h4",{className:"text-[15px] font-semibold text-[var(--ht-neutral-900)]",children:"AI Weekly Snapshot"}),n.jsxs("p",{className:"mt-2 text-[13px] text-[var(--ht-neutral-600)]",children:[q.profile.weeklySnapshot.academicDirection,"  ",q.profile.weeklySnapshot.riskStatus," risk"]}),n.jsx("p",{className:"mt-1 text-[13px] text-[var(--ht-neutral-600)]",children:q.profile.weeklySnapshot.attendancePattern}),n.jsx("p",{className:"mt-1 text-[13px] text-[var(--ht-neutral-600)]",children:q.profile.weeklySnapshot.behaviorNote}),n.jsxs("p",{className:"mt-1 text-[13px] text-[var(--ht-neutral-600)]",children:["Parent engagement: ",q.profile.weeklySnapshot.parentEngagementStatus]})]}),n.jsxs("section",{className:"ht-soft-surface space-y-3 p-4",children:[n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsx("h4",{className:"text-[15px] font-semibold text-[var(--ht-neutral-900)]",children:"AI Feedback Assistant"}),n.jsxs("select",{value:Pe.tone,onChange:g=>tt(y=>({...y,tone:g.target.value})),className:"h-9 rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[13px] text-[var(--ht-neutral-700)] outline-none",children:[n.jsx("option",{value:"neutral",children:"Neutral"}),n.jsx("option",{value:"encouraging",children:"Encouraging"}),n.jsx("option",{value:"firm",children:"Firm"})]}),n.jsx("button",{type:"button",disabled:Pe.loading,onClick:cf,className:"ht-interactive inline-flex h-9 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[12px] text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)] disabled:opacity-60",children:Pe.loading?" ...":"  / "}),n.jsx("button",{type:"button",disabled:Pe.loading,onClick:uf,className:"ht-interactive inline-flex h-9 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[12px] text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)] disabled:opacity-60",children:Pe.loading?" ...":"  "})]}),Pe.error&&n.jsx("p",{className:"text-[12px] text-[var(--ht-danger-600)]",children:Pe.error}),Pe.feedback&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-1 block text-[12px] text-[var(--ht-neutral-500)]",children:"Teacher Internal Summary"}),n.jsx("textarea",{value:Pe.feedback.teacherInternalSummary||"",onChange:g=>tt(y=>({...y,feedback:{...y.feedback,teacherInternalSummary:g.target.value}})),className:"min-h-[84px] w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 py-2 text-[13px] text-[var(--ht-neutral-800)] outline-none"})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-1 block text-[12px] text-[var(--ht-neutral-500)]",children:"Parent Summary"}),n.jsx("textarea",{value:Pe.feedback.parentSummary||"",onChange:g=>tt(y=>({...y,feedback:{...y.feedback,parentSummary:g.target.value}})),className:"min-h-[84px] w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 py-2 text-[13px] text-[var(--ht-neutral-800)] outline-none"})]})]}),Pe.termComment&&n.jsx("div",{className:"grid gap-2 sm:grid-cols-2",children:[["Academic Comment","academicComment"],["Behavior Reflection","behaviorReflection"],["Attendance Note","attendanceNote"],["Improvement Recommendation","improvementRecommendation"]].map(([g,y])=>n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-1 block text-[12px] text-[var(--ht-neutral-500)]",children:g}),n.jsx("textarea",{value:Pe.termComment[y]||"",onChange:U=>tt(z=>({...z,termComment:{...z.termComment,[y]:U.target.value}})),className:"min-h-[84px] w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 py-2 text-[13px] text-[var(--ht-neutral-800)] outline-none"})]},y))})]}),n.jsxs("section",{children:[n.jsx("h4",{className:"mb-3 text-[16px] font-semibold text-[var(--ht-neutral-900)]",children:" "}),n.jsxs("div",{className:"space-y-2",children:[(q.profile.homework||[]).slice(0,5).map(g=>n.jsxs("article",{className:"rounded-[4px] border border-[var(--ht-border-subtle)] p-3",children:[n.jsx("p",{className:"text-[14px] font-medium text-[var(--ht-neutral-800)]",children:g.title}),n.jsxs("p",{className:"mt-1 text-[12px] text-[var(--ht-neutral-500)]",children:[": ",$u[g.status]||g.status,"  : ",lr(g.assignmentUpdatedAt)]})]},g.id)),!((Xi=q.profile.homework)!=null&&Xi.length)&&n.jsx("p",{className:"text-[13px] text-[var(--ht-neutral-500)]",children:"   "})]})]}),n.jsxs("section",{children:[n.jsx("h4",{className:"mb-3 text-[16px] font-semibold text-[var(--ht-neutral-900)]",children:" "}),n.jsxs("div",{className:"space-y-2",children:[(q.profile.examMarks||[]).slice(0,5).map(g=>n.jsxs("article",{className:"rounded-[4px] border border-[var(--ht-border-subtle)] p-3",children:[n.jsx("p",{className:"text-[14px] font-medium text-[var(--ht-neutral-800)]",children:g.examTitle||g.subject}),n.jsxs("p",{className:"mt-1 text-[12px] text-[var(--ht-neutral-500)]",children:[ie(g.rawScore??g.score,2)," / ",ie(g.maxMarks||100,2)]})]},`${g.subject}-${g.updatedAt}`)),!((Ji=q.profile.examMarks)!=null&&Ji.length)&&n.jsx("p",{className:"text-[13px] text-[var(--ht-neutral-500)]",children:"   "})]})]})]}):n.jsx("p",{className:"text-[14px] text-[var(--ht-neutral-500)]",children:"   "})}),n.jsx(bt,{open:St.open,onClose:()=>et({open:!1,title:"",kind:""}),title:St.title,children:St.kind==="notifications"?n.jsxs("div",{className:"space-y-2",children:[hn.slice(0,8).map(g=>n.jsxs("article",{className:"rounded-[4px] border border-[var(--ht-border-subtle)] p-3",children:[n.jsx("p",{className:"text-[14px] font-medium text-[var(--ht-neutral-800)]",children:g.title}),n.jsxs("p",{className:"mt-1 text-[12px] text-[var(--ht-neutral-500)]",children:[g.type,"  ",g.className,"  ",lr(g.date)]})]},g.id)),!hn.length&&n.jsx("p",{className:"text-[14px] text-[var(--ht-neutral-500)]",children:"   "})]}):n.jsx("p",{className:"text-[14px] leading-[1.9] text-[var(--ht-neutral-600)]",children:"     .    ."})})]})}const Uu={1:"",2:"",3:"",4:"",5:""},Zy={pendingResponses:0,flaggedParents:0,repeatedIncidents:0},qy=(e=[])=>e.reduce((t,r)=>(t[r.name]=r.students||[],t),{});function eb(){var St,et;const e=pr(),{token:t}=xe(),[r,s]=p.useState(!0),[a,l]=p.useState(!1),[o,c]=p.useState(""),[i,u]=p.useState(""),[m,d]=p.useState(""),[h,w]=p.useState([]),[j,N]=p.useState({}),[b,x]=p.useState(Zy),[f,v]=p.useState({open:!1,entry:null}),[S,k]=p.useState(new Date().toISOString().slice(0,10)),[P,R]=p.useState({}),[A,F]=p.useState({open:!1,entry:null}),[_,M]=p.useState(""),[L,E]=p.useState(""),[T,W]=p.useState({open:!1,entry:null}),[Q,ye]=p.useState(""),[B,V]=p.useState("low"),[H,C]=p.useState(""),O=async()=>{try{s(!0),c("");const[D,G,X]=await Promise.all([M0(t),vm(t),ym(t)]);w(D.entries||[]),N(qy(G.classes||[])),x({pendingResponses:Number(X.pendingResponses||0),flaggedParents:Number(X.flaggedParents||0),repeatedIncidents:Number(X.repeatedIncidents||0)})}catch(D){c((D==null?void 0:D.message)||"   .")}finally{s(!1)}};p.useEffect(()=>{O()},[t]);const Z=p.useMemo(()=>m?h.filter(D=>String(D.dayOfWeek)===String(m)):h,[m,h]),te=p.useMemo(()=>Z.reduce((D,G)=>{const X=String(G.dayOfWeek);return D[X]||(D[X]=[]),D[X].push(G),D},{}),[Z]),ge=()=>{c(""),u("")},K=D=>{ge();const X=(j[D.className]||[]).reduce((Ct,Pe)=>(Ct[Pe.id]="present",Ct),{});R(X),k(new Date().toISOString().slice(0,10)),v({open:!0,entry:D})},fe=async()=>{const D=f.entry;if(!D)return;const G=j[D.className]||[];if(!G.length){c("     .");return}try{l(!0),c(""),await _0(t,{className:D.className,subject:D.subject,attendanceDate:S,slotStartTime:D.startTime,slotEndTime:D.endTime,entries:G.map(X=>({studentId:X.id,status:P[X.id]||"present"}))}),u("  ."),v({open:!1,entry:null})}catch(X){c((X==null?void 0:X.message)||"  .")}finally{l(!1)}},we=D=>{ge(),M(""),E(""),F({open:!0,entry:D})},Ve=async()=>{const D=A.entry;if(D){if(!_.trim()||!L.trim()){c("   .");return}try{l(!0),c(""),await bm(t,{className:D.className,subject:D.subject,title:_.trim(),body:L.trim()}),u("  ."),F({open:!1,entry:null})}catch(G){c((G==null?void 0:G.message)||"  .")}finally{l(!1)}}},q=D=>{var X;ge();const G=j[D.className]||[];ye(((X=G[0])==null?void 0:X.id)||""),V("low"),C(""),W({open:!0,entry:D})},$t=async()=>{const D=T.entry;if(D){if(!Q||!H.trim()){c("   .");return}try{l(!0),c(""),await A0(t,{className:D.className,subject:D.subject,studentId:Q,severity:B,description:H.trim()}),u("       ."),W({open:!1,entry:null}),await O()}catch(G){c((G==null?void 0:G.message)||"  .")}finally{l(!1)}}};return n.jsxs("main",{dir:"rtl",className:"ht-theme min-h-screen bg-[var(--ht-bg-base)]",children:[n.jsxs("div",{className:"mx-auto max-w-[1200px] px-4 py-8 sm:px-6 lg:px-12",children:[n.jsxs("header",{className:"mb-8 flex flex-wrap items-center justify-between gap-3",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"ht-display text-[30px] font-semibold text-[var(--ht-neutral-900)]",children:" "}),n.jsx("p",{className:"mt-1 text-[13px] text-[var(--ht-neutral-500)]",children:"    "})]}),n.jsx("button",{type:"button",onClick:()=>e("/teacher"),className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-4 text-[13px] font-medium text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)]",children:" "})]}),o?n.jsx("p",{className:"mb-4 rounded-[4px] border border-[var(--ht-danger-100)] bg-[var(--ht-danger-100)] px-3 py-2 text-[13px] text-[var(--ht-danger-600)]",children:o}):null,i?n.jsx("p",{className:"mb-4 rounded-[4px] border border-[var(--ht-success-100)] bg-[var(--ht-success-100)] px-3 py-2 text-[13px] text-[var(--ht-success-600)]",children:i}):null,n.jsxs("section",{className:"mb-6 grid gap-3 sm:grid-cols-3",children:[n.jsxs("article",{className:"ht-surface p-4",children:[n.jsx("p",{className:"text-[12px] text-[var(--ht-neutral-500)]",children:"Pending responses"}),n.jsx("p",{className:"mt-2 text-[24px] font-semibold text-[var(--ht-neutral-900)]",children:b.pendingResponses})]}),n.jsxs("article",{className:"ht-surface p-4",children:[n.jsx("p",{className:"text-[12px] text-[var(--ht-neutral-500)]",children:"Flagged parents"}),n.jsx("p",{className:"mt-2 text-[24px] font-semibold text-[var(--ht-neutral-900)]",children:b.flaggedParents})]}),n.jsxs("article",{className:"ht-surface p-4",children:[n.jsx("p",{className:"text-[12px] text-[var(--ht-neutral-500)]",children:"Repeated incidents"}),n.jsx("p",{className:"mt-2 text-[24px] font-semibold text-[var(--ht-neutral-900)]",children:b.repeatedIncidents})]})]}),n.jsxs("section",{className:"mb-4 flex items-center justify-between gap-3",children:[n.jsx("h2",{className:"text-[20px] font-semibold text-[var(--ht-neutral-900)]",children:""}),n.jsxs("select",{value:m,onChange:D=>d(D.target.value),className:"h-10 rounded-[4px] border border-[var(--ht-border-default)] bg-white px-3 text-[13px] text-[var(--ht-neutral-700)]",children:[n.jsx("option",{value:"",children:" "}),Object.entries(Uu).map(([D,G])=>n.jsx("option",{value:D,children:G},D))]})]}),r?n.jsxs("section",{className:"grid gap-3",children:[n.jsx("div",{className:"skeleton h-20"}),n.jsx("div",{className:"skeleton h-20"}),n.jsx("div",{className:"skeleton h-20"})]}):Z.length?n.jsx("section",{className:"space-y-5",children:Object.keys(te).sort((D,G)=>Number(D)-Number(G)).map(D=>n.jsxs("article",{className:"ht-surface p-5",children:[n.jsx("h3",{className:"mb-4 text-[18px] font-semibold text-[var(--ht-neutral-900)]",children:Uu[D]||D}),n.jsx("div",{className:"grid gap-3",children:te[D].slice().sort((G,X)=>String(G.startTime).localeCompare(String(X.startTime))).map(G=>n.jsx("div",{className:"rounded-[4px] border border-[var(--ht-border-subtle)] bg-[var(--ht-bg-subtle)] p-4",children:n.jsxs("div",{className:"mb-3 flex flex-wrap items-center justify-between gap-3",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-[14px] font-semibold text-[var(--ht-neutral-900)]",children:[G.startTime," - ",G.endTime]}),n.jsxs("p",{className:"text-[13px] text-[var(--ht-neutral-600)]",children:[G.className,"  ",G.subject,"  ",G.room||"-"]})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("button",{type:"button",onClick:()=>K(G),className:"ht-interactive inline-flex h-9 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[12px] font-medium text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-base)]",children:"Mark attendance"}),n.jsx("button",{type:"button",onClick:()=>we(G),className:"ht-interactive inline-flex h-9 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[12px] font-medium text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-base)]",children:"Post update"}),n.jsx("button",{type:"button",onClick:()=>q(G),className:"ht-interactive inline-flex h-9 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[12px] font-medium text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-base)]",children:"Log incident"})]})]})},G.id))})]},D))}):n.jsx("section",{className:"ht-surface p-8 text-center",children:n.jsx("p",{className:"text-[16px] font-medium text-[var(--ht-neutral-800)]",children:"Schedule not yet assigned."})})]}),n.jsxs(bt,{open:f.open,onClose:()=>v({open:!1,entry:null}),title:" ",description:"    .",size:"lg",footer:n.jsxs(n.Fragment,{children:[n.jsx("button",{type:"button",onClick:()=>v({open:!1,entry:null}),className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-4 text-[13px] text-[var(--ht-neutral-700)]",children:""}),n.jsx("button",{type:"button",disabled:a,onClick:fe,className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-primary-600)] bg-[var(--ht-primary-600)] px-4 text-[13px] text-white disabled:opacity-60",children:a?" ...":""})]}),children:[n.jsxs("label",{className:"mb-3 block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:" "}),n.jsx("input",{type:"date",value:S,onChange:D=>k(D.target.value),className:"h-10 w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[13px]"})]}),n.jsx("div",{className:"space-y-2",children:(j[(St=f.entry)==null?void 0:St.className]||[]).map(D=>n.jsxs("div",{className:"flex items-center justify-between rounded-[4px] border border-[var(--ht-border-subtle)] p-2",children:[n.jsx("p",{className:"text-[13px] text-[var(--ht-neutral-700)]",children:D.name}),n.jsxs("select",{value:P[D.id]||"present",onChange:G=>R(X=>({...X,[D.id]:G.target.value})),className:"h-8 rounded-[4px] border border-[var(--ht-border-default)] px-2 text-[12px]",children:[n.jsx("option",{value:"present",children:"Present"}),n.jsx("option",{value:"absent",children:"Absent"}),n.jsx("option",{value:"late",children:"Late"})]})]},D.id))})]}),n.jsxs(bt,{open:A.open,onClose:()=>F({open:!1,entry:null}),title:"  ",description:"     .",footer:n.jsxs(n.Fragment,{children:[n.jsx("button",{type:"button",onClick:()=>F({open:!1,entry:null}),className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-4 text-[13px] text-[var(--ht-neutral-700)]",children:""}),n.jsx("button",{type:"button",disabled:a,onClick:Ve,className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-primary-600)] bg-[var(--ht-primary-600)] px-4 text-[13px] text-white disabled:opacity-60",children:a?" ...":""})]}),children:[n.jsxs("label",{className:"mb-3 block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:""}),n.jsx("input",{type:"text",value:_,onChange:D=>M(D.target.value),className:"h-10 w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[13px]"})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:""}),n.jsx("textarea",{value:L,onChange:D=>E(D.target.value),className:"min-h-[110px] w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 py-2 text-[13px]"})]})]}),n.jsx(bt,{open:T.open,onClose:()=>W({open:!1,entry:null}),title:"  ",description:"     .",footer:n.jsxs(n.Fragment,{children:[n.jsx("button",{type:"button",onClick:()=>W({open:!1,entry:null}),className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-4 text-[13px] text-[var(--ht-neutral-700)]",children:""}),n.jsx("button",{type:"button",disabled:a,onClick:$t,className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-primary-600)] bg-[var(--ht-primary-600)] px-4 text-[13px] text-white disabled:opacity-60",children:a?" ...":""})]}),children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:""}),n.jsx("select",{value:Q,onChange:D=>ye(D.target.value),className:"h-10 w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[13px]",children:(j[(et=T.entry)==null?void 0:et.className]||[]).map(D=>n.jsx("option",{value:D.id,children:D.name},D.id))})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:""}),n.jsxs("select",{value:B,onChange:D=>V(D.target.value),className:"h-10 w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[13px]",children:[n.jsx("option",{value:"low",children:"Low"}),n.jsx("option",{value:"medium",children:"Medium"}),n.jsx("option",{value:"high",children:"High"})]})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:" "}),n.jsx("textarea",{value:H,onChange:D=>C(D.target.value),className:"min-h-[110px] w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 py-2 text-[13px]"})]})]})})]})}function Wu(){const{isLoading:e,isAuthenticated:t,role:r}=xe();return e?n.jsx(Va,{}):n.jsx(Mt,{to:t?us(r):"/login",replace:!0})}function tb(){const{isLoading:e,isAuthenticated:t,role:r}=xe();return e?n.jsx(Va,{}):t?n.jsx(Mt,{to:us(r),replace:!0}):n.jsx(h0,{})}function rb(){return n.jsxs(zg,{children:[n.jsx(le,{path:"/",element:n.jsx(Wu,{})}),n.jsx(le,{path:"/login",element:n.jsx(tb,{})}),n.jsx(le,{element:n.jsx(u0,{}),children:n.jsxs(le,{path:"/admin",element:n.jsx(cv,{}),children:[n.jsx(le,{index:!0,element:n.jsx(hv,{})}),n.jsx(le,{path:"dashboard",element:n.jsx(Mt,{to:"/admin",replace:!0})}),n.jsx(le,{path:"students",element:n.jsx(Lv,{})}),n.jsx(le,{path:"teachers",element:n.jsx(zv,{})}),n.jsx(le,{path:"classes",element:n.jsx(xv,{})}),n.jsx(le,{path:"subjects",element:n.jsx(Mv,{})}),n.jsx(le,{path:"feedback",element:n.jsx(vv,{})}),n.jsx(le,{path:"import-users",element:n.jsx(wv,{})}),n.jsx(le,{path:"surveys",element:n.jsx(Rv,{})}),n.jsx(le,{path:"schedule",element:n.jsx(Ev,{})}),n.jsx(le,{path:"notifications",element:n.jsx(Sv,{})}),n.jsx(le,{path:"reports",element:n.jsx(Cv,{})}),n.jsx(le,{path:"settings",element:n.jsx(Pv,{})})]})}),n.jsxs(le,{element:n.jsx(xu,{allow:"teacher"}),children:[n.jsx(le,{path:"/teacher",element:n.jsx(Jy,{})}),n.jsx(le,{path:"/teacher/schedule",element:n.jsx(eb,{})})]}),n.jsxs(le,{element:n.jsx(xu,{allow:"student"}),children:[n.jsx(le,{path:"/student",element:n.jsx(ky,{})}),n.jsx(le,{path:"/student/schedule",element:n.jsx(Ey,{})})]}),n.jsx(le,{path:"*",element:n.jsx(Wu,{})})]})}const Hu="/edu-bridge/",nb=Hu==="/"?"":Hu.replace(/\/$/,"");Al.createRoot(document.getElementById("root")).render(n.jsx(td.StrictMode,{children:n.jsx(c0,{children:n.jsx(Vg,{basename:nb,future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:n.jsx(rb,{})})})}));
