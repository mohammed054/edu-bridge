function rf(e,t){for(var r=0;r<t.length;r++){const s=t[r];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(s,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=r(a);fetch(a.href,l)}})();function nf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var zu={exports:{}},ga={},Ou={exports:{}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qn=Symbol.for("react.element"),sf=Symbol.for("react.portal"),af=Symbol.for("react.fragment"),lf=Symbol.for("react.strict_mode"),of=Symbol.for("react.profiler"),cf=Symbol.for("react.provider"),uf=Symbol.for("react.context"),df=Symbol.for("react.forward_ref"),pf=Symbol.for("react.suspense"),mf=Symbol.for("react.memo"),ff=Symbol.for("react.lazy"),Hi=Symbol.iterator;function hf(e){return e===null||typeof e!="object"?null:(e=Hi&&e[Hi]||e["@@iterator"],typeof e=="function"?e:null)}var Du={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$u=Object.assign,Bu={};function nn(e,t,r){this.props=e,this.context=t,this.refs=Bu,this.updater=r||Du}nn.prototype.isReactComponent={};nn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};nn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Uu(){}Uu.prototype=nn.prototype;function So(e,t,r){this.props=e,this.context=t,this.refs=Bu,this.updater=r||Du}var Co=So.prototype=new Uu;Co.constructor=So;$u(Co,nn.prototype);Co.isPureReactComponent=!0;var Vi=Array.isArray,Wu=Object.prototype.hasOwnProperty,Eo={current:null},Hu={key:!0,ref:!0,__self:!0,__source:!0};function Vu(e,t,r){var s,a={},l=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(l=""+t.key),t)Wu.call(t,s)&&!Hu.hasOwnProperty(s)&&(a[s]=t[s]);var c=arguments.length-2;if(c===1)a.children=r;else if(1<c){for(var i=Array(c),d=0;d<c;d++)i[d]=arguments[d+2];a.children=i}if(e&&e.defaultProps)for(s in c=e.defaultProps,c)a[s]===void 0&&(a[s]=c[s]);return{$$typeof:qn,type:e,key:l,ref:o,props:a,_owner:Eo.current}}function xf(e,t){return{$$typeof:qn,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Fo(e){return typeof e=="object"&&e!==null&&e.$$typeof===qn}function gf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Qi=/\/+/g;function Wa(e,t){return typeof e=="object"&&e!==null&&e.key!=null?gf(""+e.key):t.toString(36)}function Fs(e,t,r,s,a){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case qn:case sf:o=!0}}if(o)return o=e,a=a(o),e=s===""?"."+Wa(o,0):s,Vi(a)?(r="",e!=null&&(r=e.replace(Qi,"$&/")+"/"),Fs(a,t,r,"",function(d){return d})):a!=null&&(Fo(a)&&(a=xf(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(Qi,"$&/")+"/")+e)),t.push(a)),1;if(o=0,s=s===""?".":s+":",Vi(e))for(var c=0;c<e.length;c++){l=e[c];var i=s+Wa(l,c);o+=Fs(l,t,r,i,a)}else if(i=hf(e),typeof i=="function")for(e=i.call(e),c=0;!(l=e.next()).done;)l=l.value,i=s+Wa(l,c++),o+=Fs(l,t,r,i,a);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function is(e,t,r){if(e==null)return e;var s=[],a=0;return Fs(e,s,"","",function(l){return t.call(r,l,a++)}),s}function vf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var $e={current:null},Ts={transition:null},bf={ReactCurrentDispatcher:$e,ReactCurrentBatchConfig:Ts,ReactCurrentOwner:Eo};function Qu(){throw Error("act(...) is not supported in production builds of React.")}J.Children={map:is,forEach:function(e,t,r){is(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return is(e,function(){t++}),t},toArray:function(e){return is(e,function(t){return t})||[]},only:function(e){if(!Fo(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};J.Component=nn;J.Fragment=af;J.Profiler=of;J.PureComponent=So;J.StrictMode=lf;J.Suspense=pf;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bf;J.act=Qu;J.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=$u({},e.props),a=e.key,l=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,o=Eo.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(i in t)Wu.call(t,i)&&!Hu.hasOwnProperty(i)&&(s[i]=t[i]===void 0&&c!==void 0?c[i]:t[i])}var i=arguments.length-2;if(i===1)s.children=r;else if(1<i){c=Array(i);for(var d=0;d<i;d++)c[d]=arguments[d+2];s.children=c}return{$$typeof:qn,type:e.type,key:a,ref:l,props:s,_owner:o}};J.createContext=function(e){return e={$$typeof:uf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:cf,_context:e},e.Consumer=e};J.createElement=Vu;J.createFactory=function(e){var t=Vu.bind(null,e);return t.type=e,t};J.createRef=function(){return{current:null}};J.forwardRef=function(e){return{$$typeof:df,render:e}};J.isValidElement=Fo;J.lazy=function(e){return{$$typeof:ff,_payload:{_status:-1,_result:e},_init:vf}};J.memo=function(e,t){return{$$typeof:mf,type:e,compare:t===void 0?null:t}};J.startTransition=function(e){var t=Ts.transition;Ts.transition={};try{e()}finally{Ts.transition=t}};J.unstable_act=Qu;J.useCallback=function(e,t){return $e.current.useCallback(e,t)};J.useContext=function(e){return $e.current.useContext(e)};J.useDebugValue=function(){};J.useDeferredValue=function(e){return $e.current.useDeferredValue(e)};J.useEffect=function(e,t){return $e.current.useEffect(e,t)};J.useId=function(){return $e.current.useId()};J.useImperativeHandle=function(e,t,r){return $e.current.useImperativeHandle(e,t,r)};J.useInsertionEffect=function(e,t){return $e.current.useInsertionEffect(e,t)};J.useLayoutEffect=function(e,t){return $e.current.useLayoutEffect(e,t)};J.useMemo=function(e,t){return $e.current.useMemo(e,t)};J.useReducer=function(e,t,r){return $e.current.useReducer(e,t,r)};J.useRef=function(e){return $e.current.useRef(e)};J.useState=function(e){return $e.current.useState(e)};J.useSyncExternalStore=function(e,t,r){return $e.current.useSyncExternalStore(e,t,r)};J.useTransition=function(){return $e.current.useTransition()};J.version="18.3.1";Ou.exports=J;var m=Ou.exports;const Gu=nf(m),yf=rf({__proto__:null,default:Gu},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jf=m,Nf=Symbol.for("react.element"),wf=Symbol.for("react.fragment"),kf=Object.prototype.hasOwnProperty,Sf=jf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Cf={key:!0,ref:!0,__self:!0,__source:!0};function Yu(e,t,r){var s,a={},l=null,o=null;r!==void 0&&(l=""+r),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)kf.call(t,s)&&!Cf.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:Nf,type:e,key:l,ref:o,props:a,_owner:Sf.current}}ga.Fragment=wf;ga.jsx=Yu;ga.jsxs=Yu;zu.exports=ga;var n=zu.exports,kl={},Ku={exports:{}},Ze={},Xu={exports:{}},Ju={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,H){var V=D.length;D.push(H);e:for(;0<V;){var C=V-1>>>1,R=D[C];if(0<a(R,H))D[C]=H,D[V]=R,V=C;else break e}}function r(D){return D.length===0?null:D[0]}function s(D){if(D.length===0)return null;var H=D[0],V=D.pop();if(V!==H){D[0]=V;e:for(var C=0,R=D.length,Z=R>>>1;C<Z;){var ee=2*(C+1)-1,je=D[ee],K=ee+1,ce=D[K];if(0>a(je,V))K<R&&0>a(ce,je)?(D[C]=ce,D[K]=V,C=K):(D[C]=je,D[ee]=V,C=ee);else if(K<R&&0>a(ce,V))D[C]=ce,D[K]=V,C=K;else break e}}return H}function a(D,H){var V=D.sortIndex-H.sortIndex;return V!==0?V:D.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var o=Date,c=o.now();e.unstable_now=function(){return o.now()-c}}var i=[],d=[],p=1,u=null,f=3,y=!1,b=!1,N=!1,k=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(D){for(var H=r(d);H!==null;){if(H.callback===null)s(d);else if(H.startTime<=D)s(d),H.sortIndex=H.expirationTime,t(i,H);else break;H=r(d)}}function w(D){if(N=!1,g(D),!b)if(r(i)!==null)b=!0,Q(S);else{var H=r(d);H!==null&&ye(w,H.startTime-D)}}function S(D,H){b=!1,N&&(N=!1,x(B),B=-1),y=!0;var V=f;try{for(g(H),u=r(i);u!==null&&(!(u.expirationTime>H)||D&&!I());){var C=u.callback;if(typeof C=="function"){u.callback=null,f=u.priorityLevel;var R=C(u.expirationTime<=H);H=e.unstable_now(),typeof R=="function"?u.callback=R:u===r(i)&&s(i),g(H)}else s(i);u=r(i)}if(u!==null)var Z=!0;else{var ee=r(d);ee!==null&&ye(w,ee.startTime-H),Z=!1}return Z}finally{u=null,f=V,y=!1}}var F=!1,M=null,B=-1,T=5,_=-1;function I(){return!(e.unstable_now()-_<T)}function L(){if(M!==null){var D=e.unstable_now();_=D;var H=!0;try{H=M(!0,D)}finally{H?E():(F=!1,M=null)}}else F=!1}var E;if(typeof h=="function")E=function(){h(L)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,W=P.port2;P.port1.onmessage=L,E=function(){W.postMessage(null)}}else E=function(){k(L,0)};function Q(D){M=D,F||(F=!0,E())}function ye(D,H){B=k(function(){D(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){b||y||(b=!0,Q(S))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(i)},e.unstable_next=function(D){switch(f){case 1:case 2:case 3:var H=3;break;default:H=f}var V=f;f=H;try{return D()}finally{f=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,H){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var V=f;f=D;try{return H()}finally{f=V}},e.unstable_scheduleCallback=function(D,H,V){var C=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?C+V:C):V=C,D){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=V+R,D={id:p++,callback:H,priorityLevel:D,startTime:V,expirationTime:R,sortIndex:-1},V>C?(D.sortIndex=V,t(d,D),r(i)===null&&D===r(d)&&(N?(x(B),B=-1):N=!0,ye(w,V-C))):(D.sortIndex=R,t(i,D),b||y||(b=!0,Q(S))),D},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(D){var H=f;return function(){var V=f;f=H;try{return D.apply(this,arguments)}finally{f=V}}}})(Ju);Xu.exports=Ju;var Ef=Xu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ff=m,Je=Ef;function z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Zu=new Set,An={};function Cr(e,t){Kr(e,t),Kr(e+"Capture",t)}function Kr(e,t){for(An[e]=t,e=0;e<t.length;e++)Zu.add(t[e])}var At=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sl=Object.prototype.hasOwnProperty,Tf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Gi={},Yi={};function Pf(e){return Sl.call(Yi,e)?!0:Sl.call(Gi,e)?!1:Tf.test(e)?Yi[e]=!0:(Gi[e]=!0,!1)}function Lf(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function _f(e,t,r,s){if(t===null||typeof t>"u"||Lf(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Be(e,t,r,s,a,l,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=o}var Pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Pe[e]=new Be(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Pe[t]=new Be(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Pe[e]=new Be(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Pe[e]=new Be(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Pe[e]=new Be(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Pe[e]=new Be(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Pe[e]=new Be(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Pe[e]=new Be(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Pe[e]=new Be(e,5,!1,e.toLowerCase(),null,!1,!1)});var To=/[\-:]([a-z])/g;function Po(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(To,Po);Pe[t]=new Be(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(To,Po);Pe[t]=new Be(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(To,Po);Pe[t]=new Be(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Pe[e]=new Be(e,1,!1,e.toLowerCase(),null,!1,!1)});Pe.xlinkHref=new Be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Pe[e]=new Be(e,1,!1,e.toLowerCase(),null,!0,!0)});function Lo(e,t,r,s){var a=Pe.hasOwnProperty(t)?Pe[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(_f(t,r,a,s)&&(r=null),s||a===null?Pf(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,s=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var Ot=Ff.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cs=Symbol.for("react.element"),Lr=Symbol.for("react.portal"),_r=Symbol.for("react.fragment"),_o=Symbol.for("react.strict_mode"),Cl=Symbol.for("react.profiler"),qu=Symbol.for("react.provider"),ed=Symbol.for("react.context"),Mo=Symbol.for("react.forward_ref"),El=Symbol.for("react.suspense"),Fl=Symbol.for("react.suspense_list"),Ao=Symbol.for("react.memo"),Ut=Symbol.for("react.lazy"),td=Symbol.for("react.offscreen"),Ki=Symbol.iterator;function mn(e){return e===null||typeof e!="object"?null:(e=Ki&&e[Ki]||e["@@iterator"],typeof e=="function"?e:null)}var fe=Object.assign,Ha;function jn(e){if(Ha===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ha=t&&t[1]||""}return`
`+Ha+e}var Va=!1;function Qa(e,t){if(!e||Va)return"";Va=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var s=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){s=d}e.call(t.prototype)}else{try{throw Error()}catch(d){s=d}e()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),l=s.stack.split(`
`),o=a.length-1,c=l.length-1;1<=o&&0<=c&&a[o]!==l[c];)c--;for(;1<=o&&0<=c;o--,c--)if(a[o]!==l[c]){if(o!==1||c!==1)do if(o--,c--,0>c||a[o]!==l[c]){var i=`
`+a[o].replace(" at new "," at ");return e.displayName&&i.includes("<anonymous>")&&(i=i.replace("<anonymous>",e.displayName)),i}while(1<=o&&0<=c);break}}}finally{Va=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?jn(e):""}function Mf(e){switch(e.tag){case 5:return jn(e.type);case 16:return jn("Lazy");case 13:return jn("Suspense");case 19:return jn("SuspenseList");case 0:case 2:case 15:return e=Qa(e.type,!1),e;case 11:return e=Qa(e.type.render,!1),e;case 1:return e=Qa(e.type,!0),e;default:return""}}function Tl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _r:return"Fragment";case Lr:return"Portal";case Cl:return"Profiler";case _o:return"StrictMode";case El:return"Suspense";case Fl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ed:return(e.displayName||"Context")+".Consumer";case qu:return(e._context.displayName||"Context")+".Provider";case Mo:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ao:return t=e.displayName||null,t!==null?t:Tl(e.type)||"Memo";case Ut:t=e._payload,e=e._init;try{return Tl(e(t))}catch{}}return null}function Af(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Tl(t);case 8:return t===_o?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ar(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function If(e){var t=rd(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,l=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){s=""+o,l.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function us(e){e._valueTracker||(e._valueTracker=If(e))}function nd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=rd(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function Us(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Pl(e,t){var r=t.checked;return fe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Xi(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=ar(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function sd(e,t){t=t.checked,t!=null&&Lo(e,"checked",t,!1)}function Ll(e,t){sd(e,t);var r=ar(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?_l(e,t.type,r):t.hasOwnProperty("defaultValue")&&_l(e,t.type,ar(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ji(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function _l(e,t,r){(t!=="number"||Us(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Nn=Array.isArray;function Wr(e,t,r,s){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&s&&(e[r].defaultSelected=!0)}else{for(r=""+ar(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Ml(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(z(91));return fe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Zi(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(z(92));if(Nn(r)){if(1<r.length)throw Error(z(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ar(r)}}function ad(e,t){var r=ar(t.value),s=ar(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function qi(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ld(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Al(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ld(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ds,od=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ds=ds||document.createElement("div"),ds.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ds.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function In(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Sn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Rf=["Webkit","ms","Moz","O"];Object.keys(Sn).forEach(function(e){Rf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Sn[t]=Sn[e]})});function id(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Sn.hasOwnProperty(e)&&Sn[e]?(""+t).trim():t+"px"}function cd(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,a=id(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,a):e[r]=a}}var zf=fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Il(e,t){if(t){if(zf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(z(62))}}function Rl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zl=null;function Io(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ol=null,Hr=null,Vr=null;function ec(e){if(e=rs(e)){if(typeof Ol!="function")throw Error(z(280));var t=e.stateNode;t&&(t=Na(t),Ol(e.stateNode,e.type,t))}}function ud(e){Hr?Vr?Vr.push(e):Vr=[e]:Hr=e}function dd(){if(Hr){var e=Hr,t=Vr;if(Vr=Hr=null,ec(e),t)for(e=0;e<t.length;e++)ec(t[e])}}function pd(e,t){return e(t)}function md(){}var Ga=!1;function fd(e,t,r){if(Ga)return e(t,r);Ga=!0;try{return pd(e,t,r)}finally{Ga=!1,(Hr!==null||Vr!==null)&&(md(),dd())}}function Rn(e,t){var r=e.stateNode;if(r===null)return null;var s=Na(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(z(231,t,typeof r));return r}var Dl=!1;if(At)try{var fn={};Object.defineProperty(fn,"passive",{get:function(){Dl=!0}}),window.addEventListener("test",fn,fn),window.removeEventListener("test",fn,fn)}catch{Dl=!1}function Of(e,t,r,s,a,l,o,c,i){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(p){this.onError(p)}}var Cn=!1,Ws=null,Hs=!1,$l=null,Df={onError:function(e){Cn=!0,Ws=e}};function $f(e,t,r,s,a,l,o,c,i){Cn=!1,Ws=null,Of.apply(Df,arguments)}function Bf(e,t,r,s,a,l,o,c,i){if($f.apply(this,arguments),Cn){if(Cn){var d=Ws;Cn=!1,Ws=null}else throw Error(z(198));Hs||(Hs=!0,$l=d)}}function Er(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function hd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function tc(e){if(Er(e)!==e)throw Error(z(188))}function Uf(e){var t=e.alternate;if(!t){if(t=Er(e),t===null)throw Error(z(188));return t!==e?null:e}for(var r=e,s=t;;){var a=r.return;if(a===null)break;var l=a.alternate;if(l===null){if(s=a.return,s!==null){r=s;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===r)return tc(a),e;if(l===s)return tc(a),t;l=l.sibling}throw Error(z(188))}if(r.return!==s.return)r=a,s=l;else{for(var o=!1,c=a.child;c;){if(c===r){o=!0,r=a,s=l;break}if(c===s){o=!0,s=a,r=l;break}c=c.sibling}if(!o){for(c=l.child;c;){if(c===r){o=!0,r=l,s=a;break}if(c===s){o=!0,s=l,r=a;break}c=c.sibling}if(!o)throw Error(z(189))}}if(r.alternate!==s)throw Error(z(190))}if(r.tag!==3)throw Error(z(188));return r.stateNode.current===r?e:t}function xd(e){return e=Uf(e),e!==null?gd(e):null}function gd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=gd(e);if(t!==null)return t;e=e.sibling}return null}var vd=Je.unstable_scheduleCallback,rc=Je.unstable_cancelCallback,Wf=Je.unstable_shouldYield,Hf=Je.unstable_requestPaint,ge=Je.unstable_now,Vf=Je.unstable_getCurrentPriorityLevel,Ro=Je.unstable_ImmediatePriority,bd=Je.unstable_UserBlockingPriority,Vs=Je.unstable_NormalPriority,Qf=Je.unstable_LowPriority,yd=Je.unstable_IdlePriority,va=null,kt=null;function Gf(e){if(kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(va,e,void 0,(e.current.flags&128)===128)}catch{}}var xt=Math.clz32?Math.clz32:Xf,Yf=Math.log,Kf=Math.LN2;function Xf(e){return e>>>=0,e===0?32:31-(Yf(e)/Kf|0)|0}var ps=64,ms=4194304;function wn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Qs(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,a=e.suspendedLanes,l=e.pingedLanes,o=r&268435455;if(o!==0){var c=o&~a;c!==0?s=wn(c):(l&=o,l!==0&&(s=wn(l)))}else o=r&~a,o!==0?s=wn(o):l!==0&&(s=wn(l));if(s===0)return 0;if(t!==0&&t!==s&&!(t&a)&&(a=s&-s,l=t&-t,a>=l||a===16&&(l&4194240)!==0))return t;if(s&4&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-xt(t),a=1<<r,s|=e[r],t&=~a;return s}function Jf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zf(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,l=e.pendingLanes;0<l;){var o=31-xt(l),c=1<<o,i=a[o];i===-1?(!(c&r)||c&s)&&(a[o]=Jf(c,t)):i<=t&&(e.expiredLanes|=c),l&=~c}}function Bl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function jd(){var e=ps;return ps<<=1,!(ps&4194240)&&(ps=64),e}function Ya(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function es(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-xt(t),e[t]=r}function qf(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-xt(r),l=1<<a;t[a]=0,s[a]=-1,e[a]=-1,r&=~l}}function zo(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-xt(r),a=1<<s;a&t|e[s]&t&&(e[s]|=t),r&=~a}}var re=0;function Nd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var wd,Oo,kd,Sd,Cd,Ul=!1,fs=[],Kt=null,Xt=null,Jt=null,zn=new Map,On=new Map,Ht=[],eh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nc(e,t){switch(e){case"focusin":case"focusout":Kt=null;break;case"dragenter":case"dragleave":Xt=null;break;case"mouseover":case"mouseout":Jt=null;break;case"pointerover":case"pointerout":zn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":On.delete(t.pointerId)}}function hn(e,t,r,s,a,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:l,targetContainers:[a]},t!==null&&(t=rs(t),t!==null&&Oo(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function th(e,t,r,s,a){switch(t){case"focusin":return Kt=hn(Kt,e,t,r,s,a),!0;case"dragenter":return Xt=hn(Xt,e,t,r,s,a),!0;case"mouseover":return Jt=hn(Jt,e,t,r,s,a),!0;case"pointerover":var l=a.pointerId;return zn.set(l,hn(zn.get(l)||null,e,t,r,s,a)),!0;case"gotpointercapture":return l=a.pointerId,On.set(l,hn(On.get(l)||null,e,t,r,s,a)),!0}return!1}function Ed(e){var t=xr(e.target);if(t!==null){var r=Er(t);if(r!==null){if(t=r.tag,t===13){if(t=hd(r),t!==null){e.blockedOn=t,Cd(e.priority,function(){kd(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ps(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Wl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);zl=s,r.target.dispatchEvent(s),zl=null}else return t=rs(r),t!==null&&Oo(t),e.blockedOn=r,!1;t.shift()}return!0}function sc(e,t,r){Ps(e)&&r.delete(t)}function rh(){Ul=!1,Kt!==null&&Ps(Kt)&&(Kt=null),Xt!==null&&Ps(Xt)&&(Xt=null),Jt!==null&&Ps(Jt)&&(Jt=null),zn.forEach(sc),On.forEach(sc)}function xn(e,t){e.blockedOn===t&&(e.blockedOn=null,Ul||(Ul=!0,Je.unstable_scheduleCallback(Je.unstable_NormalPriority,rh)))}function Dn(e){function t(a){return xn(a,e)}if(0<fs.length){xn(fs[0],e);for(var r=1;r<fs.length;r++){var s=fs[r];s.blockedOn===e&&(s.blockedOn=null)}}for(Kt!==null&&xn(Kt,e),Xt!==null&&xn(Xt,e),Jt!==null&&xn(Jt,e),zn.forEach(t),On.forEach(t),r=0;r<Ht.length;r++)s=Ht[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<Ht.length&&(r=Ht[0],r.blockedOn===null);)Ed(r),r.blockedOn===null&&Ht.shift()}var Qr=Ot.ReactCurrentBatchConfig,Gs=!0;function nh(e,t,r,s){var a=re,l=Qr.transition;Qr.transition=null;try{re=1,Do(e,t,r,s)}finally{re=a,Qr.transition=l}}function sh(e,t,r,s){var a=re,l=Qr.transition;Qr.transition=null;try{re=4,Do(e,t,r,s)}finally{re=a,Qr.transition=l}}function Do(e,t,r,s){if(Gs){var a=Wl(e,t,r,s);if(a===null)sl(e,t,s,Ys,r),nc(e,s);else if(th(a,e,t,r,s))s.stopPropagation();else if(nc(e,s),t&4&&-1<eh.indexOf(e)){for(;a!==null;){var l=rs(a);if(l!==null&&wd(l),l=Wl(e,t,r,s),l===null&&sl(e,t,s,Ys,r),l===a)break;a=l}a!==null&&s.stopPropagation()}else sl(e,t,s,null,r)}}var Ys=null;function Wl(e,t,r,s){if(Ys=null,e=Io(s),e=xr(e),e!==null)if(t=Er(e),t===null)e=null;else if(r=t.tag,r===13){if(e=hd(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ys=e,null}function Fd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vf()){case Ro:return 1;case bd:return 4;case Vs:case Qf:return 16;case yd:return 536870912;default:return 16}default:return 16}}var Qt=null,$o=null,Ls=null;function Td(){if(Ls)return Ls;var e,t=$o,r=t.length,s,a="value"in Qt?Qt.value:Qt.textContent,l=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(s=1;s<=o&&t[r-s]===a[l-s];s++);return Ls=a.slice(e,1<s?1-s:void 0)}function _s(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function hs(){return!0}function ac(){return!1}function qe(e){function t(r,s,a,l,o){this._reactName=r,this._targetInst=a,this.type=s,this.nativeEvent=l,this.target=o,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(r=e[c],this[c]=r?r(l):l[c]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?hs:ac,this.isPropagationStopped=ac,this}return fe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=hs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=hs)},persist:function(){},isPersistent:hs}),t}var sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bo=qe(sn),ts=fe({},sn,{view:0,detail:0}),ah=qe(ts),Ka,Xa,gn,ba=fe({},ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gn&&(gn&&e.type==="mousemove"?(Ka=e.screenX-gn.screenX,Xa=e.screenY-gn.screenY):Xa=Ka=0,gn=e),Ka)},movementY:function(e){return"movementY"in e?e.movementY:Xa}}),lc=qe(ba),lh=fe({},ba,{dataTransfer:0}),oh=qe(lh),ih=fe({},ts,{relatedTarget:0}),Ja=qe(ih),ch=fe({},sn,{animationName:0,elapsedTime:0,pseudoElement:0}),uh=qe(ch),dh=fe({},sn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ph=qe(dh),mh=fe({},sn,{data:0}),oc=qe(mh),fh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=xh[e])?!!t[e]:!1}function Uo(){return gh}var vh=fe({},ts,{key:function(e){if(e.key){var t=fh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_s(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uo,charCode:function(e){return e.type==="keypress"?_s(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_s(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bh=qe(vh),yh=fe({},ba,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ic=qe(yh),jh=fe({},ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uo}),Nh=qe(jh),wh=fe({},sn,{propertyName:0,elapsedTime:0,pseudoElement:0}),kh=qe(wh),Sh=fe({},ba,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ch=qe(Sh),Eh=[9,13,27,32],Wo=At&&"CompositionEvent"in window,En=null;At&&"documentMode"in document&&(En=document.documentMode);var Fh=At&&"TextEvent"in window&&!En,Pd=At&&(!Wo||En&&8<En&&11>=En),cc=" ",uc=!1;function Ld(e,t){switch(e){case"keyup":return Eh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _d(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mr=!1;function Th(e,t){switch(e){case"compositionend":return _d(t);case"keypress":return t.which!==32?null:(uc=!0,cc);case"textInput":return e=t.data,e===cc&&uc?null:e;default:return null}}function Ph(e,t){if(Mr)return e==="compositionend"||!Wo&&Ld(e,t)?(e=Td(),Ls=$o=Qt=null,Mr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Pd&&t.locale!=="ko"?null:t.data;default:return null}}var Lh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Lh[e.type]:t==="textarea"}function Md(e,t,r,s){ud(s),t=Ks(t,"onChange"),0<t.length&&(r=new Bo("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var Fn=null,$n=null;function _h(e){Hd(e,0)}function ya(e){var t=Rr(e);if(nd(t))return e}function Mh(e,t){if(e==="change")return t}var Ad=!1;if(At){var Za;if(At){var qa="oninput"in document;if(!qa){var pc=document.createElement("div");pc.setAttribute("oninput","return;"),qa=typeof pc.oninput=="function"}Za=qa}else Za=!1;Ad=Za&&(!document.documentMode||9<document.documentMode)}function mc(){Fn&&(Fn.detachEvent("onpropertychange",Id),$n=Fn=null)}function Id(e){if(e.propertyName==="value"&&ya($n)){var t=[];Md(t,$n,e,Io(e)),fd(_h,t)}}function Ah(e,t,r){e==="focusin"?(mc(),Fn=t,$n=r,Fn.attachEvent("onpropertychange",Id)):e==="focusout"&&mc()}function Ih(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ya($n)}function Rh(e,t){if(e==="click")return ya(t)}function zh(e,t){if(e==="input"||e==="change")return ya(t)}function Oh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vt=typeof Object.is=="function"?Object.is:Oh;function Bn(e,t){if(vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var a=r[s];if(!Sl.call(t,a)||!vt(e[a],t[a]))return!1}return!0}function fc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hc(e,t){var r=fc(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fc(r)}}function Rd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Rd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function zd(){for(var e=window,t=Us();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Us(e.document)}return t}function Ho(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Dh(e){var t=zd(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Rd(r.ownerDocument.documentElement,r)){if(s!==null&&Ho(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,l=Math.min(s.start,a);s=s.end===void 0?l:Math.min(s.end,a),!e.extend&&l>s&&(a=s,s=l,l=a),a=hc(r,l);var o=hc(r,s);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),l>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var $h=At&&"documentMode"in document&&11>=document.documentMode,Ar=null,Hl=null,Tn=null,Vl=!1;function xc(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Vl||Ar==null||Ar!==Us(s)||(s=Ar,"selectionStart"in s&&Ho(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Tn&&Bn(Tn,s)||(Tn=s,s=Ks(Hl,"onSelect"),0<s.length&&(t=new Bo("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=Ar)))}function xs(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ir={animationend:xs("Animation","AnimationEnd"),animationiteration:xs("Animation","AnimationIteration"),animationstart:xs("Animation","AnimationStart"),transitionend:xs("Transition","TransitionEnd")},el={},Od={};At&&(Od=document.createElement("div").style,"AnimationEvent"in window||(delete Ir.animationend.animation,delete Ir.animationiteration.animation,delete Ir.animationstart.animation),"TransitionEvent"in window||delete Ir.transitionend.transition);function ja(e){if(el[e])return el[e];if(!Ir[e])return e;var t=Ir[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Od)return el[e]=t[r];return e}var Dd=ja("animationend"),$d=ja("animationiteration"),Bd=ja("animationstart"),Ud=ja("transitionend"),Wd=new Map,gc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function or(e,t){Wd.set(e,t),Cr(t,[e])}for(var tl=0;tl<gc.length;tl++){var rl=gc[tl],Bh=rl.toLowerCase(),Uh=rl[0].toUpperCase()+rl.slice(1);or(Bh,"on"+Uh)}or(Dd,"onAnimationEnd");or($d,"onAnimationIteration");or(Bd,"onAnimationStart");or("dblclick","onDoubleClick");or("focusin","onFocus");or("focusout","onBlur");or(Ud,"onTransitionEnd");Kr("onMouseEnter",["mouseout","mouseover"]);Kr("onMouseLeave",["mouseout","mouseover"]);Kr("onPointerEnter",["pointerout","pointerover"]);Kr("onPointerLeave",["pointerout","pointerover"]);Cr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wh=new Set("cancel close invalid load scroll toggle".split(" ").concat(kn));function vc(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,Bf(s,t,void 0,e),e.currentTarget=null}function Hd(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],a=s.event;s=s.listeners;e:{var l=void 0;if(t)for(var o=s.length-1;0<=o;o--){var c=s[o],i=c.instance,d=c.currentTarget;if(c=c.listener,i!==l&&a.isPropagationStopped())break e;vc(a,c,d),l=i}else for(o=0;o<s.length;o++){if(c=s[o],i=c.instance,d=c.currentTarget,c=c.listener,i!==l&&a.isPropagationStopped())break e;vc(a,c,d),l=i}}}if(Hs)throw e=$l,Hs=!1,$l=null,e}function le(e,t){var r=t[Xl];r===void 0&&(r=t[Xl]=new Set);var s=e+"__bubble";r.has(s)||(Vd(t,e,2,!1),r.add(s))}function nl(e,t,r){var s=0;t&&(s|=4),Vd(r,e,s,t)}var gs="_reactListening"+Math.random().toString(36).slice(2);function Un(e){if(!e[gs]){e[gs]=!0,Zu.forEach(function(r){r!=="selectionchange"&&(Wh.has(r)||nl(r,!1,e),nl(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[gs]||(t[gs]=!0,nl("selectionchange",!1,t))}}function Vd(e,t,r,s){switch(Fd(t)){case 1:var a=nh;break;case 4:a=sh;break;default:a=Do}r=a.bind(null,t,r,e),a=void 0,!Dl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function sl(e,t,r,s,a){var l=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var c=s.stateNode.containerInfo;if(c===a||c.nodeType===8&&c.parentNode===a)break;if(o===4)for(o=s.return;o!==null;){var i=o.tag;if((i===3||i===4)&&(i=o.stateNode.containerInfo,i===a||i.nodeType===8&&i.parentNode===a))return;o=o.return}for(;c!==null;){if(o=xr(c),o===null)return;if(i=o.tag,i===5||i===6){s=l=o;continue e}c=c.parentNode}}s=s.return}fd(function(){var d=l,p=Io(r),u=[];e:{var f=Wd.get(e);if(f!==void 0){var y=Bo,b=e;switch(e){case"keypress":if(_s(r)===0)break e;case"keydown":case"keyup":y=bh;break;case"focusin":b="focus",y=Ja;break;case"focusout":b="blur",y=Ja;break;case"beforeblur":case"afterblur":y=Ja;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=lc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=oh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Nh;break;case Dd:case $d:case Bd:y=uh;break;case Ud:y=kh;break;case"scroll":y=ah;break;case"wheel":y=Ch;break;case"copy":case"cut":case"paste":y=ph;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=ic}var N=(t&4)!==0,k=!N&&e==="scroll",x=N?f!==null?f+"Capture":null:f;N=[];for(var h=d,g;h!==null;){g=h;var w=g.stateNode;if(g.tag===5&&w!==null&&(g=w,x!==null&&(w=Rn(h,x),w!=null&&N.push(Wn(h,w,g)))),k)break;h=h.return}0<N.length&&(f=new y(f,b,null,r,p),u.push({event:f,listeners:N}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",f&&r!==zl&&(b=r.relatedTarget||r.fromElement)&&(xr(b)||b[It]))break e;if((y||f)&&(f=p.window===p?p:(f=p.ownerDocument)?f.defaultView||f.parentWindow:window,y?(b=r.relatedTarget||r.toElement,y=d,b=b?xr(b):null,b!==null&&(k=Er(b),b!==k||b.tag!==5&&b.tag!==6)&&(b=null)):(y=null,b=d),y!==b)){if(N=lc,w="onMouseLeave",x="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(N=ic,w="onPointerLeave",x="onPointerEnter",h="pointer"),k=y==null?f:Rr(y),g=b==null?f:Rr(b),f=new N(w,h+"leave",y,r,p),f.target=k,f.relatedTarget=g,w=null,xr(p)===d&&(N=new N(x,h+"enter",b,r,p),N.target=g,N.relatedTarget=k,w=N),k=w,y&&b)t:{for(N=y,x=b,h=0,g=N;g;g=Tr(g))h++;for(g=0,w=x;w;w=Tr(w))g++;for(;0<h-g;)N=Tr(N),h--;for(;0<g-h;)x=Tr(x),g--;for(;h--;){if(N===x||x!==null&&N===x.alternate)break t;N=Tr(N),x=Tr(x)}N=null}else N=null;y!==null&&bc(u,f,y,N,!1),b!==null&&k!==null&&bc(u,k,b,N,!0)}}e:{if(f=d?Rr(d):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var S=Mh;else if(dc(f))if(Ad)S=zh;else{S=Ih;var F=Ah}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=Rh);if(S&&(S=S(e,d))){Md(u,S,r,p);break e}F&&F(e,f,d),e==="focusout"&&(F=f._wrapperState)&&F.controlled&&f.type==="number"&&_l(f,"number",f.value)}switch(F=d?Rr(d):window,e){case"focusin":(dc(F)||F.contentEditable==="true")&&(Ar=F,Hl=d,Tn=null);break;case"focusout":Tn=Hl=Ar=null;break;case"mousedown":Vl=!0;break;case"contextmenu":case"mouseup":case"dragend":Vl=!1,xc(u,r,p);break;case"selectionchange":if($h)break;case"keydown":case"keyup":xc(u,r,p)}var M;if(Wo)e:{switch(e){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else Mr?Ld(e,r)&&(B="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(B="onCompositionStart");B&&(Pd&&r.locale!=="ko"&&(Mr||B!=="onCompositionStart"?B==="onCompositionEnd"&&Mr&&(M=Td()):(Qt=p,$o="value"in Qt?Qt.value:Qt.textContent,Mr=!0)),F=Ks(d,B),0<F.length&&(B=new oc(B,e,null,r,p),u.push({event:B,listeners:F}),M?B.data=M:(M=_d(r),M!==null&&(B.data=M)))),(M=Fh?Th(e,r):Ph(e,r))&&(d=Ks(d,"onBeforeInput"),0<d.length&&(p=new oc("onBeforeInput","beforeinput",null,r,p),u.push({event:p,listeners:d}),p.data=M))}Hd(u,t)})}function Wn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ks(e,t){for(var r=t+"Capture",s=[];e!==null;){var a=e,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=Rn(e,r),l!=null&&s.unshift(Wn(e,l,a)),l=Rn(e,t),l!=null&&s.push(Wn(e,l,a))),e=e.return}return s}function Tr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function bc(e,t,r,s,a){for(var l=t._reactName,o=[];r!==null&&r!==s;){var c=r,i=c.alternate,d=c.stateNode;if(i!==null&&i===s)break;c.tag===5&&d!==null&&(c=d,a?(i=Rn(r,l),i!=null&&o.unshift(Wn(r,i,c))):a||(i=Rn(r,l),i!=null&&o.push(Wn(r,i,c)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Hh=/\r\n?/g,Vh=/\u0000|\uFFFD/g;function yc(e){return(typeof e=="string"?e:""+e).replace(Hh,`
`).replace(Vh,"")}function vs(e,t,r){if(t=yc(t),yc(e)!==t&&r)throw Error(z(425))}function Xs(){}var Ql=null,Gl=null;function Yl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Kl=typeof setTimeout=="function"?setTimeout:void 0,Qh=typeof clearTimeout=="function"?clearTimeout:void 0,jc=typeof Promise=="function"?Promise:void 0,Gh=typeof queueMicrotask=="function"?queueMicrotask:typeof jc<"u"?function(e){return jc.resolve(null).then(e).catch(Yh)}:Kl;function Yh(e){setTimeout(function(){throw e})}function al(e,t){var r=t,s=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(s===0){e.removeChild(a),Dn(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=a}while(r);Dn(t)}function Zt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Nc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var an=Math.random().toString(36).slice(2),wt="__reactFiber$"+an,Hn="__reactProps$"+an,It="__reactContainer$"+an,Xl="__reactEvents$"+an,Kh="__reactListeners$"+an,Xh="__reactHandles$"+an;function xr(e){var t=e[wt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[It]||r[wt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Nc(e);e!==null;){if(r=e[wt])return r;e=Nc(e)}return t}e=r,r=e.parentNode}return null}function rs(e){return e=e[wt]||e[It],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Rr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(z(33))}function Na(e){return e[Hn]||null}var Jl=[],zr=-1;function ir(e){return{current:e}}function ie(e){0>zr||(e.current=Jl[zr],Jl[zr]=null,zr--)}function se(e,t){zr++,Jl[zr]=e.current,e.current=t}var lr={},ze=ir(lr),He=ir(!1),jr=lr;function Xr(e,t){var r=e.type.contextTypes;if(!r)return lr;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in r)a[l]=t[l];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ve(e){return e=e.childContextTypes,e!=null}function Js(){ie(He),ie(ze)}function wc(e,t,r){if(ze.current!==lr)throw Error(z(168));se(ze,t),se(He,r)}function Qd(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(z(108,Af(e)||"Unknown",a));return fe({},r,s)}function Zs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||lr,jr=ze.current,se(ze,e),se(He,He.current),!0}function kc(e,t,r){var s=e.stateNode;if(!s)throw Error(z(169));r?(e=Qd(e,t,jr),s.__reactInternalMemoizedMergedChildContext=e,ie(He),ie(ze),se(ze,e)):ie(He),se(He,r)}var Ft=null,wa=!1,ll=!1;function Gd(e){Ft===null?Ft=[e]:Ft.push(e)}function Jh(e){wa=!0,Gd(e)}function cr(){if(!ll&&Ft!==null){ll=!0;var e=0,t=re;try{var r=Ft;for(re=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}Ft=null,wa=!1}catch(a){throw Ft!==null&&(Ft=Ft.slice(e+1)),vd(Ro,cr),a}finally{re=t,ll=!1}}return null}var Or=[],Dr=0,qs=null,ea=0,rt=[],nt=0,Nr=null,Tt=1,Pt="";function fr(e,t){Or[Dr++]=ea,Or[Dr++]=qs,qs=e,ea=t}function Yd(e,t,r){rt[nt++]=Tt,rt[nt++]=Pt,rt[nt++]=Nr,Nr=e;var s=Tt;e=Pt;var a=32-xt(s)-1;s&=~(1<<a),r+=1;var l=32-xt(t)+a;if(30<l){var o=a-a%5;l=(s&(1<<o)-1).toString(32),s>>=o,a-=o,Tt=1<<32-xt(t)+a|r<<a|s,Pt=l+e}else Tt=1<<l|r<<a|s,Pt=e}function Vo(e){e.return!==null&&(fr(e,1),Yd(e,1,0))}function Qo(e){for(;e===qs;)qs=Or[--Dr],Or[Dr]=null,ea=Or[--Dr],Or[Dr]=null;for(;e===Nr;)Nr=rt[--nt],rt[nt]=null,Pt=rt[--nt],rt[nt]=null,Tt=rt[--nt],rt[nt]=null}var Xe=null,Ke=null,ue=!1,ht=null;function Kd(e,t){var r=at(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Sc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Xe=e,Ke=Zt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Xe=e,Ke=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Nr!==null?{id:Tt,overflow:Pt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=at(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Xe=e,Ke=null,!0):!1;default:return!1}}function Zl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ql(e){if(ue){var t=Ke;if(t){var r=t;if(!Sc(e,t)){if(Zl(e))throw Error(z(418));t=Zt(r.nextSibling);var s=Xe;t&&Sc(e,t)?Kd(s,r):(e.flags=e.flags&-4097|2,ue=!1,Xe=e)}}else{if(Zl(e))throw Error(z(418));e.flags=e.flags&-4097|2,ue=!1,Xe=e}}}function Cc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Xe=e}function bs(e){if(e!==Xe)return!1;if(!ue)return Cc(e),ue=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Yl(e.type,e.memoizedProps)),t&&(t=Ke)){if(Zl(e))throw Xd(),Error(z(418));for(;t;)Kd(e,t),t=Zt(t.nextSibling)}if(Cc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ke=Zt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ke=null}}else Ke=Xe?Zt(e.stateNode.nextSibling):null;return!0}function Xd(){for(var e=Ke;e;)e=Zt(e.nextSibling)}function Jr(){Ke=Xe=null,ue=!1}function Go(e){ht===null?ht=[e]:ht.push(e)}var Zh=Ot.ReactCurrentBatchConfig;function vn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(z(309));var s=r.stateNode}if(!s)throw Error(z(147,e));var a=s,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(o){var c=a.refs;o===null?delete c[l]:c[l]=o},t._stringRef=l,t)}if(typeof e!="string")throw Error(z(284));if(!r._owner)throw Error(z(290,e))}return e}function ys(e,t){throw e=Object.prototype.toString.call(t),Error(z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ec(e){var t=e._init;return t(e._payload)}function Jd(e){function t(x,h){if(e){var g=x.deletions;g===null?(x.deletions=[h],x.flags|=16):g.push(h)}}function r(x,h){if(!e)return null;for(;h!==null;)t(x,h),h=h.sibling;return null}function s(x,h){for(x=new Map;h!==null;)h.key!==null?x.set(h.key,h):x.set(h.index,h),h=h.sibling;return x}function a(x,h){return x=rr(x,h),x.index=0,x.sibling=null,x}function l(x,h,g){return x.index=g,e?(g=x.alternate,g!==null?(g=g.index,g<h?(x.flags|=2,h):g):(x.flags|=2,h)):(x.flags|=1048576,h)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function c(x,h,g,w){return h===null||h.tag!==6?(h=ml(g,x.mode,w),h.return=x,h):(h=a(h,g),h.return=x,h)}function i(x,h,g,w){var S=g.type;return S===_r?p(x,h,g.props.children,w,g.key):h!==null&&(h.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ut&&Ec(S)===h.type)?(w=a(h,g.props),w.ref=vn(x,h,g),w.return=x,w):(w=Ds(g.type,g.key,g.props,null,x.mode,w),w.ref=vn(x,h,g),w.return=x,w)}function d(x,h,g,w){return h===null||h.tag!==4||h.stateNode.containerInfo!==g.containerInfo||h.stateNode.implementation!==g.implementation?(h=fl(g,x.mode,w),h.return=x,h):(h=a(h,g.children||[]),h.return=x,h)}function p(x,h,g,w,S){return h===null||h.tag!==7?(h=yr(g,x.mode,w,S),h.return=x,h):(h=a(h,g),h.return=x,h)}function u(x,h,g){if(typeof h=="string"&&h!==""||typeof h=="number")return h=ml(""+h,x.mode,g),h.return=x,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case cs:return g=Ds(h.type,h.key,h.props,null,x.mode,g),g.ref=vn(x,null,h),g.return=x,g;case Lr:return h=fl(h,x.mode,g),h.return=x,h;case Ut:var w=h._init;return u(x,w(h._payload),g)}if(Nn(h)||mn(h))return h=yr(h,x.mode,g,null),h.return=x,h;ys(x,h)}return null}function f(x,h,g,w){var S=h!==null?h.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return S!==null?null:c(x,h,""+g,w);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case cs:return g.key===S?i(x,h,g,w):null;case Lr:return g.key===S?d(x,h,g,w):null;case Ut:return S=g._init,f(x,h,S(g._payload),w)}if(Nn(g)||mn(g))return S!==null?null:p(x,h,g,w,null);ys(x,g)}return null}function y(x,h,g,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return x=x.get(g)||null,c(h,x,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case cs:return x=x.get(w.key===null?g:w.key)||null,i(h,x,w,S);case Lr:return x=x.get(w.key===null?g:w.key)||null,d(h,x,w,S);case Ut:var F=w._init;return y(x,h,g,F(w._payload),S)}if(Nn(w)||mn(w))return x=x.get(g)||null,p(h,x,w,S,null);ys(h,w)}return null}function b(x,h,g,w){for(var S=null,F=null,M=h,B=h=0,T=null;M!==null&&B<g.length;B++){M.index>B?(T=M,M=null):T=M.sibling;var _=f(x,M,g[B],w);if(_===null){M===null&&(M=T);break}e&&M&&_.alternate===null&&t(x,M),h=l(_,h,B),F===null?S=_:F.sibling=_,F=_,M=T}if(B===g.length)return r(x,M),ue&&fr(x,B),S;if(M===null){for(;B<g.length;B++)M=u(x,g[B],w),M!==null&&(h=l(M,h,B),F===null?S=M:F.sibling=M,F=M);return ue&&fr(x,B),S}for(M=s(x,M);B<g.length;B++)T=y(M,x,B,g[B],w),T!==null&&(e&&T.alternate!==null&&M.delete(T.key===null?B:T.key),h=l(T,h,B),F===null?S=T:F.sibling=T,F=T);return e&&M.forEach(function(I){return t(x,I)}),ue&&fr(x,B),S}function N(x,h,g,w){var S=mn(g);if(typeof S!="function")throw Error(z(150));if(g=S.call(g),g==null)throw Error(z(151));for(var F=S=null,M=h,B=h=0,T=null,_=g.next();M!==null&&!_.done;B++,_=g.next()){M.index>B?(T=M,M=null):T=M.sibling;var I=f(x,M,_.value,w);if(I===null){M===null&&(M=T);break}e&&M&&I.alternate===null&&t(x,M),h=l(I,h,B),F===null?S=I:F.sibling=I,F=I,M=T}if(_.done)return r(x,M),ue&&fr(x,B),S;if(M===null){for(;!_.done;B++,_=g.next())_=u(x,_.value,w),_!==null&&(h=l(_,h,B),F===null?S=_:F.sibling=_,F=_);return ue&&fr(x,B),S}for(M=s(x,M);!_.done;B++,_=g.next())_=y(M,x,B,_.value,w),_!==null&&(e&&_.alternate!==null&&M.delete(_.key===null?B:_.key),h=l(_,h,B),F===null?S=_:F.sibling=_,F=_);return e&&M.forEach(function(L){return t(x,L)}),ue&&fr(x,B),S}function k(x,h,g,w){if(typeof g=="object"&&g!==null&&g.type===_r&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case cs:e:{for(var S=g.key,F=h;F!==null;){if(F.key===S){if(S=g.type,S===_r){if(F.tag===7){r(x,F.sibling),h=a(F,g.props.children),h.return=x,x=h;break e}}else if(F.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ut&&Ec(S)===F.type){r(x,F.sibling),h=a(F,g.props),h.ref=vn(x,F,g),h.return=x,x=h;break e}r(x,F);break}else t(x,F);F=F.sibling}g.type===_r?(h=yr(g.props.children,x.mode,w,g.key),h.return=x,x=h):(w=Ds(g.type,g.key,g.props,null,x.mode,w),w.ref=vn(x,h,g),w.return=x,x=w)}return o(x);case Lr:e:{for(F=g.key;h!==null;){if(h.key===F)if(h.tag===4&&h.stateNode.containerInfo===g.containerInfo&&h.stateNode.implementation===g.implementation){r(x,h.sibling),h=a(h,g.children||[]),h.return=x,x=h;break e}else{r(x,h);break}else t(x,h);h=h.sibling}h=fl(g,x.mode,w),h.return=x,x=h}return o(x);case Ut:return F=g._init,k(x,h,F(g._payload),w)}if(Nn(g))return b(x,h,g,w);if(mn(g))return N(x,h,g,w);ys(x,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,h!==null&&h.tag===6?(r(x,h.sibling),h=a(h,g),h.return=x,x=h):(r(x,h),h=ml(g,x.mode,w),h.return=x,x=h),o(x)):r(x,h)}return k}var Zr=Jd(!0),Zd=Jd(!1),ta=ir(null),ra=null,$r=null,Yo=null;function Ko(){Yo=$r=ra=null}function Xo(e){var t=ta.current;ie(ta),e._currentValue=t}function eo(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function Gr(e,t){ra=e,Yo=$r=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(We=!0),e.firstContext=null)}function it(e){var t=e._currentValue;if(Yo!==e)if(e={context:e,memoizedValue:t,next:null},$r===null){if(ra===null)throw Error(z(308));$r=e,ra.dependencies={lanes:0,firstContext:e}}else $r=$r.next=e;return t}var gr=null;function Jo(e){gr===null?gr=[e]:gr.push(e)}function qd(e,t,r,s){var a=t.interleaved;return a===null?(r.next=r,Jo(t)):(r.next=a.next,a.next=r),t.interleaved=r,Rt(e,s)}function Rt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Wt=!1;function Zo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ep(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Lt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function qt(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,q&2){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,Rt(e,r)}return a=s.interleaved,a===null?(t.next=t,Jo(s)):(t.next=a.next,a.next=t),s.interleaved=t,Rt(e,r)}function Ms(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,zo(e,r)}}function Fc(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var a=null,l=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};l===null?a=l=o:l=l.next=o,r=r.next}while(r!==null);l===null?a=l=t:l=l.next=t}else a=l=t;r={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function na(e,t,r,s){var a=e.updateQueue;Wt=!1;var l=a.firstBaseUpdate,o=a.lastBaseUpdate,c=a.shared.pending;if(c!==null){a.shared.pending=null;var i=c,d=i.next;i.next=null,o===null?l=d:o.next=d,o=i;var p=e.alternate;p!==null&&(p=p.updateQueue,c=p.lastBaseUpdate,c!==o&&(c===null?p.firstBaseUpdate=d:c.next=d,p.lastBaseUpdate=i))}if(l!==null){var u=a.baseState;o=0,p=d=i=null,c=l;do{var f=c.lane,y=c.eventTime;if((s&f)===f){p!==null&&(p=p.next={eventTime:y,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var b=e,N=c;switch(f=t,y=r,N.tag){case 1:if(b=N.payload,typeof b=="function"){u=b.call(y,u,f);break e}u=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=N.payload,f=typeof b=="function"?b.call(y,u,f):b,f==null)break e;u=fe({},u,f);break e;case 2:Wt=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,f=a.effects,f===null?a.effects=[c]:f.push(c))}else y={eventTime:y,lane:f,tag:c.tag,payload:c.payload,callback:c.callback,next:null},p===null?(d=p=y,i=u):p=p.next=y,o|=f;if(c=c.next,c===null){if(c=a.shared.pending,c===null)break;f=c,c=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(!0);if(p===null&&(i=u),a.baseState=i,a.firstBaseUpdate=d,a.lastBaseUpdate=p,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else l===null&&(a.shared.lanes=0);kr|=o,e.lanes=o,e.memoizedState=u}}function Tc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=r,typeof a!="function")throw Error(z(191,a));a.call(s)}}}var ns={},St=ir(ns),Vn=ir(ns),Qn=ir(ns);function vr(e){if(e===ns)throw Error(z(174));return e}function qo(e,t){switch(se(Qn,t),se(Vn,e),se(St,ns),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Al(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Al(t,e)}ie(St),se(St,t)}function qr(){ie(St),ie(Vn),ie(Qn)}function tp(e){vr(Qn.current);var t=vr(St.current),r=Al(t,e.type);t!==r&&(se(Vn,e),se(St,r))}function ei(e){Vn.current===e&&(ie(St),ie(Vn))}var de=ir(0);function sa(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ol=[];function ti(){for(var e=0;e<ol.length;e++)ol[e]._workInProgressVersionPrimary=null;ol.length=0}var As=Ot.ReactCurrentDispatcher,il=Ot.ReactCurrentBatchConfig,wr=0,pe=null,Ne=null,Se=null,aa=!1,Pn=!1,Gn=0,qh=0;function Me(){throw Error(z(321))}function ri(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!vt(e[r],t[r]))return!1;return!0}function ni(e,t,r,s,a,l){if(wr=l,pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,As.current=e===null||e.memoizedState===null?nx:sx,e=r(s,a),Pn){l=0;do{if(Pn=!1,Gn=0,25<=l)throw Error(z(301));l+=1,Se=Ne=null,t.updateQueue=null,As.current=ax,e=r(s,a)}while(Pn)}if(As.current=la,t=Ne!==null&&Ne.next!==null,wr=0,Se=Ne=pe=null,aa=!1,t)throw Error(z(300));return e}function si(){var e=Gn!==0;return Gn=0,e}function jt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?pe.memoizedState=Se=e:Se=Se.next=e,Se}function ct(){if(Ne===null){var e=pe.alternate;e=e!==null?e.memoizedState:null}else e=Ne.next;var t=Se===null?pe.memoizedState:Se.next;if(t!==null)Se=t,Ne=e;else{if(e===null)throw Error(z(310));Ne=e,e={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},Se===null?pe.memoizedState=Se=e:Se=Se.next=e}return Se}function Yn(e,t){return typeof t=="function"?t(e):t}function cl(e){var t=ct(),r=t.queue;if(r===null)throw Error(z(311));r.lastRenderedReducer=e;var s=Ne,a=s.baseQueue,l=r.pending;if(l!==null){if(a!==null){var o=a.next;a.next=l.next,l.next=o}s.baseQueue=a=l,r.pending=null}if(a!==null){l=a.next,s=s.baseState;var c=o=null,i=null,d=l;do{var p=d.lane;if((wr&p)===p)i!==null&&(i=i.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var u={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};i===null?(c=i=u,o=s):i=i.next=u,pe.lanes|=p,kr|=p}d=d.next}while(d!==null&&d!==l);i===null?o=s:i.next=c,vt(s,t.memoizedState)||(We=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=i,r.lastRenderedState=s}if(e=r.interleaved,e!==null){a=e;do l=a.lane,pe.lanes|=l,kr|=l,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ul(e){var t=ct(),r=t.queue;if(r===null)throw Error(z(311));r.lastRenderedReducer=e;var s=r.dispatch,a=r.pending,l=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do l=e(l,o.action),o=o.next;while(o!==a);vt(l,t.memoizedState)||(We=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),r.lastRenderedState=l}return[l,s]}function rp(){}function np(e,t){var r=pe,s=ct(),a=t(),l=!vt(s.memoizedState,a);if(l&&(s.memoizedState=a,We=!0),s=s.queue,ai(lp.bind(null,r,s,e),[e]),s.getSnapshot!==t||l||Se!==null&&Se.memoizedState.tag&1){if(r.flags|=2048,Kn(9,ap.bind(null,r,s,a,t),void 0,null),Ce===null)throw Error(z(349));wr&30||sp(r,t,a)}return a}function sp(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=pe.updateQueue,t===null?(t={lastEffect:null,stores:null},pe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function ap(e,t,r,s){t.value=r,t.getSnapshot=s,op(t)&&ip(e)}function lp(e,t,r){return r(function(){op(t)&&ip(e)})}function op(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!vt(e,r)}catch{return!0}}function ip(e){var t=Rt(e,1);t!==null&&gt(t,e,1,-1)}function Pc(e){var t=jt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yn,lastRenderedState:e},t.queue=e,e=e.dispatch=rx.bind(null,pe,e),[t.memoizedState,e]}function Kn(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=pe.updateQueue,t===null?(t={lastEffect:null,stores:null},pe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function cp(){return ct().memoizedState}function Is(e,t,r,s){var a=jt();pe.flags|=e,a.memoizedState=Kn(1|t,r,void 0,s===void 0?null:s)}function ka(e,t,r,s){var a=ct();s=s===void 0?null:s;var l=void 0;if(Ne!==null){var o=Ne.memoizedState;if(l=o.destroy,s!==null&&ri(s,o.deps)){a.memoizedState=Kn(t,r,l,s);return}}pe.flags|=e,a.memoizedState=Kn(1|t,r,l,s)}function Lc(e,t){return Is(8390656,8,e,t)}function ai(e,t){return ka(2048,8,e,t)}function up(e,t){return ka(4,2,e,t)}function dp(e,t){return ka(4,4,e,t)}function pp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function mp(e,t,r){return r=r!=null?r.concat([e]):null,ka(4,4,pp.bind(null,t,e),r)}function li(){}function fp(e,t){var r=ct();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&ri(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function hp(e,t){var r=ct();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&ri(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function xp(e,t,r){return wr&21?(vt(r,t)||(r=jd(),pe.lanes|=r,kr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,We=!0),e.memoizedState=r)}function ex(e,t){var r=re;re=r!==0&&4>r?r:4,e(!0);var s=il.transition;il.transition={};try{e(!1),t()}finally{re=r,il.transition=s}}function gp(){return ct().memoizedState}function tx(e,t,r){var s=tr(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},vp(e))bp(t,r);else if(r=qd(e,t,r,s),r!==null){var a=De();gt(r,e,s,a),yp(r,t,s)}}function rx(e,t,r){var s=tr(e),a={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(vp(e))bp(t,a);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var o=t.lastRenderedState,c=l(o,r);if(a.hasEagerState=!0,a.eagerState=c,vt(c,o)){var i=t.interleaved;i===null?(a.next=a,Jo(t)):(a.next=i.next,i.next=a),t.interleaved=a;return}}catch{}finally{}r=qd(e,t,a,s),r!==null&&(a=De(),gt(r,e,s,a),yp(r,t,s))}}function vp(e){var t=e.alternate;return e===pe||t!==null&&t===pe}function bp(e,t){Pn=aa=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function yp(e,t,r){if(r&4194240){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,zo(e,r)}}var la={readContext:it,useCallback:Me,useContext:Me,useEffect:Me,useImperativeHandle:Me,useInsertionEffect:Me,useLayoutEffect:Me,useMemo:Me,useReducer:Me,useRef:Me,useState:Me,useDebugValue:Me,useDeferredValue:Me,useTransition:Me,useMutableSource:Me,useSyncExternalStore:Me,useId:Me,unstable_isNewReconciler:!1},nx={readContext:it,useCallback:function(e,t){return jt().memoizedState=[e,t===void 0?null:t],e},useContext:it,useEffect:Lc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Is(4194308,4,pp.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Is(4194308,4,e,t)},useInsertionEffect:function(e,t){return Is(4,2,e,t)},useMemo:function(e,t){var r=jt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=jt();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=tx.bind(null,pe,e),[s.memoizedState,e]},useRef:function(e){var t=jt();return e={current:e},t.memoizedState=e},useState:Pc,useDebugValue:li,useDeferredValue:function(e){return jt().memoizedState=e},useTransition:function(){var e=Pc(!1),t=e[0];return e=ex.bind(null,e[1]),jt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=pe,a=jt();if(ue){if(r===void 0)throw Error(z(407));r=r()}else{if(r=t(),Ce===null)throw Error(z(349));wr&30||sp(s,t,r)}a.memoizedState=r;var l={value:r,getSnapshot:t};return a.queue=l,Lc(lp.bind(null,s,l,e),[e]),s.flags|=2048,Kn(9,ap.bind(null,s,l,r,t),void 0,null),r},useId:function(){var e=jt(),t=Ce.identifierPrefix;if(ue){var r=Pt,s=Tt;r=(s&~(1<<32-xt(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=Gn++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=qh++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},sx={readContext:it,useCallback:fp,useContext:it,useEffect:ai,useImperativeHandle:mp,useInsertionEffect:up,useLayoutEffect:dp,useMemo:hp,useReducer:cl,useRef:cp,useState:function(){return cl(Yn)},useDebugValue:li,useDeferredValue:function(e){var t=ct();return xp(t,Ne.memoizedState,e)},useTransition:function(){var e=cl(Yn)[0],t=ct().memoizedState;return[e,t]},useMutableSource:rp,useSyncExternalStore:np,useId:gp,unstable_isNewReconciler:!1},ax={readContext:it,useCallback:fp,useContext:it,useEffect:ai,useImperativeHandle:mp,useInsertionEffect:up,useLayoutEffect:dp,useMemo:hp,useReducer:ul,useRef:cp,useState:function(){return ul(Yn)},useDebugValue:li,useDeferredValue:function(e){var t=ct();return Ne===null?t.memoizedState=e:xp(t,Ne.memoizedState,e)},useTransition:function(){var e=ul(Yn)[0],t=ct().memoizedState;return[e,t]},useMutableSource:rp,useSyncExternalStore:np,useId:gp,unstable_isNewReconciler:!1};function mt(e,t){if(e&&e.defaultProps){t=fe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function to(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:fe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Sa={isMounted:function(e){return(e=e._reactInternals)?Er(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=De(),a=tr(e),l=Lt(s,a);l.payload=t,r!=null&&(l.callback=r),t=qt(e,l,a),t!==null&&(gt(t,e,a,s),Ms(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=De(),a=tr(e),l=Lt(s,a);l.tag=1,l.payload=t,r!=null&&(l.callback=r),t=qt(e,l,a),t!==null&&(gt(t,e,a,s),Ms(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=De(),s=tr(e),a=Lt(r,s);a.tag=2,t!=null&&(a.callback=t),t=qt(e,a,s),t!==null&&(gt(t,e,s,r),Ms(t,e,s))}};function _c(e,t,r,s,a,l,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,l,o):t.prototype&&t.prototype.isPureReactComponent?!Bn(r,s)||!Bn(a,l):!0}function jp(e,t,r){var s=!1,a=lr,l=t.contextType;return typeof l=="object"&&l!==null?l=it(l):(a=Ve(t)?jr:ze.current,s=t.contextTypes,l=(s=s!=null)?Xr(e,a):lr),t=new t(r,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Sa,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=l),t}function Mc(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&Sa.enqueueReplaceState(t,t.state,null)}function ro(e,t,r,s){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Zo(e);var l=t.contextType;typeof l=="object"&&l!==null?a.context=it(l):(l=Ve(t)?jr:ze.current,a.context=Xr(e,l)),a.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(to(e,t,l,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Sa.enqueueReplaceState(a,a.state,null),na(e,r,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function en(e,t){try{var r="",s=t;do r+=Mf(s),s=s.return;while(s);var a=r}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:a,digest:null}}function dl(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function no(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var lx=typeof WeakMap=="function"?WeakMap:Map;function Np(e,t,r){r=Lt(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){ia||(ia=!0,fo=s),no(e,t)},r}function wp(e,t,r){r=Lt(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;r.payload=function(){return s(a)},r.callback=function(){no(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(r.callback=function(){no(e,t),typeof s!="function"&&(er===null?er=new Set([this]):er.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Ac(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new lx;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(r)||(a.add(r),e=yx.bind(null,e,t,r),t.then(e,e))}function Ic(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Rc(e,t,r,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Lt(-1,1),t.tag=2,qt(r,t,1))),r.lanes|=1),e)}var ox=Ot.ReactCurrentOwner,We=!1;function Oe(e,t,r,s){t.child=e===null?Zd(t,null,r,s):Zr(t,e.child,r,s)}function zc(e,t,r,s,a){r=r.render;var l=t.ref;return Gr(t,a),s=ni(e,t,r,s,l,a),r=si(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,zt(e,t,a)):(ue&&r&&Vo(t),t.flags|=1,Oe(e,t,s,a),t.child)}function Oc(e,t,r,s,a){if(e===null){var l=r.type;return typeof l=="function"&&!fi(l)&&l.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=l,kp(e,t,l,s,a)):(e=Ds(r.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&a)){var o=l.memoizedProps;if(r=r.compare,r=r!==null?r:Bn,r(o,s)&&e.ref===t.ref)return zt(e,t,a)}return t.flags|=1,e=rr(l,s),e.ref=t.ref,e.return=t,t.child=e}function kp(e,t,r,s,a){if(e!==null){var l=e.memoizedProps;if(Bn(l,s)&&e.ref===t.ref)if(We=!1,t.pendingProps=s=l,(e.lanes&a)!==0)e.flags&131072&&(We=!0);else return t.lanes=e.lanes,zt(e,t,a)}return so(e,t,r,s,a)}function Sp(e,t,r){var s=t.pendingProps,a=s.children,l=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},se(Ur,Ye),Ye|=r;else{if(!(r&1073741824))return e=l!==null?l.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,se(Ur,Ye),Ye|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=l!==null?l.baseLanes:r,se(Ur,Ye),Ye|=s}else l!==null?(s=l.baseLanes|r,t.memoizedState=null):s=r,se(Ur,Ye),Ye|=s;return Oe(e,t,a,r),t.child}function Cp(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function so(e,t,r,s,a){var l=Ve(r)?jr:ze.current;return l=Xr(t,l),Gr(t,a),r=ni(e,t,r,s,l,a),s=si(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,zt(e,t,a)):(ue&&s&&Vo(t),t.flags|=1,Oe(e,t,r,a),t.child)}function Dc(e,t,r,s,a){if(Ve(r)){var l=!0;Zs(t)}else l=!1;if(Gr(t,a),t.stateNode===null)Rs(e,t),jp(t,r,s),ro(t,r,s,a),s=!0;else if(e===null){var o=t.stateNode,c=t.memoizedProps;o.props=c;var i=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=it(d):(d=Ve(r)?jr:ze.current,d=Xr(t,d));var p=r.getDerivedStateFromProps,u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";u||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==s||i!==d)&&Mc(t,o,s,d),Wt=!1;var f=t.memoizedState;o.state=f,na(t,s,o,a),i=t.memoizedState,c!==s||f!==i||He.current||Wt?(typeof p=="function"&&(to(t,r,p,s),i=t.memoizedState),(c=Wt||_c(t,r,c,s,f,i,d))?(u||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=i),o.props=s,o.state=i,o.context=d,s=c):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,ep(e,t),c=t.memoizedProps,d=t.type===t.elementType?c:mt(t.type,c),o.props=d,u=t.pendingProps,f=o.context,i=r.contextType,typeof i=="object"&&i!==null?i=it(i):(i=Ve(r)?jr:ze.current,i=Xr(t,i));var y=r.getDerivedStateFromProps;(p=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==u||f!==i)&&Mc(t,o,s,i),Wt=!1,f=t.memoizedState,o.state=f,na(t,s,o,a);var b=t.memoizedState;c!==u||f!==b||He.current||Wt?(typeof y=="function"&&(to(t,r,y,s),b=t.memoizedState),(d=Wt||_c(t,r,d,s,f,b,i)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,b,i),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,b,i)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=b),o.props=s,o.state=b,o.context=i,s=d):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),s=!1)}return ao(e,t,r,s,l,a)}function ao(e,t,r,s,a,l){Cp(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return a&&kc(t,r,!1),zt(e,t,l);s=t.stateNode,ox.current=t;var c=o&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=Zr(t,e.child,null,l),t.child=Zr(t,null,c,l)):Oe(e,t,c,l),t.memoizedState=s.state,a&&kc(t,r,!0),t.child}function Ep(e){var t=e.stateNode;t.pendingContext?wc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&wc(e,t.context,!1),qo(e,t.containerInfo)}function $c(e,t,r,s,a){return Jr(),Go(a),t.flags|=256,Oe(e,t,r,s),t.child}var lo={dehydrated:null,treeContext:null,retryLane:0};function oo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fp(e,t,r){var s=t.pendingProps,a=de.current,l=!1,o=(t.flags&128)!==0,c;if((c=o)||(c=e!==null&&e.memoizedState===null?!1:(a&2)!==0),c?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),se(de,a&1),e===null)return ql(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,l?(s=t.mode,l=t.child,o={mode:"hidden",children:o},!(s&1)&&l!==null?(l.childLanes=0,l.pendingProps=o):l=Fa(o,s,0,null),e=yr(e,s,r,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=oo(r),t.memoizedState=lo,e):oi(t,o));if(a=e.memoizedState,a!==null&&(c=a.dehydrated,c!==null))return ix(e,t,o,s,c,a,r);if(l){l=s.fallback,o=t.mode,a=e.child,c=a.sibling;var i={mode:"hidden",children:s.children};return!(o&1)&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=i,t.deletions=null):(s=rr(a,i),s.subtreeFlags=a.subtreeFlags&14680064),c!==null?l=rr(c,l):(l=yr(l,o,r,null),l.flags|=2),l.return=t,s.return=t,s.sibling=l,t.child=s,s=l,l=t.child,o=e.child.memoizedState,o=o===null?oo(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=e.childLanes&~r,t.memoizedState=lo,s}return l=e.child,e=l.sibling,s=rr(l,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function oi(e,t){return t=Fa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function js(e,t,r,s){return s!==null&&Go(s),Zr(t,e.child,null,r),e=oi(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ix(e,t,r,s,a,l,o){if(r)return t.flags&256?(t.flags&=-257,s=dl(Error(z(422))),js(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=s.fallback,a=t.mode,s=Fa({mode:"visible",children:s.children},a,0,null),l=yr(l,a,o,null),l.flags|=2,s.return=t,l.return=t,s.sibling=l,t.child=s,t.mode&1&&Zr(t,e.child,null,o),t.child.memoizedState=oo(o),t.memoizedState=lo,l);if(!(t.mode&1))return js(e,t,o,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var c=s.dgst;return s=c,l=Error(z(419)),s=dl(l,s,void 0),js(e,t,o,s)}if(c=(o&e.childLanes)!==0,We||c){if(s=Ce,s!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|o)?0:a,a!==0&&a!==l.retryLane&&(l.retryLane=a,Rt(e,a),gt(s,e,a,-1))}return mi(),s=dl(Error(z(421))),js(e,t,o,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=jx.bind(null,e),a._reactRetry=t,null):(e=l.treeContext,Ke=Zt(a.nextSibling),Xe=t,ue=!0,ht=null,e!==null&&(rt[nt++]=Tt,rt[nt++]=Pt,rt[nt++]=Nr,Tt=e.id,Pt=e.overflow,Nr=t),t=oi(t,s.children),t.flags|=4096,t)}function Bc(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),eo(e.return,t,r)}function pl(e,t,r,s,a){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:a}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=s,l.tail=r,l.tailMode=a)}function Tp(e,t,r){var s=t.pendingProps,a=s.revealOrder,l=s.tail;if(Oe(e,t,s.children,r),s=de.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Bc(e,r,t);else if(e.tag===19)Bc(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(se(de,s),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&sa(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),pl(t,!1,a,r,l);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&sa(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}pl(t,!0,r,null,l);break;case"together":pl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Rs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),kr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(z(153));if(t.child!==null){for(e=t.child,r=rr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=rr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function cx(e,t,r){switch(t.tag){case 3:Ep(t),Jr();break;case 5:tp(t);break;case 1:Ve(t.type)&&Zs(t);break;case 4:qo(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;se(ta,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(se(de,de.current&1),t.flags|=128,null):r&t.child.childLanes?Fp(e,t,r):(se(de,de.current&1),e=zt(e,t,r),e!==null?e.sibling:null);se(de,de.current&1);break;case 19:if(s=(r&t.childLanes)!==0,e.flags&128){if(s)return Tp(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),se(de,de.current),s)break;return null;case 22:case 23:return t.lanes=0,Sp(e,t,r)}return zt(e,t,r)}var Pp,io,Lp,_p;Pp=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};io=function(){};Lp=function(e,t,r,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,vr(St.current);var l=null;switch(r){case"input":a=Pl(e,a),s=Pl(e,s),l=[];break;case"select":a=fe({},a,{value:void 0}),s=fe({},s,{value:void 0}),l=[];break;case"textarea":a=Ml(e,a),s=Ml(e,s),l=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Xs)}Il(r,s);var o;r=null;for(d in a)if(!s.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var c=a[d];for(o in c)c.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(An.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in s){var i=s[d];if(c=a!=null?a[d]:void 0,s.hasOwnProperty(d)&&i!==c&&(i!=null||c!=null))if(d==="style")if(c){for(o in c)!c.hasOwnProperty(o)||i&&i.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in i)i.hasOwnProperty(o)&&c[o]!==i[o]&&(r||(r={}),r[o]=i[o])}else r||(l||(l=[]),l.push(d,r)),r=i;else d==="dangerouslySetInnerHTML"?(i=i?i.__html:void 0,c=c?c.__html:void 0,i!=null&&c!==i&&(l=l||[]).push(d,i)):d==="children"?typeof i!="string"&&typeof i!="number"||(l=l||[]).push(d,""+i):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(An.hasOwnProperty(d)?(i!=null&&d==="onScroll"&&le("scroll",e),l||c===i||(l=[])):(l=l||[]).push(d,i))}r&&(l=l||[]).push("style",r);var d=l;(t.updateQueue=d)&&(t.flags|=4)}};_p=function(e,t,r,s){r!==s&&(t.flags|=4)};function bn(e,t){if(!ue)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ae(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function ux(e,t,r){var s=t.pendingProps;switch(Qo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ae(t),null;case 1:return Ve(t.type)&&Js(),Ae(t),null;case 3:return s=t.stateNode,qr(),ie(He),ie(ze),ti(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(bs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ht!==null&&(go(ht),ht=null))),io(e,t),Ae(t),null;case 5:ei(t);var a=vr(Qn.current);if(r=t.type,e!==null&&t.stateNode!=null)Lp(e,t,r,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(z(166));return Ae(t),null}if(e=vr(St.current),bs(t)){s=t.stateNode,r=t.type;var l=t.memoizedProps;switch(s[wt]=t,s[Hn]=l,e=(t.mode&1)!==0,r){case"dialog":le("cancel",s),le("close",s);break;case"iframe":case"object":case"embed":le("load",s);break;case"video":case"audio":for(a=0;a<kn.length;a++)le(kn[a],s);break;case"source":le("error",s);break;case"img":case"image":case"link":le("error",s),le("load",s);break;case"details":le("toggle",s);break;case"input":Xi(s,l),le("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!l.multiple},le("invalid",s);break;case"textarea":Zi(s,l),le("invalid",s)}Il(r,l),a=null;for(var o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="children"?typeof c=="string"?s.textContent!==c&&(l.suppressHydrationWarning!==!0&&vs(s.textContent,c,e),a=["children",c]):typeof c=="number"&&s.textContent!==""+c&&(l.suppressHydrationWarning!==!0&&vs(s.textContent,c,e),a=["children",""+c]):An.hasOwnProperty(o)&&c!=null&&o==="onScroll"&&le("scroll",s)}switch(r){case"input":us(s),Ji(s,l,!0);break;case"textarea":us(s),qi(s);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(s.onclick=Xs)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ld(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(r,{is:s.is}):(e=o.createElement(r),r==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,r),e[wt]=t,e[Hn]=s,Pp(e,t,!1,!1),t.stateNode=e;e:{switch(o=Rl(r,s),r){case"dialog":le("cancel",e),le("close",e),a=s;break;case"iframe":case"object":case"embed":le("load",e),a=s;break;case"video":case"audio":for(a=0;a<kn.length;a++)le(kn[a],e);a=s;break;case"source":le("error",e),a=s;break;case"img":case"image":case"link":le("error",e),le("load",e),a=s;break;case"details":le("toggle",e),a=s;break;case"input":Xi(e,s),a=Pl(e,s),le("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=fe({},s,{value:void 0}),le("invalid",e);break;case"textarea":Zi(e,s),a=Ml(e,s),le("invalid",e);break;default:a=s}Il(r,a),c=a;for(l in c)if(c.hasOwnProperty(l)){var i=c[l];l==="style"?cd(e,i):l==="dangerouslySetInnerHTML"?(i=i?i.__html:void 0,i!=null&&od(e,i)):l==="children"?typeof i=="string"?(r!=="textarea"||i!=="")&&In(e,i):typeof i=="number"&&In(e,""+i):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(An.hasOwnProperty(l)?i!=null&&l==="onScroll"&&le("scroll",e):i!=null&&Lo(e,l,i,o))}switch(r){case"input":us(e),Ji(e,s,!1);break;case"textarea":us(e),qi(e);break;case"option":s.value!=null&&e.setAttribute("value",""+ar(s.value));break;case"select":e.multiple=!!s.multiple,l=s.value,l!=null?Wr(e,!!s.multiple,l,!1):s.defaultValue!=null&&Wr(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Xs)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ae(t),null;case 6:if(e&&t.stateNode!=null)_p(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(z(166));if(r=vr(Qn.current),vr(St.current),bs(t)){if(s=t.stateNode,r=t.memoizedProps,s[wt]=t,(l=s.nodeValue!==r)&&(e=Xe,e!==null))switch(e.tag){case 3:vs(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&vs(s.nodeValue,r,(e.mode&1)!==0)}l&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[wt]=t,t.stateNode=s}return Ae(t),null;case 13:if(ie(de),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ue&&Ke!==null&&t.mode&1&&!(t.flags&128))Xd(),Jr(),t.flags|=98560,l=!1;else if(l=bs(t),s!==null&&s.dehydrated!==null){if(e===null){if(!l)throw Error(z(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(z(317));l[wt]=t}else Jr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ae(t),l=!1}else ht!==null&&(go(ht),ht=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||de.current&1?we===0&&(we=3):mi())),t.updateQueue!==null&&(t.flags|=4),Ae(t),null);case 4:return qr(),io(e,t),e===null&&Un(t.stateNode.containerInfo),Ae(t),null;case 10:return Xo(t.type._context),Ae(t),null;case 17:return Ve(t.type)&&Js(),Ae(t),null;case 19:if(ie(de),l=t.memoizedState,l===null)return Ae(t),null;if(s=(t.flags&128)!==0,o=l.rendering,o===null)if(s)bn(l,!1);else{if(we!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=sa(e),o!==null){for(t.flags|=128,bn(l,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)l=r,e=s,l.flags&=14680066,o=l.alternate,o===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,e=o.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return se(de,de.current&1|2),t.child}e=e.sibling}l.tail!==null&&ge()>tn&&(t.flags|=128,s=!0,bn(l,!1),t.lanes=4194304)}else{if(!s)if(e=sa(o),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),bn(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!ue)return Ae(t),null}else 2*ge()-l.renderingStartTime>tn&&r!==1073741824&&(t.flags|=128,s=!0,bn(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(r=l.last,r!==null?r.sibling=o:t.child=o,l.last=o)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=ge(),t.sibling=null,r=de.current,se(de,s?r&1|2:r&1),t):(Ae(t),null);case 22:case 23:return pi(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Ye&1073741824&&(Ae(t),t.subtreeFlags&6&&(t.flags|=8192)):Ae(t),null;case 24:return null;case 25:return null}throw Error(z(156,t.tag))}function dx(e,t){switch(Qo(t),t.tag){case 1:return Ve(t.type)&&Js(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return qr(),ie(He),ie(ze),ti(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ei(t),null;case 13:if(ie(de),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(z(340));Jr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ie(de),null;case 4:return qr(),null;case 10:return Xo(t.type._context),null;case 22:case 23:return pi(),null;case 24:return null;default:return null}}var Ns=!1,Re=!1,px=typeof WeakSet=="function"?WeakSet:Set,U=null;function Br(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){he(e,t,s)}else r.current=null}function co(e,t,r){try{r()}catch(s){he(e,t,s)}}var Uc=!1;function mx(e,t){if(Ql=Gs,e=zd(),Ho(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var a=s.anchorOffset,l=s.focusNode;s=s.focusOffset;try{r.nodeType,l.nodeType}catch{r=null;break e}var o=0,c=-1,i=-1,d=0,p=0,u=e,f=null;t:for(;;){for(var y;u!==r||a!==0&&u.nodeType!==3||(c=o+a),u!==l||s!==0&&u.nodeType!==3||(i=o+s),u.nodeType===3&&(o+=u.nodeValue.length),(y=u.firstChild)!==null;)f=u,u=y;for(;;){if(u===e)break t;if(f===r&&++d===a&&(c=o),f===l&&++p===s&&(i=o),(y=u.nextSibling)!==null)break;u=f,f=u.parentNode}u=y}r=c===-1||i===-1?null:{start:c,end:i}}else r=null}r=r||{start:0,end:0}}else r=null;for(Gl={focusedElem:e,selectionRange:r},Gs=!1,U=t;U!==null;)if(t=U,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,U=e;else for(;U!==null;){t=U;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var N=b.memoizedProps,k=b.memoizedState,x=t.stateNode,h=x.getSnapshotBeforeUpdate(t.elementType===t.type?N:mt(t.type,N),k);x.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(w){he(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,U=e;break}U=t.return}return b=Uc,Uc=!1,b}function Ln(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var l=a.destroy;a.destroy=void 0,l!==void 0&&co(t,r,l)}a=a.next}while(a!==s)}}function Ca(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function uo(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Mp(e){var t=e.alternate;t!==null&&(e.alternate=null,Mp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[wt],delete t[Hn],delete t[Xl],delete t[Kh],delete t[Xh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ap(e){return e.tag===5||e.tag===3||e.tag===4}function Wc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ap(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function po(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Xs));else if(s!==4&&(e=e.child,e!==null))for(po(e,t,r),e=e.sibling;e!==null;)po(e,t,r),e=e.sibling}function mo(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(mo(e,t,r),e=e.sibling;e!==null;)mo(e,t,r),e=e.sibling}var Fe=null,ft=!1;function Bt(e,t,r){for(r=r.child;r!==null;)Ip(e,t,r),r=r.sibling}function Ip(e,t,r){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(va,r)}catch{}switch(r.tag){case 5:Re||Br(r,t);case 6:var s=Fe,a=ft;Fe=null,Bt(e,t,r),Fe=s,ft=a,Fe!==null&&(ft?(e=Fe,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Fe.removeChild(r.stateNode));break;case 18:Fe!==null&&(ft?(e=Fe,r=r.stateNode,e.nodeType===8?al(e.parentNode,r):e.nodeType===1&&al(e,r),Dn(e)):al(Fe,r.stateNode));break;case 4:s=Fe,a=ft,Fe=r.stateNode.containerInfo,ft=!0,Bt(e,t,r),Fe=s,ft=a;break;case 0:case 11:case 14:case 15:if(!Re&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var l=a,o=l.destroy;l=l.tag,o!==void 0&&(l&2||l&4)&&co(r,t,o),a=a.next}while(a!==s)}Bt(e,t,r);break;case 1:if(!Re&&(Br(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(c){he(r,t,c)}Bt(e,t,r);break;case 21:Bt(e,t,r);break;case 22:r.mode&1?(Re=(s=Re)||r.memoizedState!==null,Bt(e,t,r),Re=s):Bt(e,t,r);break;default:Bt(e,t,r)}}function Hc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new px),t.forEach(function(s){var a=Nx.bind(null,e,s);r.has(s)||(r.add(s),s.then(a,a))})}}function pt(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var a=r[s];try{var l=e,o=t,c=o;e:for(;c!==null;){switch(c.tag){case 5:Fe=c.stateNode,ft=!1;break e;case 3:Fe=c.stateNode.containerInfo,ft=!0;break e;case 4:Fe=c.stateNode.containerInfo,ft=!0;break e}c=c.return}if(Fe===null)throw Error(z(160));Ip(l,o,a),Fe=null,ft=!1;var i=a.alternate;i!==null&&(i.return=null),a.return=null}catch(d){he(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Rp(t,e),t=t.sibling}function Rp(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pt(t,e),yt(e),s&4){try{Ln(3,e,e.return),Ca(3,e)}catch(N){he(e,e.return,N)}try{Ln(5,e,e.return)}catch(N){he(e,e.return,N)}}break;case 1:pt(t,e),yt(e),s&512&&r!==null&&Br(r,r.return);break;case 5:if(pt(t,e),yt(e),s&512&&r!==null&&Br(r,r.return),e.flags&32){var a=e.stateNode;try{In(a,"")}catch(N){he(e,e.return,N)}}if(s&4&&(a=e.stateNode,a!=null)){var l=e.memoizedProps,o=r!==null?r.memoizedProps:l,c=e.type,i=e.updateQueue;if(e.updateQueue=null,i!==null)try{c==="input"&&l.type==="radio"&&l.name!=null&&sd(a,l),Rl(c,o);var d=Rl(c,l);for(o=0;o<i.length;o+=2){var p=i[o],u=i[o+1];p==="style"?cd(a,u):p==="dangerouslySetInnerHTML"?od(a,u):p==="children"?In(a,u):Lo(a,p,u,d)}switch(c){case"input":Ll(a,l);break;case"textarea":ad(a,l);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var y=l.value;y!=null?Wr(a,!!l.multiple,y,!1):f!==!!l.multiple&&(l.defaultValue!=null?Wr(a,!!l.multiple,l.defaultValue,!0):Wr(a,!!l.multiple,l.multiple?[]:"",!1))}a[Hn]=l}catch(N){he(e,e.return,N)}}break;case 6:if(pt(t,e),yt(e),s&4){if(e.stateNode===null)throw Error(z(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(N){he(e,e.return,N)}}break;case 3:if(pt(t,e),yt(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{Dn(t.containerInfo)}catch(N){he(e,e.return,N)}break;case 4:pt(t,e),yt(e);break;case 13:pt(t,e),yt(e),a=e.child,a.flags&8192&&(l=a.memoizedState!==null,a.stateNode.isHidden=l,!l||a.alternate!==null&&a.alternate.memoizedState!==null||(ui=ge())),s&4&&Hc(e);break;case 22:if(p=r!==null&&r.memoizedState!==null,e.mode&1?(Re=(d=Re)||p,pt(t,e),Re=d):pt(t,e),yt(e),s&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!p&&e.mode&1)for(U=e,p=e.child;p!==null;){for(u=U=p;U!==null;){switch(f=U,y=f.child,f.tag){case 0:case 11:case 14:case 15:Ln(4,f,f.return);break;case 1:Br(f,f.return);var b=f.stateNode;if(typeof b.componentWillUnmount=="function"){s=f,r=f.return;try{t=s,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(N){he(s,r,N)}}break;case 5:Br(f,f.return);break;case 22:if(f.memoizedState!==null){Qc(u);continue}}y!==null?(y.return=f,U=y):Qc(u)}p=p.sibling}e:for(p=null,u=e;;){if(u.tag===5){if(p===null){p=u;try{a=u.stateNode,d?(l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(c=u.stateNode,i=u.memoizedProps.style,o=i!=null&&i.hasOwnProperty("display")?i.display:null,c.style.display=id("display",o))}catch(N){he(e,e.return,N)}}}else if(u.tag===6){if(p===null)try{u.stateNode.nodeValue=d?"":u.memoizedProps}catch(N){he(e,e.return,N)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===e)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;u.sibling===null;){if(u.return===null||u.return===e)break e;p===u&&(p=null),u=u.return}p===u&&(p=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:pt(t,e),yt(e),s&4&&Hc(e);break;case 21:break;default:pt(t,e),yt(e)}}function yt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Ap(r)){var s=r;break e}r=r.return}throw Error(z(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(In(a,""),s.flags&=-33);var l=Wc(e);mo(e,l,a);break;case 3:case 4:var o=s.stateNode.containerInfo,c=Wc(e);po(e,c,o);break;default:throw Error(z(161))}}catch(i){he(e,e.return,i)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function fx(e,t,r){U=e,zp(e)}function zp(e,t,r){for(var s=(e.mode&1)!==0;U!==null;){var a=U,l=a.child;if(a.tag===22&&s){var o=a.memoizedState!==null||Ns;if(!o){var c=a.alternate,i=c!==null&&c.memoizedState!==null||Re;c=Ns;var d=Re;if(Ns=o,(Re=i)&&!d)for(U=a;U!==null;)o=U,i=o.child,o.tag===22&&o.memoizedState!==null?Gc(a):i!==null?(i.return=o,U=i):Gc(a);for(;l!==null;)U=l,zp(l),l=l.sibling;U=a,Ns=c,Re=d}Vc(e)}else a.subtreeFlags&8772&&l!==null?(l.return=a,U=l):Vc(e)}}function Vc(e){for(;U!==null;){var t=U;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Re||Ca(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Re)if(r===null)s.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:mt(t.type,r.memoizedProps);s.componentDidUpdate(a,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&Tc(t,l,s);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Tc(t,o,r)}break;case 5:var c=t.stateNode;if(r===null&&t.flags&4){r=c;var i=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":i.autoFocus&&r.focus();break;case"img":i.src&&(r.src=i.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var p=d.memoizedState;if(p!==null){var u=p.dehydrated;u!==null&&Dn(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Re||t.flags&512&&uo(t)}catch(f){he(t,t.return,f)}}if(t===e){U=null;break}if(r=t.sibling,r!==null){r.return=t.return,U=r;break}U=t.return}}function Qc(e){for(;U!==null;){var t=U;if(t===e){U=null;break}var r=t.sibling;if(r!==null){r.return=t.return,U=r;break}U=t.return}}function Gc(e){for(;U!==null;){var t=U;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ca(4,t)}catch(i){he(t,r,i)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(i){he(t,a,i)}}var l=t.return;try{uo(t)}catch(i){he(t,l,i)}break;case 5:var o=t.return;try{uo(t)}catch(i){he(t,o,i)}}}catch(i){he(t,t.return,i)}if(t===e){U=null;break}var c=t.sibling;if(c!==null){c.return=t.return,U=c;break}U=t.return}}var hx=Math.ceil,oa=Ot.ReactCurrentDispatcher,ii=Ot.ReactCurrentOwner,lt=Ot.ReactCurrentBatchConfig,q=0,Ce=null,be=null,Te=0,Ye=0,Ur=ir(0),we=0,Xn=null,kr=0,Ea=0,ci=0,_n=null,Ue=null,ui=0,tn=1/0,Et=null,ia=!1,fo=null,er=null,ws=!1,Gt=null,ca=0,Mn=0,ho=null,zs=-1,Os=0;function De(){return q&6?ge():zs!==-1?zs:zs=ge()}function tr(e){return e.mode&1?q&2&&Te!==0?Te&-Te:Zh.transition!==null?(Os===0&&(Os=jd()),Os):(e=re,e!==0||(e=window.event,e=e===void 0?16:Fd(e.type)),e):1}function gt(e,t,r,s){if(50<Mn)throw Mn=0,ho=null,Error(z(185));es(e,r,s),(!(q&2)||e!==Ce)&&(e===Ce&&(!(q&2)&&(Ea|=r),we===4&&Vt(e,Te)),Qe(e,s),r===1&&q===0&&!(t.mode&1)&&(tn=ge()+500,wa&&cr()))}function Qe(e,t){var r=e.callbackNode;Zf(e,t);var s=Qs(e,e===Ce?Te:0);if(s===0)r!==null&&rc(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&rc(r),t===1)e.tag===0?Jh(Yc.bind(null,e)):Gd(Yc.bind(null,e)),Gh(function(){!(q&6)&&cr()}),r=null;else{switch(Nd(s)){case 1:r=Ro;break;case 4:r=bd;break;case 16:r=Vs;break;case 536870912:r=yd;break;default:r=Vs}r=Vp(r,Op.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Op(e,t){if(zs=-1,Os=0,q&6)throw Error(z(327));var r=e.callbackNode;if(Yr()&&e.callbackNode!==r)return null;var s=Qs(e,e===Ce?Te:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=ua(e,s);else{t=s;var a=q;q|=2;var l=$p();(Ce!==e||Te!==t)&&(Et=null,tn=ge()+500,br(e,t));do try{vx();break}catch(c){Dp(e,c)}while(!0);Ko(),oa.current=l,q=a,be!==null?t=0:(Ce=null,Te=0,t=we)}if(t!==0){if(t===2&&(a=Bl(e),a!==0&&(s=a,t=xo(e,a))),t===1)throw r=Xn,br(e,0),Vt(e,s),Qe(e,ge()),r;if(t===6)Vt(e,s);else{if(a=e.current.alternate,!(s&30)&&!xx(a)&&(t=ua(e,s),t===2&&(l=Bl(e),l!==0&&(s=l,t=xo(e,l))),t===1))throw r=Xn,br(e,0),Vt(e,s),Qe(e,ge()),r;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(z(345));case 2:hr(e,Ue,Et);break;case 3:if(Vt(e,s),(s&130023424)===s&&(t=ui+500-ge(),10<t)){if(Qs(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){De(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Kl(hr.bind(null,e,Ue,Et),t);break}hr(e,Ue,Et);break;case 4:if(Vt(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var o=31-xt(s);l=1<<o,o=t[o],o>a&&(a=o),s&=~l}if(s=a,s=ge()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*hx(s/1960))-s,10<s){e.timeoutHandle=Kl(hr.bind(null,e,Ue,Et),s);break}hr(e,Ue,Et);break;case 5:hr(e,Ue,Et);break;default:throw Error(z(329))}}}return Qe(e,ge()),e.callbackNode===r?Op.bind(null,e):null}function xo(e,t){var r=_n;return e.current.memoizedState.isDehydrated&&(br(e,t).flags|=256),e=ua(e,t),e!==2&&(t=Ue,Ue=r,t!==null&&go(t)),e}function go(e){Ue===null?Ue=e:Ue.push.apply(Ue,e)}function xx(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var a=r[s],l=a.getSnapshot;a=a.value;try{if(!vt(l(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vt(e,t){for(t&=~ci,t&=~Ea,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-xt(t),s=1<<r;e[r]=-1,t&=~s}}function Yc(e){if(q&6)throw Error(z(327));Yr();var t=Qs(e,0);if(!(t&1))return Qe(e,ge()),null;var r=ua(e,t);if(e.tag!==0&&r===2){var s=Bl(e);s!==0&&(t=s,r=xo(e,s))}if(r===1)throw r=Xn,br(e,0),Vt(e,t),Qe(e,ge()),r;if(r===6)throw Error(z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,hr(e,Ue,Et),Qe(e,ge()),null}function di(e,t){var r=q;q|=1;try{return e(t)}finally{q=r,q===0&&(tn=ge()+500,wa&&cr())}}function Sr(e){Gt!==null&&Gt.tag===0&&!(q&6)&&Yr();var t=q;q|=1;var r=lt.transition,s=re;try{if(lt.transition=null,re=1,e)return e()}finally{re=s,lt.transition=r,q=t,!(q&6)&&cr()}}function pi(){Ye=Ur.current,ie(Ur)}function br(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Qh(r)),be!==null)for(r=be.return;r!==null;){var s=r;switch(Qo(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Js();break;case 3:qr(),ie(He),ie(ze),ti();break;case 5:ei(s);break;case 4:qr();break;case 13:ie(de);break;case 19:ie(de);break;case 10:Xo(s.type._context);break;case 22:case 23:pi()}r=r.return}if(Ce=e,be=e=rr(e.current,null),Te=Ye=t,we=0,Xn=null,ci=Ea=kr=0,Ue=_n=null,gr!==null){for(t=0;t<gr.length;t++)if(r=gr[t],s=r.interleaved,s!==null){r.interleaved=null;var a=s.next,l=r.pending;if(l!==null){var o=l.next;l.next=a,s.next=o}r.pending=s}gr=null}return e}function Dp(e,t){do{var r=be;try{if(Ko(),As.current=la,aa){for(var s=pe.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}aa=!1}if(wr=0,Se=Ne=pe=null,Pn=!1,Gn=0,ii.current=null,r===null||r.return===null){we=1,Xn=t,be=null;break}e:{var l=e,o=r.return,c=r,i=t;if(t=Te,c.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){var d=i,p=c,u=p.tag;if(!(p.mode&1)&&(u===0||u===11||u===15)){var f=p.alternate;f?(p.updateQueue=f.updateQueue,p.memoizedState=f.memoizedState,p.lanes=f.lanes):(p.updateQueue=null,p.memoizedState=null)}var y=Ic(o);if(y!==null){y.flags&=-257,Rc(y,o,c,l,t),y.mode&1&&Ac(l,d,t),t=y,i=d;var b=t.updateQueue;if(b===null){var N=new Set;N.add(i),t.updateQueue=N}else b.add(i);break e}else{if(!(t&1)){Ac(l,d,t),mi();break e}i=Error(z(426))}}else if(ue&&c.mode&1){var k=Ic(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Rc(k,o,c,l,t),Go(en(i,c));break e}}l=i=en(i,c),we!==4&&(we=2),_n===null?_n=[l]:_n.push(l),l=o;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var x=Np(l,i,t);Fc(l,x);break e;case 1:c=i;var h=l.type,g=l.stateNode;if(!(l.flags&128)&&(typeof h.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(er===null||!er.has(g)))){l.flags|=65536,t&=-t,l.lanes|=t;var w=wp(l,c,t);Fc(l,w);break e}}l=l.return}while(l!==null)}Up(r)}catch(S){t=S,be===r&&r!==null&&(be=r=r.return);continue}break}while(!0)}function $p(){var e=oa.current;return oa.current=la,e===null?la:e}function mi(){(we===0||we===3||we===2)&&(we=4),Ce===null||!(kr&268435455)&&!(Ea&268435455)||Vt(Ce,Te)}function ua(e,t){var r=q;q|=2;var s=$p();(Ce!==e||Te!==t)&&(Et=null,br(e,t));do try{gx();break}catch(a){Dp(e,a)}while(!0);if(Ko(),q=r,oa.current=s,be!==null)throw Error(z(261));return Ce=null,Te=0,we}function gx(){for(;be!==null;)Bp(be)}function vx(){for(;be!==null&&!Wf();)Bp(be)}function Bp(e){var t=Hp(e.alternate,e,Ye);e.memoizedProps=e.pendingProps,t===null?Up(e):be=t,ii.current=null}function Up(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=dx(r,t),r!==null){r.flags&=32767,be=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{we=6,be=null;return}}else if(r=ux(r,t,Ye),r!==null){be=r;return}if(t=t.sibling,t!==null){be=t;return}be=t=e}while(t!==null);we===0&&(we=5)}function hr(e,t,r){var s=re,a=lt.transition;try{lt.transition=null,re=1,bx(e,t,r,s)}finally{lt.transition=a,re=s}return null}function bx(e,t,r,s){do Yr();while(Gt!==null);if(q&6)throw Error(z(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(z(177));e.callbackNode=null,e.callbackPriority=0;var l=r.lanes|r.childLanes;if(qf(e,l),e===Ce&&(be=Ce=null,Te=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ws||(ws=!0,Vp(Vs,function(){return Yr(),null})),l=(r.flags&15990)!==0,r.subtreeFlags&15990||l){l=lt.transition,lt.transition=null;var o=re;re=1;var c=q;q|=4,ii.current=null,mx(e,r),Rp(r,e),Dh(Gl),Gs=!!Ql,Gl=Ql=null,e.current=r,fx(r),Hf(),q=c,re=o,lt.transition=l}else e.current=r;if(ws&&(ws=!1,Gt=e,ca=a),l=e.pendingLanes,l===0&&(er=null),Gf(r.stateNode),Qe(e,ge()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],s(a.value,{componentStack:a.stack,digest:a.digest});if(ia)throw ia=!1,e=fo,fo=null,e;return ca&1&&e.tag!==0&&Yr(),l=e.pendingLanes,l&1?e===ho?Mn++:(Mn=0,ho=e):Mn=0,cr(),null}function Yr(){if(Gt!==null){var e=Nd(ca),t=lt.transition,r=re;try{if(lt.transition=null,re=16>e?16:e,Gt===null)var s=!1;else{if(e=Gt,Gt=null,ca=0,q&6)throw Error(z(331));var a=q;for(q|=4,U=e.current;U!==null;){var l=U,o=l.child;if(U.flags&16){var c=l.deletions;if(c!==null){for(var i=0;i<c.length;i++){var d=c[i];for(U=d;U!==null;){var p=U;switch(p.tag){case 0:case 11:case 15:Ln(8,p,l)}var u=p.child;if(u!==null)u.return=p,U=u;else for(;U!==null;){p=U;var f=p.sibling,y=p.return;if(Mp(p),p===d){U=null;break}if(f!==null){f.return=y,U=f;break}U=y}}}var b=l.alternate;if(b!==null){var N=b.child;if(N!==null){b.child=null;do{var k=N.sibling;N.sibling=null,N=k}while(N!==null)}}U=l}}if(l.subtreeFlags&2064&&o!==null)o.return=l,U=o;else e:for(;U!==null;){if(l=U,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Ln(9,l,l.return)}var x=l.sibling;if(x!==null){x.return=l.return,U=x;break e}U=l.return}}var h=e.current;for(U=h;U!==null;){o=U;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,U=g;else e:for(o=h;U!==null;){if(c=U,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Ca(9,c)}}catch(S){he(c,c.return,S)}if(c===o){U=null;break e}var w=c.sibling;if(w!==null){w.return=c.return,U=w;break e}U=c.return}}if(q=a,cr(),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(va,e)}catch{}s=!0}return s}finally{re=r,lt.transition=t}}return!1}function Kc(e,t,r){t=en(r,t),t=Np(e,t,1),e=qt(e,t,1),t=De(),e!==null&&(es(e,1,t),Qe(e,t))}function he(e,t,r){if(e.tag===3)Kc(e,e,r);else for(;t!==null;){if(t.tag===3){Kc(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(er===null||!er.has(s))){e=en(r,e),e=wp(t,e,1),t=qt(t,e,1),e=De(),t!==null&&(es(t,1,e),Qe(t,e));break}}t=t.return}}function yx(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=De(),e.pingedLanes|=e.suspendedLanes&r,Ce===e&&(Te&r)===r&&(we===4||we===3&&(Te&130023424)===Te&&500>ge()-ui?br(e,0):ci|=r),Qe(e,t)}function Wp(e,t){t===0&&(e.mode&1?(t=ms,ms<<=1,!(ms&130023424)&&(ms=4194304)):t=1);var r=De();e=Rt(e,t),e!==null&&(es(e,t,r),Qe(e,r))}function jx(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Wp(e,r)}function Nx(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(z(314))}s!==null&&s.delete(t),Wp(e,r)}var Hp;Hp=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||He.current)We=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return We=!1,cx(e,t,r);We=!!(e.flags&131072)}else We=!1,ue&&t.flags&1048576&&Yd(t,ea,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Rs(e,t),e=t.pendingProps;var a=Xr(t,ze.current);Gr(t,r),a=ni(null,t,s,e,a,r);var l=si();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ve(s)?(l=!0,Zs(t)):l=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Zo(t),a.updater=Sa,t.stateNode=a,a._reactInternals=t,ro(t,s,e,r),t=ao(null,t,s,!0,l,r)):(t.tag=0,ue&&l&&Vo(t),Oe(null,t,a,r),t=t.child),t;case 16:s=t.elementType;e:{switch(Rs(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=kx(s),e=mt(s,e),a){case 0:t=so(null,t,s,e,r);break e;case 1:t=Dc(null,t,s,e,r);break e;case 11:t=zc(null,t,s,e,r);break e;case 14:t=Oc(null,t,s,mt(s.type,e),r);break e}throw Error(z(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:mt(s,a),so(e,t,s,a,r);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:mt(s,a),Dc(e,t,s,a,r);case 3:e:{if(Ep(t),e===null)throw Error(z(387));s=t.pendingProps,l=t.memoizedState,a=l.element,ep(e,t),na(t,s,null,r);var o=t.memoizedState;if(s=o.element,l.isDehydrated)if(l={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){a=en(Error(z(423)),t),t=$c(e,t,s,r,a);break e}else if(s!==a){a=en(Error(z(424)),t),t=$c(e,t,s,r,a);break e}else for(Ke=Zt(t.stateNode.containerInfo.firstChild),Xe=t,ue=!0,ht=null,r=Zd(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Jr(),s===a){t=zt(e,t,r);break e}Oe(e,t,s,r)}t=t.child}return t;case 5:return tp(t),e===null&&ql(t),s=t.type,a=t.pendingProps,l=e!==null?e.memoizedProps:null,o=a.children,Yl(s,a)?o=null:l!==null&&Yl(s,l)&&(t.flags|=32),Cp(e,t),Oe(e,t,o,r),t.child;case 6:return e===null&&ql(t),null;case 13:return Fp(e,t,r);case 4:return qo(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Zr(t,null,s,r):Oe(e,t,s,r),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:mt(s,a),zc(e,t,s,a,r);case 7:return Oe(e,t,t.pendingProps,r),t.child;case 8:return Oe(e,t,t.pendingProps.children,r),t.child;case 12:return Oe(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,l=t.memoizedProps,o=a.value,se(ta,s._currentValue),s._currentValue=o,l!==null)if(vt(l.value,o)){if(l.children===a.children&&!He.current){t=zt(e,t,r);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var c=l.dependencies;if(c!==null){o=l.child;for(var i=c.firstContext;i!==null;){if(i.context===s){if(l.tag===1){i=Lt(-1,r&-r),i.tag=2;var d=l.updateQueue;if(d!==null){d=d.shared;var p=d.pending;p===null?i.next=i:(i.next=p.next,p.next=i),d.pending=i}}l.lanes|=r,i=l.alternate,i!==null&&(i.lanes|=r),eo(l.return,r,t),c.lanes|=r;break}i=i.next}}else if(l.tag===10)o=l.type===t.type?null:l.child;else if(l.tag===18){if(o=l.return,o===null)throw Error(z(341));o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),eo(o,r,t),o=l.sibling}else o=l.child;if(o!==null)o.return=l;else for(o=l;o!==null;){if(o===t){o=null;break}if(l=o.sibling,l!==null){l.return=o.return,o=l;break}o=o.return}l=o}Oe(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,Gr(t,r),a=it(a),s=s(a),t.flags|=1,Oe(e,t,s,r),t.child;case 14:return s=t.type,a=mt(s,t.pendingProps),a=mt(s.type,a),Oc(e,t,s,a,r);case 15:return kp(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:mt(s,a),Rs(e,t),t.tag=1,Ve(s)?(e=!0,Zs(t)):e=!1,Gr(t,r),jp(t,s,a),ro(t,s,a,r),ao(null,t,s,!0,e,r);case 19:return Tp(e,t,r);case 22:return Sp(e,t,r)}throw Error(z(156,t.tag))};function Vp(e,t){return vd(e,t)}function wx(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function at(e,t,r,s){return new wx(e,t,r,s)}function fi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function kx(e){if(typeof e=="function")return fi(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Mo)return 11;if(e===Ao)return 14}return 2}function rr(e,t){var r=e.alternate;return r===null?(r=at(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ds(e,t,r,s,a,l){var o=2;if(s=e,typeof e=="function")fi(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case _r:return yr(r.children,a,l,t);case _o:o=8,a|=8;break;case Cl:return e=at(12,r,t,a|2),e.elementType=Cl,e.lanes=l,e;case El:return e=at(13,r,t,a),e.elementType=El,e.lanes=l,e;case Fl:return e=at(19,r,t,a),e.elementType=Fl,e.lanes=l,e;case td:return Fa(r,a,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case qu:o=10;break e;case ed:o=9;break e;case Mo:o=11;break e;case Ao:o=14;break e;case Ut:o=16,s=null;break e}throw Error(z(130,e==null?e:typeof e,""))}return t=at(o,r,t,a),t.elementType=e,t.type=s,t.lanes=l,t}function yr(e,t,r,s){return e=at(7,e,s,t),e.lanes=r,e}function Fa(e,t,r,s){return e=at(22,e,s,t),e.elementType=td,e.lanes=r,e.stateNode={isHidden:!1},e}function ml(e,t,r){return e=at(6,e,null,t),e.lanes=r,e}function fl(e,t,r){return t=at(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Sx(e,t,r,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ya(0),this.expirationTimes=Ya(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ya(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function hi(e,t,r,s,a,l,o,c,i){return e=new Sx(e,t,r,c,i),t===1?(t=1,l===!0&&(t|=8)):t=0,l=at(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zo(l),e}function Cx(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Lr,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function Qp(e){if(!e)return lr;e=e._reactInternals;e:{if(Er(e)!==e||e.tag!==1)throw Error(z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ve(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(z(171))}if(e.tag===1){var r=e.type;if(Ve(r))return Qd(e,r,t)}return t}function Gp(e,t,r,s,a,l,o,c,i){return e=hi(r,s,!0,e,a,l,o,c,i),e.context=Qp(null),r=e.current,s=De(),a=tr(r),l=Lt(s,a),l.callback=t??null,qt(r,l,a),e.current.lanes=a,es(e,a,s),Qe(e,s),e}function Ta(e,t,r,s){var a=t.current,l=De(),o=tr(a);return r=Qp(r),t.context===null?t.context=r:t.pendingContext=r,t=Lt(l,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=qt(a,t,o),e!==null&&(gt(e,a,o,l),Ms(e,a,o)),o}function da(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Xc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function xi(e,t){Xc(e,t),(e=e.alternate)&&Xc(e,t)}function Ex(){return null}var Yp=typeof reportError=="function"?reportError:function(e){console.error(e)};function gi(e){this._internalRoot=e}Pa.prototype.render=gi.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(z(409));Ta(e,t,null,null)};Pa.prototype.unmount=gi.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Sr(function(){Ta(null,e,null,null)}),t[It]=null}};function Pa(e){this._internalRoot=e}Pa.prototype.unstable_scheduleHydration=function(e){if(e){var t=Sd();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ht.length&&t!==0&&t<Ht[r].priority;r++);Ht.splice(r,0,e),r===0&&Ed(e)}};function vi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function La(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Jc(){}function Fx(e,t,r,s,a){if(a){if(typeof s=="function"){var l=s;s=function(){var d=da(o);l.call(d)}}var o=Gp(t,s,e,0,null,!1,!1,"",Jc);return e._reactRootContainer=o,e[It]=o.current,Un(e.nodeType===8?e.parentNode:e),Sr(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var c=s;s=function(){var d=da(i);c.call(d)}}var i=hi(e,0,!1,null,null,!1,!1,"",Jc);return e._reactRootContainer=i,e[It]=i.current,Un(e.nodeType===8?e.parentNode:e),Sr(function(){Ta(t,i,r,s)}),i}function _a(e,t,r,s,a){var l=r._reactRootContainer;if(l){var o=l;if(typeof a=="function"){var c=a;a=function(){var i=da(o);c.call(i)}}Ta(t,o,e,a)}else o=Fx(r,t,e,a,s);return da(o)}wd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=wn(t.pendingLanes);r!==0&&(zo(t,r|1),Qe(t,ge()),!(q&6)&&(tn=ge()+500,cr()))}break;case 13:Sr(function(){var s=Rt(e,1);if(s!==null){var a=De();gt(s,e,1,a)}}),xi(e,1)}};Oo=function(e){if(e.tag===13){var t=Rt(e,134217728);if(t!==null){var r=De();gt(t,e,134217728,r)}xi(e,134217728)}};kd=function(e){if(e.tag===13){var t=tr(e),r=Rt(e,t);if(r!==null){var s=De();gt(r,e,t,s)}xi(e,t)}};Sd=function(){return re};Cd=function(e,t){var r=re;try{return re=e,t()}finally{re=r}};Ol=function(e,t,r){switch(t){case"input":if(Ll(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var a=Na(s);if(!a)throw Error(z(90));nd(s),Ll(s,a)}}}break;case"textarea":ad(e,r);break;case"select":t=r.value,t!=null&&Wr(e,!!r.multiple,t,!1)}};pd=di;md=Sr;var Tx={usingClientEntryPoint:!1,Events:[rs,Rr,Na,ud,dd,di]},yn={findFiberByHostInstance:xr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Px={bundleType:yn.bundleType,version:yn.version,rendererPackageName:yn.rendererPackageName,rendererConfig:yn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ot.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=xd(e),e===null?null:e.stateNode},findFiberByHostInstance:yn.findFiberByHostInstance||Ex,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ks=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ks.isDisabled&&ks.supportsFiber)try{va=ks.inject(Px),kt=ks}catch{}}Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tx;Ze.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vi(t))throw Error(z(200));return Cx(e,t,null,r)};Ze.createRoot=function(e,t){if(!vi(e))throw Error(z(299));var r=!1,s="",a=Yp;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=hi(e,1,!1,null,null,r,!1,s,a),e[It]=t.current,Un(e.nodeType===8?e.parentNode:e),new gi(t)};Ze.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(z(188)):(e=Object.keys(e).join(","),Error(z(268,e)));return e=xd(t),e=e===null?null:e.stateNode,e};Ze.flushSync=function(e){return Sr(e)};Ze.hydrate=function(e,t,r){if(!La(t))throw Error(z(200));return _a(null,e,t,!0,r)};Ze.hydrateRoot=function(e,t,r){if(!vi(e))throw Error(z(405));var s=r!=null&&r.hydratedSources||null,a=!1,l="",o=Yp;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Gp(t,null,e,1,r??null,a,!1,l,o),e[It]=t.current,Un(e),s)for(e=0;e<s.length;e++)r=s[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Pa(t)};Ze.render=function(e,t,r){if(!La(t))throw Error(z(200));return _a(null,e,t,!1,r)};Ze.unmountComponentAtNode=function(e){if(!La(e))throw Error(z(40));return e._reactRootContainer?(Sr(function(){_a(null,null,e,!1,function(){e._reactRootContainer=null,e[It]=null})}),!0):!1};Ze.unstable_batchedUpdates=di;Ze.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!La(r))throw Error(z(200));if(e==null||e._reactInternals===void 0)throw Error(z(38));return _a(e,t,r,!1,s)};Ze.version="18.3.1-next-f1338f8080-20240426";function Kp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Kp)}catch(e){console.error(e)}}Kp(),Ku.exports=Ze;var Lx=Ku.exports,Zc=Lx;kl.createRoot=Zc.createRoot,kl.hydrateRoot=Zc.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jn(){return Jn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Jn.apply(this,arguments)}var Yt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Yt||(Yt={}));const qc="popstate";function _x(e){e===void 0&&(e={});function t(s,a){let{pathname:l,search:o,hash:c}=s.location;return vo("",{pathname:l,search:o,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(s,a){return typeof a=="string"?a:pa(a)}return Ax(t,r,null,e)}function me(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function bi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Mx(){return Math.random().toString(36).substr(2,8)}function eu(e,t){return{usr:e.state,key:e.key,idx:t}}function vo(e,t,r,s){return r===void 0&&(r=null),Jn({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ln(t):t,{state:r,key:t&&t.key||s||Mx()})}function pa(e){let{pathname:t="/",search:r="",hash:s=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function ln(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function Ax(e,t,r,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:l=!1}=s,o=a.history,c=Yt.Pop,i=null,d=p();d==null&&(d=0,o.replaceState(Jn({},o.state,{idx:d}),""));function p(){return(o.state||{idx:null}).idx}function u(){c=Yt.Pop;let k=p(),x=k==null?null:k-d;d=k,i&&i({action:c,location:N.location,delta:x})}function f(k,x){c=Yt.Push;let h=vo(N.location,k,x);d=p()+1;let g=eu(h,d),w=N.createHref(h);try{o.pushState(g,"",w)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(w)}l&&i&&i({action:c,location:N.location,delta:1})}function y(k,x){c=Yt.Replace;let h=vo(N.location,k,x);d=p();let g=eu(h,d),w=N.createHref(h);o.replaceState(g,"",w),l&&i&&i({action:c,location:N.location,delta:0})}function b(k){let x=a.location.origin!=="null"?a.location.origin:a.location.href,h=typeof k=="string"?k:pa(k);return h=h.replace(/ $/,"%20"),me(x,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,x)}let N={get action(){return c},get location(){return e(a,o)},listen(k){if(i)throw new Error("A history only accepts one active listener");return a.addEventListener(qc,u),i=k,()=>{a.removeEventListener(qc,u),i=null}},createHref(k){return t(a,k)},createURL:b,encodeLocation(k){let x=b(k);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:f,replace:y,go(k){return o.go(k)}};return N}var tu;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(tu||(tu={}));function Ix(e,t,r){return r===void 0&&(r="/"),Rx(e,t,r)}function Rx(e,t,r,s){let a=typeof t=="string"?ln(t):t,l=rn(a.pathname||"/",r);if(l==null)return null;let o=Xp(e);zx(o);let c=null;for(let i=0;c==null&&i<o.length;++i){let d=Yx(l);c=Qx(o[i],d)}return c}function Xp(e,t,r,s){t===void 0&&(t=[]),r===void 0&&(r=[]),s===void 0&&(s="");let a=(l,o,c)=>{let i={relativePath:c===void 0?l.path||"":c,caseSensitive:l.caseSensitive===!0,childrenIndex:o,route:l};i.relativePath.startsWith("/")&&(me(i.relativePath.startsWith(s),'Absolute route path "'+i.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),i.relativePath=i.relativePath.slice(s.length));let d=nr([s,i.relativePath]),p=r.concat(i);l.children&&l.children.length>0&&(me(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Xp(l.children,t,p,d)),!(l.path==null&&!l.index)&&t.push({path:d,score:Hx(d,l.index),routesMeta:p})};return e.forEach((l,o)=>{var c;if(l.path===""||!((c=l.path)!=null&&c.includes("?")))a(l,o);else for(let i of Jp(l.path))a(l,o,i)}),t}function Jp(e){let t=e.split("/");if(t.length===0)return[];let[r,...s]=t,a=r.endsWith("?"),l=r.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let o=Jp(s.join("/")),c=[];return c.push(...o.map(i=>i===""?l:[l,i].join("/"))),a&&c.push(...o),c.map(i=>e.startsWith("/")&&i===""?"/":i)}function zx(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Vx(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}const Ox=/^:[\w-]+$/,Dx=3,$x=2,Bx=1,Ux=10,Wx=-2,ru=e=>e==="*";function Hx(e,t){let r=e.split("/"),s=r.length;return r.some(ru)&&(s+=Wx),t&&(s+=$x),r.filter(a=>!ru(a)).reduce((a,l)=>a+(Ox.test(l)?Dx:l===""?Bx:Ux),s)}function Vx(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function Qx(e,t,r){let{routesMeta:s}=e,a={},l="/",o=[];for(let c=0;c<s.length;++c){let i=s[c],d=c===s.length-1,p=l==="/"?t:t.slice(l.length)||"/",u=bo({path:i.relativePath,caseSensitive:i.caseSensitive,end:d},p),f=i.route;if(!u)return null;Object.assign(a,u.params),o.push({params:a,pathname:nr([l,u.pathname]),pathnameBase:qx(nr([l,u.pathnameBase])),route:f}),u.pathnameBase!=="/"&&(l=nr([l,u.pathnameBase]))}return o}function bo(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=Gx(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let l=a[0],o=l.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:s.reduce((d,p,u)=>{let{paramName:f,isOptional:y}=p;if(f==="*"){let N=c[u]||"";o=l.slice(0,l.length-N.length).replace(/(.)\/+$/,"$1")}const b=c[u];return y&&!b?d[f]=void 0:d[f]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:l,pathnameBase:o,pattern:e}}function Gx(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),bi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,i)=>(s.push({paramName:c,isOptional:i!=null}),i?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function Yx(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return bi(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function rn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&s!=="/"?null:e.slice(r)||"/"}const Kx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xx=e=>Kx.test(e);function Jx(e,t){t===void 0&&(t="/");let{pathname:r,search:s="",hash:a=""}=typeof e=="string"?ln(e):e,l;if(r)if(Xx(r))l=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),bi(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?l=nu(r.substring(1),"/"):l=nu(r,t)}else l=t;return{pathname:l,search:eg(s),hash:tg(a)}}function nu(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function hl(e,t,r,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Zx(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function yi(e,t){let r=Zx(e);return t?r.map((s,a)=>a===r.length-1?s.pathname:s.pathnameBase):r.map(s=>s.pathnameBase)}function ji(e,t,r,s){s===void 0&&(s=!1);let a;typeof e=="string"?a=ln(e):(a=Jn({},e),me(!a.pathname||!a.pathname.includes("?"),hl("?","pathname","search",a)),me(!a.pathname||!a.pathname.includes("#"),hl("#","pathname","hash",a)),me(!a.search||!a.search.includes("#"),hl("#","search","hash",a)));let l=e===""||a.pathname==="",o=l?"/":a.pathname,c;if(o==null)c=r;else{let u=t.length-1;if(!s&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),u-=1;a.pathname=f.join("/")}c=u>=0?t[u]:"/"}let i=Jx(a,c),d=o&&o!=="/"&&o.endsWith("/"),p=(l||o===".")&&r.endsWith("/");return!i.pathname.endsWith("/")&&(d||p)&&(i.pathname+="/"),i}const nr=e=>e.join("/").replace(/\/\/+/g,"/"),qx=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),eg=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,tg=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function rg(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Zp=["post","put","patch","delete"];new Set(Zp);const ng=["get",...Zp];new Set(ng);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zn(){return Zn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Zn.apply(this,arguments)}const Ma=m.createContext(null),qp=m.createContext(null),Dt=m.createContext(null),Aa=m.createContext(null),$t=m.createContext({outlet:null,matches:[],isDataRoute:!1}),em=m.createContext(null);function sg(e,t){let{relative:r}=t===void 0?{}:t;on()||me(!1);let{basename:s,navigator:a}=m.useContext(Dt),{hash:l,pathname:o,search:c}=Ia(e,{relative:r}),i=o;return s!=="/"&&(i=o==="/"?s:nr([s,o])),a.createHref({pathname:i,search:c,hash:l})}function on(){return m.useContext(Aa)!=null}function cn(){return on()||me(!1),m.useContext(Aa).location}function tm(e){m.useContext(Dt).static||m.useLayoutEffect(e)}function ur(){let{isDataRoute:e}=m.useContext($t);return e?bg():ag()}function ag(){on()||me(!1);let e=m.useContext(Ma),{basename:t,future:r,navigator:s}=m.useContext(Dt),{matches:a}=m.useContext($t),{pathname:l}=cn(),o=JSON.stringify(yi(a,r.v7_relativeSplatPath)),c=m.useRef(!1);return tm(()=>{c.current=!0}),m.useCallback(function(d,p){if(p===void 0&&(p={}),!c.current)return;if(typeof d=="number"){s.go(d);return}let u=ji(d,JSON.parse(o),l,p.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:nr([t,u.pathname])),(p.replace?s.replace:s.push)(u,p.state,p)},[t,s,o,l,e])}const lg=m.createContext(null);function og(e){let t=m.useContext($t).outlet;return t&&m.createElement(lg.Provider,{value:e},t)}function Ia(e,t){let{relative:r}=t===void 0?{}:t,{future:s}=m.useContext(Dt),{matches:a}=m.useContext($t),{pathname:l}=cn(),o=JSON.stringify(yi(a,s.v7_relativeSplatPath));return m.useMemo(()=>ji(e,JSON.parse(o),l,r==="path"),[e,o,l,r])}function ig(e,t){return cg(e,t)}function cg(e,t,r,s){on()||me(!1);let{navigator:a}=m.useContext(Dt),{matches:l}=m.useContext($t),o=l[l.length-1],c=o?o.params:{};o&&o.pathname;let i=o?o.pathnameBase:"/";o&&o.route;let d=cn(),p;if(t){var u;let k=typeof t=="string"?ln(t):t;i==="/"||(u=k.pathname)!=null&&u.startsWith(i)||me(!1),p=k}else p=d;let f=p.pathname||"/",y=f;if(i!=="/"){let k=i.replace(/^\//,"").split("/");y="/"+f.replace(/^\//,"").split("/").slice(k.length).join("/")}let b=Ix(e,{pathname:y}),N=fg(b&&b.map(k=>Object.assign({},k,{params:Object.assign({},c,k.params),pathname:nr([i,a.encodeLocation?a.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?i:nr([i,a.encodeLocation?a.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),l,r,s);return t&&N?m.createElement(Aa.Provider,{value:{location:Zn({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Yt.Pop}},N):N}function ug(){let e=vg(),t=rg(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),r?m.createElement("pre",{style:a},r):null,null)}const dg=m.createElement(ug,null);class pg extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?m.createElement($t.Provider,{value:this.props.routeContext},m.createElement(em.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function mg(e){let{routeContext:t,match:r,children:s}=e,a=m.useContext(Ma);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),m.createElement($t.Provider,{value:t},s)}function fg(e,t,r,s){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),s===void 0&&(s=null),e==null){var l;if(!r)return null;if(r.errors)e=r.matches;else if((l=s)!=null&&l.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,c=(a=r)==null?void 0:a.errors;if(c!=null){let p=o.findIndex(u=>u.route.id&&(c==null?void 0:c[u.route.id])!==void 0);p>=0||me(!1),o=o.slice(0,Math.min(o.length,p+1))}let i=!1,d=-1;if(r&&s&&s.v7_partialHydration)for(let p=0;p<o.length;p++){let u=o[p];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(d=p),u.route.id){let{loaderData:f,errors:y}=r,b=u.route.loader&&f[u.route.id]===void 0&&(!y||y[u.route.id]===void 0);if(u.route.lazy||b){i=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,u,f)=>{let y,b=!1,N=null,k=null;r&&(y=c&&u.route.id?c[u.route.id]:void 0,N=u.route.errorElement||dg,i&&(d<0&&f===0?(yg("route-fallback"),b=!0,k=null):d===f&&(b=!0,k=u.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,f+1)),h=()=>{let g;return y?g=N:b?g=k:u.route.Component?g=m.createElement(u.route.Component,null):u.route.element?g=u.route.element:g=p,m.createElement(mg,{match:u,routeContext:{outlet:p,matches:x,isDataRoute:r!=null},children:g})};return r&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?m.createElement(pg,{location:r.location,revalidation:r.revalidation,component:N,error:y,children:h(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):h()},null)}var rm=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(rm||{}),nm=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(nm||{});function hg(e){let t=m.useContext(Ma);return t||me(!1),t}function xg(e){let t=m.useContext(qp);return t||me(!1),t}function gg(e){let t=m.useContext($t);return t||me(!1),t}function sm(e){let t=gg(),r=t.matches[t.matches.length-1];return r.route.id||me(!1),r.route.id}function vg(){var e;let t=m.useContext(em),r=xg(),s=sm();return t!==void 0?t:(e=r.errors)==null?void 0:e[s]}function bg(){let{router:e}=hg(rm.UseNavigateStable),t=sm(nm.UseNavigateStable),r=m.useRef(!1);return tm(()=>{r.current=!0}),m.useCallback(function(a,l){l===void 0&&(l={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Zn({fromRouteId:t},l)))},[e,t])}const su={};function yg(e,t,r){su[e]||(su[e]=!0)}function jg(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function _t(e){let{to:t,replace:r,state:s,relative:a}=e;on()||me(!1);let{future:l,static:o}=m.useContext(Dt),{matches:c}=m.useContext($t),{pathname:i}=cn(),d=ur(),p=ji(t,yi(c,l.v7_relativeSplatPath),i,a==="path"),u=JSON.stringify(p);return m.useEffect(()=>d(JSON.parse(u),{replace:r,state:s,relative:a}),[d,u,a,r,s]),null}function Ni(e){return og(e.context)}function oe(e){me(!1)}function Ng(e){let{basename:t="/",children:r=null,location:s,navigationType:a=Yt.Pop,navigator:l,static:o=!1,future:c}=e;on()&&me(!1);let i=t.replace(/^\/*/,"/"),d=m.useMemo(()=>({basename:i,navigator:l,static:o,future:Zn({v7_relativeSplatPath:!1},c)}),[i,c,l,o]);typeof s=="string"&&(s=ln(s));let{pathname:p="/",search:u="",hash:f="",state:y=null,key:b="default"}=s,N=m.useMemo(()=>{let k=rn(p,i);return k==null?null:{location:{pathname:k,search:u,hash:f,state:y,key:b},navigationType:a}},[i,p,u,f,y,b,a]);return N==null?null:m.createElement(Dt.Provider,{value:d},m.createElement(Aa.Provider,{children:r,value:N}))}function wg(e){let{children:t,location:r}=e;return ig(yo(t),r)}new Promise(()=>{});function yo(e,t){t===void 0&&(t=[]);let r=[];return m.Children.forEach(e,(s,a)=>{if(!m.isValidElement(s))return;let l=[...t,a];if(s.type===m.Fragment){r.push.apply(r,yo(s.props.children,l));return}s.type!==oe&&me(!1),!s.props.index||!s.props.children||me(!1);let o={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=yo(s.props.children,l)),r.push(o)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ma(){return ma=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},ma.apply(this,arguments)}function am(e,t){if(e==null)return{};var r={},s=Object.keys(e),a,l;for(l=0;l<s.length;l++)a=s[l],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function kg(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Sg(e,t){return e.button===0&&(!t||t==="_self")&&!kg(e)}const Cg=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Eg=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Fg="6";try{window.__reactRouterVersion=Fg}catch{}const Tg=m.createContext({isTransitioning:!1}),Pg="startTransition",au=yf[Pg];function Lg(e){let{basename:t,children:r,future:s,window:a}=e,l=m.useRef();l.current==null&&(l.current=_x({window:a,v5Compat:!0}));let o=l.current,[c,i]=m.useState({action:o.action,location:o.location}),{v7_startTransition:d}=s||{},p=m.useCallback(u=>{d&&au?au(()=>i(u)):i(u)},[i,d]);return m.useLayoutEffect(()=>o.listen(p),[o,p]),m.useEffect(()=>jg(s),[s]),m.createElement(Ng,{basename:t,children:r,location:c.location,navigationType:c.action,navigator:o,future:s})}const _g=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Mg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ag=m.forwardRef(function(t,r){let{onClick:s,relative:a,reloadDocument:l,replace:o,state:c,target:i,to:d,preventScrollReset:p,viewTransition:u}=t,f=am(t,Cg),{basename:y}=m.useContext(Dt),b,N=!1;if(typeof d=="string"&&Mg.test(d)&&(b=d,_g))try{let g=new URL(window.location.href),w=d.startsWith("//")?new URL(g.protocol+d):new URL(d),S=rn(w.pathname,y);w.origin===g.origin&&S!=null?d=S+w.search+w.hash:N=!0}catch{}let k=sg(d,{relative:a}),x=zg(d,{replace:o,state:c,target:i,preventScrollReset:p,relative:a,viewTransition:u});function h(g){s&&s(g),g.defaultPrevented||x(g)}return m.createElement("a",ma({},f,{href:b||k,onClick:N||l?s:h,ref:r,target:i}))}),Ig=m.forwardRef(function(t,r){let{"aria-current":s="page",caseSensitive:a=!1,className:l="",end:o=!1,style:c,to:i,viewTransition:d,children:p}=t,u=am(t,Eg),f=Ia(i,{relative:u.relative}),y=cn(),b=m.useContext(qp),{navigator:N,basename:k}=m.useContext(Dt),x=b!=null&&Og(f)&&d===!0,h=N.encodeLocation?N.encodeLocation(f).pathname:f.pathname,g=y.pathname,w=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;a||(g=g.toLowerCase(),w=w?w.toLowerCase():null,h=h.toLowerCase()),w&&k&&(w=rn(w,k)||w);const S=h!=="/"&&h.endsWith("/")?h.length-1:h.length;let F=g===h||!o&&g.startsWith(h)&&g.charAt(S)==="/",M=w!=null&&(w===h||!o&&w.startsWith(h)&&w.charAt(h.length)==="/"),B={isActive:F,isPending:M,isTransitioning:x},T=F?s:void 0,_;typeof l=="function"?_=l(B):_=[l,F?"active":null,M?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let I=typeof c=="function"?c(B):c;return m.createElement(Ag,ma({},u,{"aria-current":T,className:_,ref:r,style:I,to:i,viewTransition:d}),typeof p=="function"?p(B):p)});var jo;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(jo||(jo={}));var lu;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(lu||(lu={}));function Rg(e){let t=m.useContext(Ma);return t||me(!1),t}function zg(e,t){let{target:r,replace:s,state:a,preventScrollReset:l,relative:o,viewTransition:c}=t===void 0?{}:t,i=ur(),d=cn(),p=Ia(e,{relative:o});return m.useCallback(u=>{if(Sg(u,r)){u.preventDefault();let f=s!==void 0?s:pa(d)===pa(p);i(e,{replace:f,state:a,preventScrollReset:l,relative:o,viewTransition:c})}},[d,i,p,s,a,r,e,l,o,c])}function Og(e,t){t===void 0&&(t={});let r=m.useContext(Tg);r==null&&me(!1);let{basename:s}=Rg(jo.useViewTransitionState),a=Ia(e,{relative:t.relative});if(!r.isTransitioning)return!1;let l=rn(r.currentLocation.pathname,s)||r.currentLocation.pathname,o=rn(r.nextLocation.pathname,s)||r.nextLocation.pathname;return bo(a.pathname,o)!=null||bo(a.pathname,l)!=null}const Dg=e=>{const t=String(e||"").replace(/-/g,"+").replace(/_/g,"/"),r=t.padEnd(t.length+(4-t.length%4)%4,"=");try{const s=atob(r),a=Uint8Array.from(s,l=>l.charCodeAt(0));return new TextDecoder().decode(a)}catch{return null}},ss=e=>{const t=String(e||"").split(".");if(t.length<2)return null;const r=Dg(t[1]);if(!r)return null;try{return JSON.parse(r)}catch{return null}},fa=e=>{const t=ss(e);if(!(t!=null&&t.exp))return!1;const r=Number(t.exp)*1e3;return Number.isFinite(r)?Date.now()>=r:!1},$g=e=>{const t=ss(e);if(!(t!=null&&t.exp))return Number.POSITIVE_INFINITY;const r=Number(t.exp)*1e3-Date.now();return Number.isFinite(r)?r:0},wi="edu_bridge_auth_session",Bg="http://localhost:5000/api".replace(/\/$/,""),xl="api",Ug={admin:"/admin",teacher:"/teacher",student:"/student"},as=e=>Ug[String(e||"").toLowerCase()]||"/login";class Wg extends Error{constructor(t,r=0){super(t),this.name="AuthApiError",this.status=Number(r)}}const Hg=async e=>{try{return await e.json()}catch{return{}}},ki=async(e,{method:t="GET",body:r,token:s}={})=>{const a=await fetch(`${Bg}${e}`,{method:t,headers:{...r!==void 0?{"Content-Type":"application/json"}:{},...s?{Authorization:`Bearer ${s}`}:{}},body:r!==void 0?JSON.stringify(r):void 0}),l=await Hg(a);if(!a.ok)throw new Wg(l.message||"  .",a.status);return l},Vg=async({identifier:e,password:t,portal:r})=>ki("/auth/login",{method:"POST",body:{identifier:String(e||"").trim().toLowerCase(),password:String(t||""),portal:String(r||"").trim().toLowerCase()}}),Qg=async e=>ki("/auth/me",{token:e}),Gg=async e=>ki("/auth/logout",{method:"POST",token:e}),Si=()=>typeof window>"u"?null:window.localStorage,gl=()=>{var e;try{const t=(e=Si())==null?void 0:e.getItem(wi);return t?JSON.parse(t):null}catch{return null}},ou=e=>{var t;(t=Si())==null||t.setItem(wi,JSON.stringify(e))},Ss=()=>{var e;(e=Si())==null||e.removeItem(wi)},lm=m.createContext(null),Yg=e=>{var r;if((r=e==null?void 0:e.user)!=null&&r.role)return String(e.user.role).toLowerCase();const t=ss(e==null?void 0:e.token);return t!=null&&t.role?String(t.role).toLowerCase():null};function Kg({children:e}){const[t,r]=m.useState(()=>gl()),[s,a]=m.useState(!0),l=m.useCallback(async()=>{var d;const i=(t==null?void 0:t.token)||((d=gl())==null?void 0:d.token);if(i)try{await Gg(i)}catch{}Ss(),r(null)},[t==null?void 0:t.token]);m.useEffect(()=>{let i=!0;return(async()=>{const p=gl();if(p!=null&&p.authMode&&p.authMode!==xl){Ss(),i&&(r(null),a(!1));return}if(!(p!=null&&p.token)||fa(p.token)){Ss(),i&&(r(null),a(!1));return}try{const u=await Qg(p.token),f={token:p.token,user:u.user,authMode:xl};ou(f),i&&r(f)}catch{Ss(),i&&r(null)}finally{i&&a(!1)}})(),()=>{i=!1}},[]),m.useEffect(()=>{if(!(t!=null&&t.token))return;const i=$g(t.token);if(!Number.isFinite(i))return;if(i<=0){l();return}const d=window.setTimeout(()=>{l()},i);return()=>{window.clearTimeout(d)}},[t==null?void 0:t.token,l]),m.useEffect(()=>{if(typeof window>"u")return;const i=()=>{l()};return window.addEventListener("auth:session-expired",i),()=>{window.removeEventListener("auth:session-expired",i)}},[l]);const o=m.useCallback(async({identifier:i,password:d,portal:p})=>{const u=await Vg({identifier:i,password:d,portal:p});if(!(u!=null&&u.token)||!(u!=null&&u.user)||fa(u.token))throw new Error("Unable to create a valid session.");const f={token:u.token,user:u.user,authMode:xl};return ou(f),r(f),f},[]),c=m.useMemo(()=>{const i=Yg(t);return{session:t,token:(t==null?void 0:t.token)||null,user:(t==null?void 0:t.user)||null,role:i,isLoading:s,isAuthenticated:!!(t!=null&&t.token&&(t!=null&&t.user)&&i),isAdmin:i==="admin",login:o,logout:l}},[t,s,o,l]);return n.jsx(lm.Provider,{value:c,children:e})}const xe=()=>{const e=m.useContext(lm);if(!e)throw new Error("useAuth must be used inside AuthProvider.");return e};function Ra({label:e="Checking session..."}){return n.jsx("main",{className:"flex min-h-screen items-center justify-center bg-background p-6",children:n.jsx("div",{className:"surface-card animate-fadeUp px-8 py-6",children:n.jsx("p",{className:"body-premium text-text-secondary",children:e})})})}function Xg({children:e}){var c;const{isLoading:t,isAuthenticated:r,token:s,role:a,logout:l}=xe(),o=(c=ss(s))==null?void 0:c.role;return t?n.jsx(Ra,{}):s&&fa(s)?(l(),n.jsx(_t,{to:"/login",replace:!0})):r?String(o||a||"").toLowerCase()!=="admin"?n.jsx(_t,{to:as(a),replace:!0}):e||n.jsx(Ni,{}):n.jsx(_t,{to:"/login",replace:!0})}function iu({allow:e,children:t}){var i;const{isLoading:r,isAuthenticated:s,token:a,role:l,logout:o}=xe(),c=(i=ss(a))==null?void 0:i.role;return r?n.jsx(Ra,{}):a&&fa(a)?(o(),n.jsx(_t,{to:"/login",replace:!0})):s?String(c||l||"").toLowerCase()!==String(e||"").toLowerCase()?n.jsx(_t,{to:as(l),replace:!0}):t||n.jsx(Ni,{}):n.jsx(_t,{to:"/login",replace:!0})}const Jg="/edu-bridge/assets/login-background-Cyj1D8FX.png",Zg="/edu-bridge/assets/login-floating-CqAylRPF.png",cu=(e,t,r)=>Math.min(Math.max(e,t),r);function qg({backgroundSrc:e,floatingSrc:t}){const[r,s]=m.useState({x:0,y:0}),a=m.useMemo(()=>({transform:`translate3d(${r.x*-8}px, ${r.y*-8}px, 0) scale(1.02)`,transition:"transform 180ms ease-out"}),[r.x,r.y]),l=m.useMemo(()=>({transform:`translate3d(${r.x*12}px, ${r.y*12}px, 0) scale(1.03)`,transition:"transform 160ms ease-out"}),[r.x,r.y]),o=c=>{const i=c.currentTarget.getBoundingClientRect(),d=((c.clientX-i.left)/i.width-.5)*2,p=((c.clientY-i.top)/i.height-.5)*2;s({x:cu(d,-.8,.8),y:cu(p,-.8,.8)})};return n.jsxs("div",{onMouseMove:o,onMouseLeave:()=>s({x:0,y:0}),className:"absolute inset-0 overflow-hidden",children:[n.jsx("img",{src:e,alt:"","aria-hidden":"true",style:a,className:"absolute inset-0 h-full w-full object-cover"}),n.jsx("img",{src:t,alt:"","aria-hidden":"true",style:l,className:"absolute inset-0 h-full w-full object-cover"})]})}const ev=[{key:"student",label:"Student"},{key:"teacher",label:"Teacher"},{key:"admin",label:"Admin"}];function tv(){const e=ur(),{login:t,isLoading:r}=xe(),[s,a]=m.useState("student"),[l,o]=m.useState(""),[c,i]=m.useState(""),[d,p]=m.useState(""),[u,f]=m.useState(!1),y=m.useMemo(()=>r||u||!l.trim()||!c.trim(),[r,u,l,c]),b=async N=>{var k;N.preventDefault(),p(""),f(!0);try{const x=await t({identifier:l,password:c,portal:s});e(as((k=x==null?void 0:x.user)==null?void 0:k.role),{replace:!0})}catch(x){p((x==null?void 0:x.message)||"  .")}finally{f(!1)}};return n.jsx("main",{dir:"rtl",className:"min-h-screen bg-white [font-family:'IBM_Plex_Arabic',_'Segoe_UI',sans-serif]",style:{fontFamily:"'IBM Plex Arabic', 'Segoe UI', sans-serif"},children:n.jsxs("div",{className:"grid min-h-screen grid-cols-1 lg:grid-cols-[520px_1fr]",children:[n.jsx("section",{className:"relative flex items-center justify-center bg-white px-8 py-10 sm:px-12",children:n.jsxs("div",{className:"w-full max-w-[360px]",children:[n.jsx("h1",{className:"mb-2 text-[34px] font-semibold leading-[1.3] text-[#111]",style:{fontFamily:"'Noto Naskh Arabic', 'Amiri', serif"},children:" "}),n.jsx("p",{className:"mb-8 text-[13px] text-[#777]",children:" Hikmah School "}),n.jsx("div",{className:"mb-6 grid grid-cols-3 gap-1 rounded-[6px] border border-[#E5E7EB] bg-[#FAFAFA] p-1",children:ev.map(N=>n.jsx("button",{type:"button",onClick:()=>a(N.key),className:`h-9 rounded-[4px] text-[12px] font-medium transition-colors duration-150 ${s===N.key?"bg-white text-[#111] shadow-sm":"text-[#666] hover:bg-white"}`,children:N.label},N.key))}),n.jsxs("form",{onSubmit:b,className:"space-y-4",children:[n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[#555]",children:s==="admin"?" ":" "}),n.jsx("input",{type:"text",value:l,onChange:N=>o(N.target.value),autoComplete:"username",dir:"ltr",className:"h-11 w-full rounded-[4px] border border-[#E5E7EB] px-3 text-[14px] text-[#111] outline-none transition-colors duration-150 focus:border-[#1A3A6B]"})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[#555]",children:" "}),n.jsx("input",{type:"password",value:c,onChange:N=>i(N.target.value),autoComplete:"current-password",dir:"ltr",className:"h-11 w-full rounded-[4px] border border-[#E5E7EB] px-3 text-[14px] text-[#111] outline-none transition-colors duration-150 focus:border-[#1A3A6B]"})]}),d?n.jsx("p",{className:"rounded-[4px] border border-[#F3D4D2] bg-[#FDECEA] px-3 py-2 text-[12px] text-[#8B1A1A]",children:d}):null,n.jsx("button",{type:"submit",disabled:y,className:"h-11 w-full rounded-[4px] border border-[#1A3A6B] bg-[#1A3A6B] text-[14px] font-medium text-white transition duration-150 hover:bg-[#0D2449] active:scale-[0.98] disabled:cursor-not-allowed disabled:opacity-50",children:u?"  ...":" "})]})]})}),n.jsx("section",{className:"relative hidden overflow-hidden bg-[#F7F7F5] lg:block",children:n.jsx("div",{className:"absolute inset-8 overflow-hidden rounded-[6px] border border-[#E5E7EB] bg-white",children:n.jsx(qg,{backgroundSrc:Jg,floatingSrc:Zg})})})]})})}const rv="http://localhost:5000/api".replace(/\/$/,""),om="edu_bridge_auth_session";class $s extends Error{constructor(t,r=0){super(t),this.name="ApiError",this.status=Number(r)}}let Pr=null,No=!1;const nv=()=>{typeof window>"u"||window.dispatchEvent(new CustomEvent("auth:session-expired"))},sv=()=>{Pr=null,No=!1},uu=()=>{No||(No=!0,nv())},av=e=>{if(!e)return!0;try{const[,t]=String(e).split(".");if(!t)return!1;const r=atob(t.replace(/-/g,"+").replace(/_/g,"/")),s=JSON.parse(r);return s!=null&&s.exp?Date.now()>=Number(s.exp)*1e3:!1}catch{return!1}},im=()=>typeof window>"u"?null:window.localStorage,vl=()=>{var e;try{const t=(e=im())==null?void 0:e.getItem(om);return t?JSON.parse(t):null}catch{return null}},du=()=>{var e;(e=im())==null||e.removeItem(om)},dr=(e={})=>{const t=new URLSearchParams;Object.entries(e).forEach(([s,a])=>{a==null||a===""||t.append(s,String(a))});const r=t.toString();return r?`?${r}`:""},Y=async(e,{method:t="GET",token:r,body:s,auth:a=!1}={})=>{var d,p,u;const l={},o=r||((d=vl())==null?void 0:d.token);if(s!==void 0&&(l["Content-Type"]="application/json"),a){if(!o)throw new $s(" .     .",401);if(Pr&&Pr!==o&&sv(),Pr===o||av(o)){const f=(p=vl())==null?void 0:p.token;throw Pr=o,f===o&&du(),uu(),new $s(" .     .",401)}l.Authorization=`Bearer ${o}`}const c=await fetch(`${rv}${e}`,{method:t,headers:l,body:s!==void 0?JSON.stringify(s):void 0});let i={};try{i=await c.json()}catch{i={}}if(!c.ok){if(c.status===401){const f=(u=vl())==null?void 0:u.token;Pr=o||f||null,(!f||!o||f===o)&&(du(),uu())}throw new $s(i.message||"  .",c.status)}return i},lv=(e,t,r={})=>Y(`/profile/${t}${dr(r)}`,{token:e,auth:!0}),ov=e=>Y("/student/portal",{token:e,auth:!0}),cm=(e,t={})=>Y(`/student/schedule${dr(t)}`,{token:e,auth:!0}),iv=(e,t={})=>Y(`/feedback/list${dr(t)}`,{token:e,auth:!0}),um=(e,t={})=>Y(`/teacher/exams${dr(t)}`,{token:e,auth:!0}),cv=(e,t)=>Y("/teacher/exams",{method:"PATCH",token:e,auth:!0,body:t}),uv=(e,t)=>Y("/teacher/grades/import/preview",{method:"POST",token:e,auth:!0,body:t}),dv=(e,t)=>Y("/teacher/grades/import/confirm",{method:"POST",token:e,auth:!0,body:t}),pv=(e,t,r)=>Y(`/teacher/students/${t}/feedback-draft`,{method:"POST",token:e,auth:!0,body:r}),mv=(e,t,r)=>Y(`/teacher/students/${t}/term-comment`,{method:"POST",token:e,auth:!0,body:r}),fv=(e,t)=>Y("/teacher/homework",{method:"POST",token:e,auth:!0,body:t}),hv=(e,t,r)=>Y(`/teacher/homework/${t}`,{method:"PATCH",token:e,auth:!0,body:r}),xv=(e,t,r)=>Y(`/teacher/homework/${t}/assignments`,{method:"PATCH",token:e,auth:!0,body:r}),gv=(e,t)=>Y(`/teacher/homework/${t}`,{method:"DELETE",token:e,auth:!0}),vv=(e,t={})=>Y(`/teacher/schedule${dr(t)}`,{token:e,auth:!0}),bv=(e,t)=>Y("/teacher/attendance",{method:"POST",token:e,auth:!0,body:t}),yv=(e,t)=>Y("/teacher/incidents",{method:"POST",token:e,auth:!0,body:t}),dm=e=>Y("/teacher/dashboard-insights",{token:e,auth:!0}),pm=(e,t)=>Y("/teacher/announcements",{method:"POST",token:e,auth:!0,body:t}),jv=(e,t,r)=>Y(`/teacher/announcements/${t}`,{method:"PATCH",token:e,auth:!0,body:r}),Nv=(e,t)=>Y(`/teacher/announcements/${t}`,{method:"DELETE",token:e,auth:!0}),un=e=>Y("/admin/overview",{token:e,auth:!0}),mm=e=>Y("/admin/reports",{token:e,auth:!0}),Ci=e=>Y("/admin/intelligence",{token:e,auth:!0}),wv=(e,t={})=>Y(`/admin/schedule${dr(t)}`,{token:e,auth:!0}),kv=(e,t)=>Y("/admin/schedule/entries",{method:"POST",token:e,auth:!0,body:t}),Sv=(e,t,r)=>Y(`/admin/schedule/entries/${t}`,{method:"PATCH",token:e,auth:!0,body:r}),Cv=(e,t)=>Y(`/admin/schedule/entries/${t}`,{method:"DELETE",token:e,auth:!0}),Ev=(e,t={})=>Y(`/admin/incidents${dr(t)}`,{token:e,auth:!0}),Fv=(e,t)=>Y("/admin/teachers",{method:"POST",token:e,auth:!0,body:t}),Tv=(e,t)=>Y("/admin/students",{method:"POST",token:e,auth:!0,body:t}),Pv=(e,t)=>Y("/admin/classes",{method:"POST",token:e,auth:!0,body:t}),Lv=(e,t)=>Y(`/admin/classes/${t}`,{method:"DELETE",token:e,auth:!0}),_v=(e,t,r)=>Y(`/admin/teachers/${t}/assignment`,{method:"PATCH",token:e,auth:!0,body:r}),fm=(e,t,r)=>Y(`/admin/users/${t}`,{method:"PATCH",token:e,auth:!0,body:r}),hm=(e,t,r)=>Y(`/admin/users/${t}/status`,{method:"PATCH",token:e,auth:!0,body:{active:r}}),xm=(e,t,r)=>Y(`/admin/users/${t}/reset-password`,{method:"POST",token:e,auth:!0,body:{newPassword:r}}),gm=(e,t)=>Y(`/admin/users/${t}`,{method:"DELETE",token:e,auth:!0}),Mv=e=>Y("/admin/surveys",{token:e,auth:!0}),Av=(e,t)=>Y("/admin/surveys",{method:"POST",token:e,auth:!0,body:t}),Iv=(e,t,r)=>Y(`/admin/surveys/${t}`,{method:"PATCH",token:e,auth:!0,body:r}),Rv=(e,t)=>Y(`/admin/surveys/${t}`,{method:"DELETE",token:e,auth:!0}),pu=(e,t,r={})=>Y(`/admin/import-users${dr(r)}`,{method:"POST",token:e,auth:!0,body:t});function zv({className:e="h-5 w-5"}){return n.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:e,children:n.jsx("path",{d:"M3 12h8V3H3v9zm10 9h8v-6h-8v6zM13 3v8h8V3h-8zM3 21h8v-6H3v6z"})})}function vm({className:e="h-5 w-5"}){return n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:e,children:[n.jsx("path",{d:"M16 19a4 4 0 0 0-8 0"}),n.jsx("circle",{cx:"12",cy:"10",r:"3"}),n.jsx("path",{d:"M20 19a4 4 0 0 0-3-3.87M4 19a4 4 0 0 1 3-3.87"})]})}function bm({className:e="h-5 w-5"}){return n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:e,children:[n.jsx("path",{d:"M12 3 2 8l10 5 10-5-10-5Z"}),n.jsx("path",{d:"m6 10 0 4c0 2.2 2.7 4 6 4s6-1.8 6-4v-4"})]})}function Ei({className:e="h-5 w-5"}){return n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:e,children:[n.jsx("rect",{x:"3",y:"5",width:"18",height:"14",rx:"2"}),n.jsx("path",{d:"M7 9h10M7 13h6"})]})}function ym({className:e="h-5 w-5"}){return n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:e,children:[n.jsx("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),n.jsx("path",{d:"M6.5 2H20v15H6.5A2.5 2.5 0 0 0 4 19.5V4.5A2.5 2.5 0 0 1 6.5 2z"})]})}function wo({className:e="h-5 w-5"}){return n.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:e,children:n.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H8l-5 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v10z"})})}function jm({className:e="h-5 w-5"}){return n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:e,children:[n.jsx("path",{d:"M9 11l3 3L22 4"}),n.jsx("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"})]})}function Ov({className:e="h-5 w-5"}){return n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:e,children:[n.jsx("rect",{x:"3",y:"4",width:"18",height:"17",rx:"2"}),n.jsx("path",{d:"M8 2v4M16 2v4M3 10h18"}),n.jsx("path",{d:"M8 14h3M13 14h3M8 18h3M13 18h3"})]})}function Dv({className:e="h-5 w-5"}){return n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:e,children:[n.jsx("path",{d:"M12 3v12"}),n.jsx("path",{d:"m7 10 5 5 5-5"}),n.jsx("path",{d:"M5 21h14a2 2 0 0 0 2-2v-3"}),n.jsx("path",{d:"M3 16v3a2 2 0 0 0 2 2"})]})}function Nm({className:e="h-5 w-5"}){return n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:e,children:[n.jsx("path",{d:"M15 17h5l-1.4-1.4A2 2 0 0 1 18 14.2V11a6 6 0 1 0-12 0v3.2a2 2 0 0 1-.6 1.4L4 17h5"}),n.jsx("path",{d:"M10 17a2 2 0 0 0 4 0"})]})}function $v({className:e="h-5 w-5"}){return n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:e,children:[n.jsx("path",{d:"M4 20h16"}),n.jsx("path",{d:"M7 16v-6M12 16V8M17 16v-3"})]})}function Bv({className:e="h-5 w-5"}){return n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:e,children:[n.jsx("path",{d:"M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"}),n.jsx("path",{d:"M19.4 15a1.7 1.7 0 0 0 .34 1.87l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06a1.7 1.7 0 0 0-1.87-.34 1.7 1.7 0 0 0-1 1.55V22a2 2 0 1 1-4 0v-.09a1.7 1.7 0 0 0-1-1.55 1.7 1.7 0 0 0-1.87.34l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06a1.7 1.7 0 0 0 .34-1.87 1.7 1.7 0 0 0-1.55-1H2a2 2 0 1 1 0-4h.09a1.7 1.7 0 0 0 1.55-1 1.7 1.7 0 0 0-.34-1.87l-.06-.06a2 2 0 1 1 2.83-2.83l.06.06a1.7 1.7 0 0 0 1.87.34h0a1.7 1.7 0 0 0 1-1.55V2a2 2 0 1 1 4 0v.09a1.7 1.7 0 0 0 1 1.55h0a1.7 1.7 0 0 0 1.87-.34l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06a1.7 1.7 0 0 0-.34 1.87v0a1.7 1.7 0 0 0 1.55 1H22a2 2 0 1 1 0 4h-.09a1.7 1.7 0 0 0-1.55 1z"})]})}function Uv({className:e="h-5 w-5"}){return n.jsx(Nm,{className:e})}function Wv({className:e="h-4 w-4"}){return n.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:e,children:n.jsx("path",{d:"m15 18-6-6 6-6"})})}function wm({className:e="h-5 w-5"}){return n.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:e,children:n.jsx("path",{d:"M3 6h18M3 12h18M3 18h18"})})}function Hv({className:e="h-4 w-4"}){return n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:e,children:[n.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),n.jsx("path",{d:"M16 17l5-5-5-5"}),n.jsx("path",{d:"M21 12H9"})]})}const Vv=(e="")=>String(e).trim().split(" ").filter(Boolean).slice(0,2).map(t=>t[0]).join("");function Qv({collapsed:e,onOpenMobileMenu:t,notificationsCount:r=0}){const{user:s,logout:a}=xe(),l=(s==null?void 0:s.name)||" ";return n.jsx("header",{className:`fixed left-0 right-0 top-0 z-20 border-b border-border bg-surface/92 backdrop-blur-md premium-transition ${e?"lg:right-[92px]":"lg:right-[288px]"}`,children:n.jsxs("div",{className:"flex h-[80px] items-center justify-between px-4 md:px-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("button",{type:"button",onClick:t,className:"focus-ring premium-transition inline-flex h-10 w-10 items-center justify-center rounded-md border border-border text-text-secondary hover:border-primary hover:text-primary lg:hidden","aria-label":" ",children:n.jsx(wm,{className:"h-5 w-5"})}),n.jsxs("div",{className:"hidden items-center gap-2 sm:flex",children:[n.jsx("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-md bg-card-gradient text-lg font-bold text-primary",children:""}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-text-primary",children:"Hikmah School"}),n.jsx("p",{className:"text-xs text-text-secondary",children:" "})]})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("button",{type:"button",className:"focus-ring premium-transition relative inline-flex h-11 w-11 items-center justify-center rounded-full border border-border bg-surface text-text-secondary hover:-translate-y-px hover:border-primary hover:text-primary hover:shadow-[0_0_0_3px_rgba(44,123,229,0.12)]","aria-label":"",children:[n.jsx(Uv,{className:"h-[22px] w-[22px]"}),r>0&&n.jsx("span",{className:"absolute -left-1 -top-1 inline-flex h-5 min-w-[20px] items-center justify-center rounded-full bg-danger px-1 text-xs font-bold text-white",children:r})]}),n.jsxs("div",{className:"flex items-center gap-2 rounded-md border border-border bg-surface px-2 py-1 shadow-sm",children:[n.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-full border border-primary/30 bg-primary/12 text-sm font-bold text-primary",children:Vv(l)||""}),n.jsxs("div",{className:"hidden sm:block",children:[n.jsx("p",{className:"text-sm font-semibold text-text-primary",children:l}),n.jsx("p",{className:"text-xs text-text-secondary",children:""})]})]}),n.jsxs("button",{type:"button",onClick:a,className:"action-btn",children:[n.jsx(Hv,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden md:inline",children:""})]})]})]})})}const Gv=[{key:"dashboard",label:" ",to:"/admin",icon:zv},{key:"students",label:"",to:"/admin/students",icon:vm},{key:"teachers",label:"",to:"/admin/teachers",icon:bm},{key:"classes",label:"",to:"/admin/classes",icon:Ei},{key:"subjects",label:"",to:"/admin/subjects",icon:ym},{key:"feedback",label:" ",to:"/admin/feedback",icon:wo},{key:"import-users",label:" ",to:"/admin/import-users",icon:Dv},{key:"surveys",label:"",to:"/admin/surveys",icon:jm},{key:"schedule",label:" ",to:"/admin/schedule",icon:Ov},{key:"notifications",label:"",to:"/admin/notifications",icon:Nm},{key:"reports",label:"",to:"/admin/reports",icon:$v},{key:"settings",label:"",to:"/admin/settings",icon:Bv}];function Yv({collapsed:e,mobileOpen:t,onToggleCollapse:r,onCloseMobile:s}){return n.jsxs(n.Fragment,{children:[t?n.jsx("button",{type:"button",onClick:s,className:"fixed inset-0 z-30 bg-slate-900/25 lg:hidden","aria-label":" "}):null,n.jsx("aside",{className:`fixed right-0 top-0 z-40 h-screen border-l border-border bg-surface/95 backdrop-blur-md premium-transition ${e?"w-[92px]":"w-[288px]"} ${t?"translate-x-0":"translate-x-full"} lg:translate-x-0`,children:n.jsxs("div",{className:"flex h-full flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between border-b border-border px-3 py-4",children:[n.jsxs("div",{className:`flex items-center gap-2 ${e?"justify-center":""}`,children:[n.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-md bg-card-gradient text-base font-bold text-primary",children:""}),e?null:n.jsxs("div",{className:"space-y-0",children:[n.jsx("p",{className:"text-sm font-semibold text-text-primary",children:"Hikmah School"}),n.jsx("p",{className:"text-xs text-text-secondary",children:" "})]})]}),n.jsx("button",{type:"button",onClick:r,className:"focus-ring premium-transition hidden rounded-sm border border-border p-2 text-text-secondary hover:border-primary hover:text-primary lg:inline-flex","aria-label":" ",children:e?n.jsx(wm,{className:"h-4 w-4"}):n.jsx(Wv,{className:"h-4 w-4"})})]}),n.jsx("nav",{className:"flex-1 overflow-y-auto px-2 py-3",children:n.jsx("ul",{className:"space-y-1",children:Gv.map((a,l)=>{const o=a.icon;return n.jsx("li",{className:"animate-fadeUp",style:{animationDelay:`${l*22}ms`},children:n.jsx(Ig,{to:a.to,end:a.to==="/admin",onClick:s,className:({isActive:c})=>`group relative flex items-center gap-3 overflow-hidden rounded-sm py-3 text-sm font-semibold premium-transition pressable ${c?"bg-sidebar-active text-primary shadow-sm":"text-text-secondary hover:bg-background hover:text-primary"} ${e?"justify-center px-2":"px-3"}`,children:({isActive:c})=>n.jsxs(n.Fragment,{children:[n.jsx("span",{className:`premium-transition absolute right-0 top-2 h-[calc(100%-16px)] w-1 rounded-l-full bg-primary ${c?"scale-y-100 opacity-100":"scale-y-75 opacity-0"}`}),n.jsx(o,{className:"h-4 w-4 shrink-0"}),e?null:n.jsx("span",{children:a.label})]})})},a.key)})})})]})})]})}function Kv(){const{token:e}=xe(),[t,r]=m.useState(!1),[s,a]=m.useState(!1),[l,o]=m.useState(0);m.useEffect(()=>{if(!e){o(0);return}let i=!0;return(async()=>{var p;try{const u=await Ci(e);if(!i)return;let f=0;Number((u==null?void 0:u.pendingResponses)||0)>0&&(f+=1),Number((u==null?void 0:u.flaggedParents)||0)>0&&(f+=1),Number(((p=u==null?void 0:u.riskIndex)==null?void 0:p.High)||0)>0&&(f+=1),o(f)}catch{i&&o(0)}})(),()=>{i=!1}},[e]);const c=()=>r(i=>!i);return n.jsxs("div",{className:"min-h-screen bg-background",dir:"rtl",children:[n.jsx(Yv,{collapsed:t,mobileOpen:s,onToggleCollapse:c,onCloseMobile:()=>a(!1)}),n.jsxs("div",{className:`premium-transition ${t?"lg:pr-[92px]":"lg:pr-[288px]"}`,children:[n.jsx(Qv,{collapsed:t,onOpenMobileMenu:()=>a(!0),notificationsCount:l}),n.jsx("main",{className:"px-4 pb-6 pt-[94px] md:px-6",children:n.jsx("div",{className:"h-[calc(100vh-112px)] overflow-y-auto rounded-lg",children:n.jsx(Ni,{})})})]})]})}function ut({title:e,subtitle:t,action:r}){return n.jsxs("header",{className:"mb-6 flex flex-wrap items-center justify-between gap-3",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("h1",{className:"h2-premium",children:e}),t?n.jsx("p",{className:"caption-premium",children:t}):null]}),r]})}function Xv({label:e,description:t,onClick:r}){return n.jsxs("button",{type:"button",onClick:r,className:"panel-card-hover pressable w-full text-right",children:[n.jsx("p",{className:"body-premium font-semibold",children:e}),n.jsx("p",{className:"caption-premium mt-1",children:t||" "})]})}const Jv={students:vm,teachers:bm,classes:Ei,subjects:ym,surveys:jm,feedbacks:wo,feedbackToday:wo};function Zv({item:e}){const t=Jv[e.id]||Ei,r=String(e.trendDirection||"").toLowerCase()!=="down";return n.jsxs("article",{className:"panel-card-hover",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"caption-premium",children:e.label}),n.jsx("p",{className:"text-3xl font-bold leading-none text-text-primary",children:Number(e.value||0).toLocaleString("en-US")})]}),n.jsx("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-md bg-card-gradient text-primary",children:n.jsx(t,{className:"h-5 w-5"})})]}),n.jsx("p",{className:`mt-3 inline-flex rounded-full border px-2 py-1 text-xs font-semibold ${r?"border-success/25 bg-success/10 text-success":"border-danger/25 bg-danger/10 text-danger"}`,children:e.trend||"0%"})]})}const qv=[{id:"students",label:" ",description:"  ",to:"/admin/students"},{id:"teachers",label:" ",description:"  ",to:"/admin/teachers"},{id:"classes",label:" ",description:"  ",to:"/admin/classes"},{id:"schedule",label:" ",description:"  ",to:"/admin/schedule"},{id:"surveys",label:"",description:"  ",to:"/admin/surveys"},{id:"reports",label:"",description:"  ",to:"/admin/reports"}];function e0(){var y,b,N,k,x,h,g;const e=ur(),{token:t}=xe(),[r,s]=m.useState(!0),[a,l]=m.useState(""),[o,c]=m.useState(null),[i,d]=m.useState(null),[p,u]=m.useState(null);m.useEffect(()=>{let w=!0;return(async()=>{try{s(!0),l("");const[F,M,B]=await Promise.all([un(t),mm(t),Ci(t)]);if(!w)return;c(F),d(M),u(B)}catch(F){w&&l((F==null?void 0:F.message)||"    .")}finally{w&&s(!1)}})(),()=>{w=!1}},[t]);const f=m.useMemo(()=>i!=null&&i.totals?[{id:"students",label:" ",value:i.totals.students||0,trend:"",trendDirection:"up"},{id:"teachers",label:" ",value:i.totals.teachers||0,trend:"",trendDirection:"up"},{id:"classes",label:"",value:i.totals.classes||0,trend:"",trendDirection:"up"},{id:"subjects",label:"",value:i.totals.subjects||0,trend:"",trendDirection:"up"},{id:"feedbacks",label:" ",value:i.totals.feedbacks||0,trend:"",trendDirection:"up"},{id:"homeworks",label:"",value:i.totals.homeworks||0,trend:"",trendDirection:"up"}]:[],[i]);return n.jsxs("div",{className:"page-enter space-y-6 p-1",children:[n.jsx(ut,{title:" ",subtitle:"     ."}),a?n.jsx("p",{className:"rounded-sm border border-danger/25 bg-danger/5 px-3 py-2 text-sm text-danger",children:a}):null,n.jsx("section",{className:"grid gap-4 sm:grid-cols-2 xl:grid-cols-3",children:r?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"skeleton h-[132px]"}),n.jsx("div",{className:"skeleton h-[132px]"}),n.jsx("div",{className:"skeleton h-[132px]"}),n.jsx("div",{className:"skeleton h-[132px]"}),n.jsx("div",{className:"skeleton h-[132px]"}),n.jsx("div",{className:"skeleton h-[132px]"})]}):f.map(w=>n.jsx(Zv,{item:w},w.id))}),n.jsxs("section",{className:"panel-card",children:[n.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[n.jsx("h2",{className:"h3-premium",children:" "}),n.jsx("p",{className:"caption-premium",children:"  "})]}),n.jsx("div",{className:"grid gap-3 sm:grid-cols-2 xl:grid-cols-3",children:qv.map((w,S)=>n.jsx("div",{className:"animate-fadeUp",style:{animationDelay:`${S*28}ms`},children:n.jsx(Xv,{label:w.label,description:w.description,onClick:()=>e(w.to)})},w.id))})]}),n.jsxs("section",{className:"panel-card",children:[n.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[n.jsx("h2",{className:"h3-premium",children:" "}),n.jsxs("p",{className:"caption-premium",children:[" : ",p!=null&&p.generatedAt?new Date(p.generatedAt).toLocaleString("en-US"):"-"]})]}),r?n.jsxs("div",{className:"grid gap-3 md:grid-cols-2 xl:grid-cols-3",children:[n.jsx("div",{className:"skeleton h-20"}),n.jsx("div",{className:"skeleton h-20"}),n.jsx("div",{className:"skeleton h-20"})]}):n.jsxs("div",{className:"grid gap-3 md:grid-cols-2 xl:grid-cols-3",children:[n.jsxs("article",{className:"panel-card-hover",children:[n.jsx("p",{className:"caption-premium",children:"Risk Index"}),n.jsxs("p",{className:"mt-2 text-sm text-text-primary",children:["Low: ",Number(((y=p==null?void 0:p.riskIndex)==null?void 0:y.Low)||0).toLocaleString("en-US")," | Medium:"," ",Number(((b=p==null?void 0:p.riskIndex)==null?void 0:b.Medium)||0).toLocaleString("en-US")," | High:"," ",Number(((N=p==null?void 0:p.riskIndex)==null?void 0:N.High)||0).toLocaleString("en-US")]})]}),n.jsxs("article",{className:"panel-card-hover",children:[n.jsx("p",{className:"caption-premium",children:"Pending responses"}),n.jsx("p",{className:"mt-2 text-lg font-semibold text-text-primary",children:Number((p==null?void 0:p.pendingResponses)||0).toLocaleString("en-US")})]}),n.jsxs("article",{className:"panel-card-hover",children:[n.jsx("p",{className:"caption-premium",children:"Flagged parents / repeated incidents"}),n.jsxs("p",{className:"mt-2 text-sm text-text-primary",children:[Number((p==null?void 0:p.flaggedParents)||0).toLocaleString("en-US")," /"," ",Number((p==null?void 0:p.repeatedIncidents)||0).toLocaleString("en-US")]})]}),n.jsxs("article",{className:"panel-card-hover",children:[n.jsx("p",{className:"caption-premium",children:"Smart class alerts"}),n.jsx("p",{className:"mt-2 text-lg font-semibold text-text-primary",children:Number(((k=p==null?void 0:p.classAnalysis)==null?void 0:k.length)||0).toLocaleString("en-US")})]})]})]}),n.jsxs("section",{className:"panel-card",children:[n.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[n.jsx("h2",{className:"h3-premium",children:"Weekly AI Summary"}),n.jsx("p",{className:"caption-premium",children:"     "})]}),r?n.jsxs("div",{className:"grid gap-2",children:[n.jsx("div",{className:"skeleton h-12"}),n.jsx("div",{className:"skeleton h-12"})]}):((p==null?void 0:p.weeklySnapshots)||[]).length?n.jsx("div",{className:"space-y-2",children:((p==null?void 0:p.weeklySnapshots)||[]).slice(0,8).map(w=>n.jsxs("article",{className:"rounded-sm border border-border bg-background px-3 py-2",children:[n.jsxs("p",{className:"text-sm text-text-primary",children:[w.studentName,": ",w.academicDirection," / ",w.riskStatus," risk"]}),n.jsx("p",{className:"mt-1 text-xs text-text-secondary",children:w.attendancePattern})]},`${w.studentId}-${w.className}`))}):((p==null?void 0:p.weeklySummary)||[]).length?n.jsx("div",{className:"space-y-2",children:((p==null?void 0:p.weeklySummary)||[]).slice(0,8).map((w,S)=>n.jsx("article",{className:"rounded-sm border border-border bg-background px-3 py-2",children:n.jsx("p",{className:"text-sm text-text-primary",children:w})},`${w}-${S}`))}):n.jsx("p",{className:"text-sm text-text-secondary",children:"      ."})]}),n.jsxs("section",{className:"panel-card",children:[n.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[n.jsx("h2",{className:"h3-premium",children:"Smart Class Analysis"}),n.jsx("p",{className:"caption-premium",children:"Suggestions only - no automatic actions"})]}),((p==null?void 0:p.classAnalysis)||[]).length?n.jsx("div",{className:"space-y-2",children:((p==null?void 0:p.classAnalysis)||[]).slice(0,8).map((w,S)=>n.jsxs("article",{className:"rounded-sm border border-border bg-background px-3 py-2",children:[n.jsx("p",{className:"text-sm text-text-primary",children:w.message}),n.jsx("p",{className:"mt-1 text-xs text-text-secondary",children:w.suggestion})]},`${w.type}-${w.className}-${S}`))}):n.jsx("p",{className:"text-sm text-text-secondary",children:"No significant class-level alerts this week."})]}),n.jsx("section",{className:"panel-card",children:n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[n.jsx("h2",{className:"h3-premium",children:" "}),n.jsxs("p",{className:"caption-premium",children:[": ",Number(((x=o==null?void 0:o.classes)==null?void 0:x.length)||0).toLocaleString("en-US")," | :"," ",Number(((h=o==null?void 0:o.teachers)==null?void 0:h.length)||0).toLocaleString("en-US")," | :"," ",Number(((g=o==null?void 0:o.students)==null?void 0:g.length)||0).toLocaleString("en-US")]})]})})]})}const mu={name:"",grade:"",section:""};function t0(){const{token:e}=xe(),[t,r]=m.useState(!0),[s,a]=m.useState(!1),[l,o]=m.useState([]),[c,i]=m.useState([]),[d,p]=m.useState([]),[u,f]=m.useState(mu),[y,b]=m.useState(""),[N,k]=m.useState(""),x=async()=>{try{r(!0),b("");const S=await un(e);o(S.classes||[]),i(S.teachers||[]),p(S.students||[])}catch(S){b(S.message||"   .")}finally{r(!1)}};m.useEffect(()=>{x()},[]);const h=m.useMemo(()=>l.map(S=>{const F=S.name,M=c.filter(T=>(T.classes||[]).includes(F)),B=d.filter(T=>{var _;return(T.className||((_=T.classes)==null?void 0:_[0])||"")===F}).length;return{...S,studentsCount:B,teachers:M}}),[l,c,d]),g=async S=>{if(S.preventDefault(),!u.name.trim()){b("  .");return}try{a(!0),b(""),k(""),await Pv(e,{name:u.name,grade:u.grade,section:u.section}),f(mu),k("   ."),await x()}catch(F){b(F.message||"  .")}finally{a(!1)}},w=async S=>{if(window.confirm(`   ${S.name}`))try{a(!0),b(""),k(""),await Lv(e,S.id),k("   ."),await x()}catch(F){b(F.message||"  .")}finally{a(!1)}};return n.jsxs("div",{className:"page-enter space-y-5 p-1",children:[n.jsx(ut,{title:" ",subtitle:"     ."}),y?n.jsx("p",{className:"rounded-sm border border-danger/25 bg-danger/5 px-3 py-2 text-sm text-danger",children:y}):null,N?n.jsx("p",{className:"rounded-sm border border-success/25 bg-success/10 px-3 py-2 text-sm text-success",children:N}):null,n.jsxs("section",{className:"panel-card",children:[n.jsx("h2",{className:"mb-3 text-base font-semibold text-text-primary",children:"  "}),n.jsxs("form",{className:"grid gap-3 md:grid-cols-4",onSubmit:g,children:[n.jsx("input",{value:u.name,onChange:S=>f(F=>({...F,name:S.target.value})),className:"focus-ring rounded-sm border border-border px-3 py-2 text-sm",placeholder:" ",required:!0}),n.jsx("input",{value:u.grade,onChange:S=>f(F=>({...F,grade:S.target.value})),className:"focus-ring rounded-sm border border-border px-3 py-2 text-sm",placeholder:"/  ()"}),n.jsx("input",{value:u.section,onChange:S=>f(F=>({...F,section:S.target.value})),className:"focus-ring rounded-sm border border-border px-3 py-2 text-sm",placeholder:" ()"}),n.jsx("button",{type:"submit",className:"action-btn-primary",disabled:s,children:""})]})]}),n.jsxs("section",{className:"panel-card",children:[n.jsx("h2",{className:"mb-3 text-base font-semibold text-text-primary",children:" "}),t?n.jsxs("div",{className:"grid gap-3 sm:grid-cols-2 xl:grid-cols-3",children:[n.jsx("div",{className:"skeleton h-[186px]"}),n.jsx("div",{className:"skeleton h-[186px]"}),n.jsx("div",{className:"skeleton h-[186px]"})]}):n.jsxs("div",{className:"grid gap-3 sm:grid-cols-2 xl:grid-cols-3",children:[h.map(S=>{var F;return n.jsxs("article",{className:"panel-card-hover",children:[n.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold text-text-primary",children:S.name}),n.jsxs("span",{className:"rounded-full border border-primary/20 bg-primary/10 px-3 py-1 text-xs font-semibold text-primary",children:[Number(S.studentsCount||0).toLocaleString("en-US")," "]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("p",{className:"caption-premium",children:[": ",Number((S.teachers||[]).length).toLocaleString("en-US")]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[(S.teachers||[]).slice(0,4).map(M=>n.jsx("span",{className:"rounded-full border border-border bg-background px-2 py-1 text-xs font-semibold text-text-secondary",children:M.name},`${S.id}-${M.id}`)),((F=S.teachers)==null?void 0:F.length)>4?n.jsxs("span",{className:"rounded-full border border-border bg-background px-2 py-1 text-xs font-semibold text-text-secondary",children:["+",Number(S.teachers.length-4).toLocaleString("en-US")]}):null]})]}),n.jsx("div",{className:"mt-3",children:n.jsx("button",{type:"button",className:"action-btn",onClick:()=>w(S),disabled:s,children:" "})})]},S.id)}),h.length?null:n.jsx("p",{className:"text-sm text-text-secondary",children:"     ."})]})]})]})}const r0={academic:"",behavior:"",homework:"",general:""};function n0(){const{token:e}=xe(),[t,r]=m.useState(!0),[s,a]=m.useState(""),[l,o]=m.useState([]),[c,i]=m.useState("all");m.useEffect(()=>{let u=!0;return(async()=>{try{r(!0),a("");const y=await iv(e,{limit:300});if(!u)return;o(y.feedbacks||[])}catch(y){u&&a(y.message||"    .")}finally{u&&r(!1)}})(),()=>{u=!1}},[e]);const d=m.useMemo(()=>{const u=new Set((l||[]).map(f=>f.category).filter(Boolean));return["all",...Array.from(u)]},[l]),p=m.useMemo(()=>c==="all"?l:l.filter(u=>u.category===c),[c,l]);return n.jsxs("div",{className:"page-enter space-y-5 p-1",children:[n.jsx(ut,{title:" ",subtitle:"      ."}),s?n.jsx("p",{className:"rounded-sm border border-danger/25 bg-danger/5 px-3 py-2 text-sm text-danger",children:s}):null,n.jsxs("section",{className:"panel-card space-y-4",children:[n.jsx("div",{className:"flex flex-wrap gap-2",children:d.map(u=>{const f=c===u,y=u==="all"?"":r0[u]||u;return n.jsx("button",{type:"button",onClick:()=>i(u),className:`action-btn rounded-full px-3 py-1 text-xs ${f?"border-transparent bg-primary text-white":""}`,children:y},u)})}),t?n.jsxs("div",{className:"grid gap-3",children:[n.jsx("div",{className:"skeleton h-16"}),n.jsx("div",{className:"skeleton h-16"}),n.jsx("div",{className:"skeleton h-16"})]}):n.jsxs("div",{className:"space-y-3",children:[p.map(u=>n.jsxs("article",{className:"rounded-sm border border-border bg-background p-3",children:[n.jsxs("div",{className:"mb-2 flex flex-wrap items-center justify-between gap-2",children:[n.jsx("h2",{className:"text-sm font-semibold text-text-primary",children:u.studentName||""}),n.jsx("p",{className:"text-xs font-semibold text-primary",dir:"ltr",children:u.createdAt?new Date(u.createdAt).toLocaleString("en-US"):""})]}),n.jsxs("p",{className:"text-xs text-text-secondary",children:[": ",u.teacherName||"-"," | : ",u.className||"-"," | : ",u.subject||"-"]}),n.jsx("p",{className:"mt-2 text-sm leading-7 text-text-primary",children:u.message||u.content||u.text||"  ."})]},u._id)),p.length?null:n.jsx("p",{className:"text-sm text-text-secondary",children:"   ."})]})]})]})}const fu={students:[],teachers:[]},s0=e=>JSON.stringify(e,null,2),a0=e=>{const t=e&&typeof e=="object"?e:{};return{students:Array.isArray(t.students)?t.students:[],teachers:Array.isArray(t.teachers)?t.teachers:[]}},l0=e=>{try{return{parsed:JSON.parse(e),error:""}}catch{return{parsed:null,error:" JSON  ."}}},o0=e=>{const t=[],r=new Set;let s=0;return e.students.forEach((a,l)=>{const o=String((a==null?void 0:a.email)||"").trim().toLowerCase(),c=String((a==null?void 0:a.className)||"").trim();String((a==null?void 0:a.fullName)||"").trim()||(s+=1,t.push(`  ${l+1}:   .`)),o?r.has(o)?(s+=1,t.push(`  ${l+1}:     .`)):r.add(o):(s+=1,t.push(`  ${l+1}:   .`)),c||(s+=1,t.push(`  ${l+1}:      className.`))}),e.teachers.forEach((a,l)=>{const o=String((a==null?void 0:a.email)||"").trim().toLowerCase(),c=String((a==null?void 0:a.subject)||"").trim(),i=Array.isArray(a==null?void 0:a.classes)?a.classes.filter(Boolean):[];String((a==null?void 0:a.fullName)||"").trim()||(s+=1,t.push(`  ${l+1}:   .`)),o?r.has(o)?(s+=1,t.push(`  ${l+1}:     .`)):r.add(o):(s+=1,t.push(`  ${l+1}:   .`)),c||(s+=1,t.push(`  ${l+1}:       .`)),i.length||(s+=1,t.push(`  ${l+1}:        classes[].`))}),{errors:t,skipped:s,validCount:e.students.length+e.teachers.length-s}};function i0(){const{token:e}=xe(),[t,r]=m.useState(fu),[s,a]=m.useState(s0(fu)),[l,o]=m.useState(""),[c,i]=m.useState(!0),[d,p]=m.useState(!1),[u,f]=m.useState(""),[y,b]=m.useState(""),[N,k]=m.useState(null),[x,h]=m.useState(null),[g,w]=m.useState(!1),S=m.useMemo(()=>o0(t),[t]),F=I=>{a(I),b(""),h(null);const{parsed:L,error:E}=l0(I);if(E){f(E);return}f(""),r(a0(L))},M=async I=>{var P;const L=(P=I.target.files)==null?void 0:P[0];if(!L)return;const E=await L.text();o(L.name),F(E)},B=async()=>{if(!u)try{p(!0),b(""),h(null);const I=await pu(e,t,{dryRun:!0,autoCreateClasses:c});k(I),b("    .     .")}catch(I){f(I.message||"   .")}finally{p(!1)}},T=async()=>{try{p(!0),f("");const I=await pu(e,t,{autoCreateClasses:c});h(I),w(!1),b("   .")}catch(I){f(I.message||"  .")}finally{p(!1)}},_=!u&&(N||S.errors.length===0);return n.jsxs("div",{className:"page-enter space-y-5 p-1",children:[n.jsx(ut,{title:" ",subtitle:"  JSON       ."}),u?n.jsx("p",{className:"rounded-sm border border-danger/25 bg-danger/5 px-3 py-2 text-sm text-danger",children:u}):null,y?n.jsx("p",{className:"rounded-sm border border-success/25 bg-success/10 px-3 py-2 text-sm text-success",children:y}):null,n.jsxs("section",{className:"panel-card space-y-4",children:[n.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[n.jsxs("label",{className:"action-btn cursor-pointer",children:["  JSON",n.jsx("input",{type:"file",accept:"application/json,.json",className:"hidden",onChange:M})]}),n.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-text-secondary",children:[n.jsx("input",{type:"checkbox",checked:c,onChange:I=>i(I.target.checked)}),"    "]}),l?n.jsxs("span",{className:"caption-premium",children:[": ",l]}):null]}),n.jsxs("label",{className:"space-y-2",children:[n.jsx("span",{className:"caption-premium font-semibold text-text-primary",children:" JSON"}),n.jsx("textarea",{value:s,onChange:I=>F(I.target.value),className:"focus-ring min-h-[220px] w-full rounded-sm border border-border bg-white px-3 py-2 text-sm",dir:"ltr",spellCheck:!1})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("button",{type:"button",className:"action-btn",onClick:B,disabled:d||!!u,children:"  "}),n.jsx("button",{type:"button",className:"action-btn-primary",onClick:()=>w(!0),disabled:d||!_,children:" "})]})]}),n.jsxs("section",{className:"panel-card space-y-3",children:[n.jsx("h2",{className:"text-base font-semibold text-text-primary",children:" "}),n.jsxs("div",{className:"grid gap-3 md:grid-cols-3",children:[n.jsxs("article",{className:"rounded-sm border border-border bg-background px-3 py-2",children:[n.jsx("p",{className:"caption-premium",children:" "}),n.jsx("p",{className:"text-lg font-semibold text-text-primary",children:Number(t.students.length).toLocaleString("en-US")})]}),n.jsxs("article",{className:"rounded-sm border border-border bg-background px-3 py-2",children:[n.jsx("p",{className:"caption-premium",children:" "}),n.jsx("p",{className:"text-lg font-semibold text-text-primary",children:Number(t.teachers.length).toLocaleString("en-US")})]}),n.jsxs("article",{className:"rounded-sm border border-border bg-background px-3 py-2",children:[n.jsx("p",{className:"caption-premium",children:" "}),n.jsx("p",{className:"text-lg font-semibold text-text-primary",children:Number(Math.max(0,S.validCount)).toLocaleString("en-US")})]})]}),S.errors.length?n.jsxs("div",{className:"rounded-sm border border-warning/25 bg-warning/10 p-3",children:[n.jsx("p",{className:"mb-2 text-sm font-semibold text-warning",children:"  "}),n.jsx("ul",{className:"space-y-1 text-sm text-text-secondary",children:S.errors.slice(0,12).map(I=>n.jsxs("li",{children:["- ",I]},I))}),S.errors.length>12?n.jsxs("p",{className:"mt-2 text-xs text-text-secondary",children:["+",Number(S.errors.length-12).toLocaleString("en-US"),"  "]}):null]}):null]}),N?n.jsxs("section",{className:"panel-card space-y-2",children:[n.jsx("h2",{className:"text-base font-semibold text-text-primary",children:"   "}),n.jsxs("div",{className:"grid gap-3 md:grid-cols-4",children:[n.jsxs("article",{className:"rounded-sm border border-border bg-background px-3 py-2",children:[n.jsx("p",{className:"caption-premium",children:" "}),n.jsx("p",{className:"text-lg font-semibold text-text-primary",children:Number(N.importedStudents||0).toLocaleString("en-US")})]}),n.jsxs("article",{className:"rounded-sm border border-border bg-background px-3 py-2",children:[n.jsx("p",{className:"caption-premium",children:" "}),n.jsx("p",{className:"text-lg font-semibold text-text-primary",children:Number(N.importedTeachers||0).toLocaleString("en-US")})]}),n.jsxs("article",{className:"rounded-sm border border-border bg-background px-3 py-2",children:[n.jsx("p",{className:"caption-premium",children:" "}),n.jsx("p",{className:"text-lg font-semibold text-text-primary",children:Number(N.skipped||0).toLocaleString("en-US")})]}),n.jsxs("article",{className:"rounded-sm border border-border bg-background px-3 py-2",children:[n.jsx("p",{className:"caption-premium",children:""}),n.jsx("p",{className:"text-lg font-semibold text-text-primary",children:Number((N.errors||[]).length).toLocaleString("en-US")})]})]}),(N.errors||[]).length?n.jsxs("div",{className:"rounded-sm border border-warning/25 bg-warning/10 p-3",children:[n.jsx("p",{className:"mb-2 text-sm font-semibold text-warning",children:"  "}),n.jsx("ul",{className:"space-y-1 text-sm text-text-secondary",children:(N.errors||[]).slice(0,12).map(I=>n.jsxs("li",{children:["- [",I.role,"] #",I.index," ",I.email||"",": ",I.message]},`${I.role}-${I.index}-${I.email}-${I.code}`))})]}):null]}):null,x?n.jsxs("section",{className:"panel-card space-y-2",children:[n.jsx("h2",{className:"text-base font-semibold text-text-primary",children:"  "}),n.jsxs("div",{className:"grid gap-3 md:grid-cols-4",children:[n.jsxs("article",{className:"rounded-sm border border-border bg-background px-3 py-2",children:[n.jsx("p",{className:"caption-premium",children:" "}),n.jsx("p",{className:"text-lg font-semibold text-text-primary",children:Number(x.importedStudents||0).toLocaleString("en-US")})]}),n.jsxs("article",{className:"rounded-sm border border-border bg-background px-3 py-2",children:[n.jsx("p",{className:"caption-premium",children:" "}),n.jsx("p",{className:"text-lg font-semibold text-text-primary",children:Number(x.importedTeachers||0).toLocaleString("en-US")})]}),n.jsxs("article",{className:"rounded-sm border border-border bg-background px-3 py-2",children:[n.jsx("p",{className:"caption-premium",children:" "}),n.jsx("p",{className:"text-lg font-semibold text-text-primary",children:Number(x.skipped||0).toLocaleString("en-US")})]}),n.jsxs("article",{className:"rounded-sm border border-border bg-background px-3 py-2",children:[n.jsx("p",{className:"caption-premium",children:""}),n.jsx("p",{className:"text-lg font-semibold text-text-primary",children:Number(x.skippedDuplicates||0).toLocaleString("en-US")})]})]}),(x.errors||[]).length?n.jsxs("div",{className:"rounded-sm border border-warning/25 bg-warning/10 p-3",children:[n.jsx("p",{className:"mb-2 text-sm font-semibold text-warning",children:"  "}),n.jsx("ul",{className:"space-y-1 text-sm text-text-secondary",children:(x.errors||[]).slice(0,12).map(I=>n.jsxs("li",{children:["- [",I.role,"] #",I.index," ",I.email||"",": ",I.message]},`${I.role}-${I.index}-${I.email}-${I.code}`))})]}):null]}):null,g?n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/35 p-4",children:n.jsxs("div",{className:"animate-fadeUp w-full max-w-lg rounded-md border border-border bg-surface p-5 shadow-lg",children:[n.jsx("h3",{className:"text-lg font-semibold text-text-primary",children:"  "}),n.jsx("p",{className:"mt-2 text-sm text-text-secondary",children:"         ."}),n.jsxs("div",{className:"mt-3 grid gap-2 sm:grid-cols-2",children:[n.jsxs("p",{className:"rounded-sm border border-border bg-background px-3 py-2 text-sm",children:[": ",Number(t.students.length).toLocaleString("en-US")]}),n.jsxs("p",{className:"rounded-sm border border-border bg-background px-3 py-2 text-sm",children:[": ",Number(t.teachers.length).toLocaleString("en-US")]})]}),n.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[n.jsx("button",{type:"button",className:"action-btn",onClick:()=>w(!1),children:""}),n.jsx("button",{type:"button",className:"action-btn-primary",onClick:T,disabled:d,children:d?" ...":""})]})]})}):null]})}const c0={info:"bg-primary/10 text-primary border-primary/30",warning:"bg-warning/10 text-warning border-warning/30",danger:"bg-danger/10 text-danger border-danger/30"};function u0(){const{token:e}=xe(),[t,r]=m.useState(!0),[s,a]=m.useState(""),[l,o]=m.useState(null),[c,i]=m.useState([]);m.useEffect(()=>{let u=!0;return(async()=>{try{r(!0),a("");const[y,b]=await Promise.all([Ci(e),Ev(e)]);if(!u)return;o(y),i(b.incidents||[])}catch(y){u&&a((y==null?void 0:y.message)||"  .")}finally{u&&r(!1)}})(),()=>{u=!1}},[e]);const d=m.useMemo(()=>{var u,f;return l?[{id:"risk-high",level:Number(((u=l==null?void 0:l.riskIndex)==null?void 0:u.High)||0)>0?"danger":"info",title:"  ",description:`${Number(((f=l==null?void 0:l.riskIndex)==null?void 0:f.High)||0).toLocaleString("en-US")} `},{id:"pending-parent",level:Number((l==null?void 0:l.pendingResponses)||0)>0?"warning":"info",title:"   ",description:`${Number((l==null?void 0:l.pendingResponses)||0).toLocaleString("en-US")} `},{id:"flagged-parents",level:Number((l==null?void 0:l.flaggedParents)||0)>0?"warning":"info",title:"   ",description:`${Number((l==null?void 0:l.flaggedParents)||0).toLocaleString("en-US")} `},{id:"repeated-incidents",level:Number((l==null?void 0:l.repeatedIncidents)||0)>0?"warning":"info",title:"  ",description:`${Number((l==null?void 0:l.repeatedIncidents)||0).toLocaleString("en-US")} `}]:[]},[l]),p=m.useMemo(()=>(c||[]).filter(u=>u.severity==="high").slice(0,6),[c]);return n.jsxs("div",{className:"page-enter space-y-5 p-1",children:[n.jsx(ut,{title:"",subtitle:"       ."}),s?n.jsx("p",{className:"rounded-sm border border-danger/25 bg-danger/5 px-3 py-2 text-sm text-danger",children:s}):null,n.jsx("section",{className:"panel-card",children:t?n.jsxs("div",{className:"grid gap-3",children:[n.jsx("div",{className:"skeleton h-16"}),n.jsx("div",{className:"skeleton h-16"}),n.jsx("div",{className:"skeleton h-16"})]}):n.jsx("ol",{className:"relative mr-3 space-y-4 border-r border-border pr-6",children:d.map(u=>n.jsxs("li",{className:"relative",children:[n.jsx("span",{className:"absolute -right-[30px] top-1 h-3 w-3 rounded-full border-2 border-surface bg-primary"}),n.jsxs("article",{className:"rounded-sm border border-border bg-background p-4",children:[n.jsxs("div",{className:"mb-2 flex flex-wrap items-center justify-between gap-2",children:[n.jsx("h2",{className:"text-base font-semibold text-text-primary",children:u.title}),n.jsx("span",{className:`rounded-full border px-3 py-1 text-xs font-semibold ${c0[u.level]||"border-border bg-background text-text-secondary"}`,children:u.level})]}),n.jsx("p",{className:"text-sm text-text-secondary",children:u.description})]})]},u.id))})}),n.jsxs("section",{className:"panel-card",children:[n.jsx("h2",{className:"mb-3 text-base font-semibold text-text-primary",children:"   ()"}),t?n.jsxs("div",{className:"grid gap-2",children:[n.jsx("div",{className:"skeleton h-12"}),n.jsx("div",{className:"skeleton h-12"})]}):p.length?n.jsx("div",{className:"space-y-2",children:p.map(u=>n.jsxs("article",{className:"rounded-sm border border-border bg-background px-3 py-2",children:[n.jsxs("p",{className:"text-sm font-semibold text-text-primary",children:[u.studentName,"  ",u.className]}),n.jsxs("p",{className:"text-xs text-text-secondary",children:[u.subject,"  ",new Date(u.createdAt).toLocaleString("en-US")]})]},u.id))}):n.jsx("p",{className:"text-sm text-text-secondary",children:"     ."})]})]})}function d0(){var i;const{token:e}=xe(),[t,r]=m.useState(!0),[s,a]=m.useState(""),[l,o]=m.useState(null);m.useEffect(()=>{let d=!0;return(async()=>{try{r(!0),a("");const u=await mm(e);if(!d)return;o(u)}catch(u){d&&a(u.message||"  .")}finally{d&&r(!1)}})(),()=>{d=!1}},[e]);const c=m.useMemo(()=>l!=null&&l.totals?[{key:"students",title:" ",value:l.totals.students||0},{key:"teachers",title:" ",value:l.totals.teachers||0},{key:"classes",title:" ",value:l.totals.classes||0},{key:"subjects",title:" ",value:l.totals.subjects||0},{key:"feedbacks",title:"  ",value:l.totals.feedbacks||0},{key:"homeworks",title:" ",value:l.totals.homeworks||0}]:[],[l]);return n.jsxs("div",{className:"page-enter space-y-5 p-1",children:[n.jsx(ut,{title:"",subtitle:"       ."}),s?n.jsx("p",{className:"rounded-sm border border-danger/25 bg-danger/5 px-3 py-2 text-sm text-danger",children:s}):null,n.jsx("section",{className:"panel-card",children:t?n.jsxs("div",{className:"grid gap-3 sm:grid-cols-2 xl:grid-cols-3",children:[n.jsx("div",{className:"skeleton h-[112px]"}),n.jsx("div",{className:"skeleton h-[112px]"}),n.jsx("div",{className:"skeleton h-[112px]"}),n.jsx("div",{className:"skeleton h-[112px]"}),n.jsx("div",{className:"skeleton h-[112px]"}),n.jsx("div",{className:"skeleton h-[112px]"})]}):n.jsx("div",{className:"grid gap-3 sm:grid-cols-2 xl:grid-cols-3",children:c.map(d=>n.jsxs("article",{className:"panel-card-hover",children:[n.jsx("p",{className:"caption-premium",children:d.title}),n.jsx("p",{className:"mt-2 text-3xl font-bold text-text-primary",children:Number(d.value||0).toLocaleString("en-US")})]},d.key))})}),n.jsxs("section",{className:"panel-card",children:[n.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[n.jsx("h2",{className:"text-base font-semibold text-text-primary",children:" "}),n.jsx("p",{className:"caption-premium",children:l!=null&&l.generatedAt?` : ${new Date(l.generatedAt).toLocaleString("en-US")}`:""})]}),t?n.jsxs("div",{className:"grid gap-2",children:[n.jsx("div",{className:"skeleton h-12"}),n.jsx("div",{className:"skeleton h-12"})]}):n.jsxs("div",{className:"space-y-2",children:[((l==null?void 0:l.surveys)||[]).slice(0,8).map(d=>n.jsxs("article",{className:"rounded-sm border border-border bg-background p-3",children:[n.jsx("p",{className:"text-sm font-semibold text-text-primary",children:d.name}),n.jsxs("p",{className:"text-xs text-text-secondary",children:[": ",(d.audience||[]).join(", ")||"-"," | :"," ",Number(d.totalResponses||0).toLocaleString("en-US")]})]},d.id)),(i=l==null?void 0:l.surveys)!=null&&i.length?null:n.jsx("p",{className:"text-sm text-text-secondary",children:"   ."})]})]})]})}const bl={1:"",2:"",3:"",4:"",5:""},km={id:"",className:"",teacherId:"",subject:"",dayOfWeek:"1",startTime:"08:00",endTime:"08:45",room:""},hu=({classes:e,teachers:t,subjects:r})=>{var c,i;const s=((c=e[0])==null?void 0:c.name)||"",a=t[0]||null,o=(a==null?void 0:a.subject)||((i=a==null?void 0:a.subjects)==null?void 0:i[0])||""||r[0]||"";return{...km,className:s,teacherId:(a==null?void 0:a.id)||"",subject:o}};function p0(){const{token:e}=xe(),[t,r]=m.useState(!0),[s,a]=m.useState(!1),[l,o]=m.useState(""),[c,i]=m.useState(""),[d,p]=m.useState([]),[u,f]=m.useState([]),[y,b]=m.useState([]),[N,k]=m.useState([]),[x,h]=m.useState([]),[g,w]=m.useState({grade:"",teacherId:"",day:""}),[S,F]=m.useState(km),[M,B]=m.useState(""),T=m.useMemo(()=>u.find(C=>C.id===S.teacherId)||null,[u,S.teacherId]),_=m.useMemo(()=>{var R;if(!((R=T==null?void 0:T.classes)!=null&&R.length))return y;const C=new Set(T.classes);return y.filter(Z=>C.has(Z.name))},[y,T]),I=m.useMemo(()=>{const C=[T==null?void 0:T.subject,...Array.isArray(T==null?void 0:T.subjects)?T.subjects:[]].map(Z=>String(Z||"").trim()).filter(Boolean),R=[...new Set(C)];return R.length?R:N},[T,N]);m.useEffect(()=>{F(C=>{var K;const R=_.some(ce=>ce.name===C.className),Z=I.includes(C.subject),ee=R?C.className:((K=_[0])==null?void 0:K.name)||C.className,je=Z?C.subject:I[0]||C.subject;return ee===C.className&&je===C.subject?C:{...C,className:ee,subject:je}})},[_,I]);const L=async()=>{const C=await un(e),R=C.teachers||[],Z=C.classes||[],ee=C.availableSubjects||[];f(R),b(Z),k(ee);const je=[...new Set(Z.map(K=>String(K.grade||"").trim()).filter(Boolean))].sort((K,ce)=>K.localeCompare(ce));h(je),F(K=>{var ve;const ce=new Set(R.map(Ee=>Ee.id)),te=new Set(Z.map(Ee=>Ee.name)),dt=hu({classes:Z,teachers:R,subjects:ee}),et=R.find(Ee=>Ee.id===K.teacherId),pr=(et==null?void 0:et.subject)||((ve=et==null?void 0:et.subjects)==null?void 0:ve[0])||"";return{...dt,...K,className:te.has(K.className)?K.className:dt.className,teacherId:ce.has(K.teacherId)?K.teacherId:dt.teacherId,subject:K.subject||pr||dt.subject}})},E=async(C=g)=>{const R=await wv(e,C);p(R.entries||[])};m.useEffect(()=>{let C=!0;return(async()=>{try{if(r(!0),o(""),i(""),await L(),!C)return;await E()}catch(Z){C&&o((Z==null?void 0:Z.message)||"   .")}finally{C&&r(!1)}})(),()=>{C=!1}},[e]);const P=async C=>{const R={...g,...C};w(R);try{r(!0),o(""),i(""),await E(R)}catch(Z){o((Z==null?void 0:Z.message)||"  .")}finally{r(!1)}},W=C=>{var K;const R=u.find(ce=>ce.id===C),Z=(R==null?void 0:R.subject)||((K=R==null?void 0:R.subjects)==null?void 0:K[0])||"",ee=Array.isArray(R==null?void 0:R.classes)?R.classes:[],je=ee.includes(S.className)?S.className:ee[0]||S.className;F(ce=>({...ce,teacherId:C,className:je,subject:Z||ce.subject}))},Q=()=>{B(""),F(hu({classes:y,teachers:u,subjects:N}))},ye=async C=>{if(C.preventDefault(),!S.className||!S.teacherId||!S.subject||!S.dayOfWeek||!S.startTime||!S.endTime){o("      .");return}try{a(!0),o(""),i("");const R={className:S.className,teacherId:S.teacherId,subject:S.subject,dayOfWeek:Number(S.dayOfWeek),startTime:S.startTime,endTime:S.endTime,room:S.room};M?(await Sv(e,M,R),i("   .")):(await kv(e,R),i("   .")),await E(g),Q()}catch(R){o((R==null?void 0:R.message)||"   .")}finally{a(!1)}},D=C=>{B(C.id),o(""),i(""),F({id:C.id,className:C.className||"",teacherId:C.teacherId||"",subject:C.subject||"",dayOfWeek:String(C.dayOfWeek||""),startTime:C.startTime||"",endTime:C.endTime||"",room:C.room||""})},H=async C=>{if(window.confirm(`  : ${C.className} - ${C.subject}`))try{a(!0),o(""),i(""),await Cv(e,C.id),i("   ."),await E(g),M===C.id&&Q()}catch(R){o((R==null?void 0:R.message)||"  .")}finally{a(!1)}},V=m.useMemo(()=>d.slice().sort((C,R)=>C.dayOfWeek!==R.dayOfWeek?Number(C.dayOfWeek||0)-Number(R.dayOfWeek||0):String(C.startTime||"").localeCompare(String(R.startTime||""))),[d]);return n.jsxs("div",{className:"page-enter space-y-5 p-1",children:[n.jsx(ut,{title:" ",subtitle:"      ."}),l?n.jsx("p",{className:"rounded-sm border border-danger/25 bg-danger/5 px-3 py-2 text-sm text-danger",children:l}):null,c?n.jsx("p",{className:"rounded-sm border border-success/25 bg-success/10 px-3 py-2 text-sm text-success",children:c}):null,n.jsx("section",{className:"panel-card",children:n.jsxs("div",{className:"mb-3 grid gap-3 md:grid-cols-3",children:[n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-1 block text-xs text-text-secondary",children:""}),n.jsxs("select",{value:g.grade,onChange:C=>P({grade:C.target.value}),className:"focus-ring h-10 w-full rounded-sm border border-border bg-white px-3 text-sm",children:[n.jsx("option",{value:"",children:" "}),x.map(C=>n.jsx("option",{value:C,children:C},C))]})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-1 block text-xs text-text-secondary",children:""}),n.jsxs("select",{value:g.teacherId,onChange:C=>P({teacherId:C.target.value}),className:"focus-ring h-10 w-full rounded-sm border border-border bg-white px-3 text-sm",children:[n.jsx("option",{value:"",children:" "}),u.map(C=>n.jsx("option",{value:C.id,children:C.name},C.id))]})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-1 block text-xs text-text-secondary",children:""}),n.jsxs("select",{value:g.day,onChange:C=>P({day:C.target.value}),className:"focus-ring h-10 w-full rounded-sm border border-border bg-white px-3 text-sm",children:[n.jsx("option",{value:"",children:" "}),Object.entries(bl).map(([C,R])=>n.jsx("option",{value:C,children:R},C))]})]})]})}),n.jsxs("section",{className:"panel-card",children:[n.jsxs("div",{className:"mb-3 flex flex-wrap items-center justify-between gap-2",children:[n.jsx("h2",{className:"text-base font-semibold text-text-primary",children:M?" ":"  "}),M?n.jsx("button",{type:"button",className:"action-btn",onClick:Q,disabled:s,children:" "}):null]}),n.jsxs("form",{className:"grid gap-3 lg:grid-cols-4",onSubmit:ye,children:[n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-1 block text-xs text-text-secondary",children:""}),n.jsx("select",{value:S.className,onChange:C=>F(R=>({...R,className:C.target.value})),className:"focus-ring h-10 w-full rounded-sm border border-border bg-white px-3 text-sm",children:_.map(C=>n.jsx("option",{value:C.name,children:C.name},C.id))})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-1 block text-xs text-text-secondary",children:""}),n.jsx("select",{value:S.teacherId,onChange:C=>W(C.target.value),className:"focus-ring h-10 w-full rounded-sm border border-border bg-white px-3 text-sm",children:u.map(C=>n.jsx("option",{value:C.id,children:C.name},C.id))})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-1 block text-xs text-text-secondary",children:""}),n.jsx("select",{value:S.subject,onChange:C=>F(R=>({...R,subject:C.target.value})),className:"focus-ring h-10 w-full rounded-sm border border-border bg-white px-3 text-sm",children:I.map(C=>n.jsx("option",{value:C,children:C},C))})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-1 block text-xs text-text-secondary",children:""}),n.jsx("select",{value:S.dayOfWeek,onChange:C=>F(R=>({...R,dayOfWeek:C.target.value})),className:"focus-ring h-10 w-full rounded-sm border border-border bg-white px-3 text-sm",children:Object.entries(bl).map(([C,R])=>n.jsx("option",{value:C,children:R},`form-day-${C}`))})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-1 block text-xs text-text-secondary",children:" "}),n.jsx("input",{type:"time",value:S.startTime,onChange:C=>F(R=>({...R,startTime:C.target.value})),className:"focus-ring h-10 w-full rounded-sm border border-border px-3 text-sm"})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-1 block text-xs text-text-secondary",children:" "}),n.jsx("input",{type:"time",value:S.endTime,onChange:C=>F(R=>({...R,endTime:C.target.value})),className:"focus-ring h-10 w-full rounded-sm border border-border px-3 text-sm"})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-1 block text-xs text-text-secondary",children:""}),n.jsx("input",{type:"text",value:S.room,onChange:C=>F(R=>({...R,room:C.target.value})),className:"focus-ring h-10 w-full rounded-sm border border-border px-3 text-sm",placeholder:"A-12"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{type:"submit",className:"action-btn-primary h-10",disabled:s,children:M?" ":" "})})]})]}),n.jsx("section",{className:"panel-card",children:t?n.jsxs("div",{className:"grid gap-2",children:[n.jsx("div",{className:"skeleton h-12"}),n.jsx("div",{className:"skeleton h-12"}),n.jsx("div",{className:"skeleton h-12"})]}):V.length?n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full border-collapse text-right",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-border bg-background",children:[n.jsx("th",{className:"px-3 py-2 text-xs font-semibold text-text-secondary",children:""}),n.jsx("th",{className:"px-3 py-2 text-xs font-semibold text-text-secondary",children:""}),n.jsx("th",{className:"px-3 py-2 text-xs font-semibold text-text-secondary",children:""}),n.jsx("th",{className:"px-3 py-2 text-xs font-semibold text-text-secondary",children:""}),n.jsx("th",{className:"px-3 py-2 text-xs font-semibold text-text-secondary",children:""}),n.jsx("th",{className:"px-3 py-2 text-xs font-semibold text-text-secondary",children:""}),n.jsx("th",{className:"px-3 py-2 text-xs font-semibold text-text-secondary",children:""})]})}),n.jsx("tbody",{children:V.map(C=>n.jsxs("tr",{className:"border-b border-border/60",children:[n.jsx("td",{className:"px-3 py-3 text-sm text-text-primary",children:bl[C.dayOfWeek]||C.dayName}),n.jsxs("td",{className:"px-3 py-3 text-sm text-text-primary",children:[C.startTime," - ",C.endTime]}),n.jsx("td",{className:"px-3 py-3 text-sm text-text-primary",children:C.className}),n.jsx("td",{className:"px-3 py-3 text-sm text-text-primary",children:C.subject}),n.jsx("td",{className:"px-3 py-3 text-sm text-text-primary",children:C.teacherName||"-"}),n.jsx("td",{className:"px-3 py-3 text-sm text-text-secondary",children:C.room||"-"}),n.jsx("td",{className:"px-3 py-3 text-sm text-text-primary",children:n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("button",{type:"button",className:"action-btn",onClick:()=>D(C),disabled:s,children:""}),n.jsx("button",{type:"button",className:"action-btn",onClick:()=>H(C),disabled:s,children:""})]})})]},C.id))})]})}):n.jsx("p",{className:"text-sm text-text-secondary",children:"Schedule not yet assigned."})})]})}const Sm="edu_bridge_admin_settings",Bs={schoolName:" ",schoolEmail:"info@hikmah.school",sessionTimeoutMinutes:120},m0=()=>{if(typeof window>"u")return Bs;try{const e=window.localStorage.getItem(Sm),t=e?JSON.parse(e):{};return{...Bs,...t}}catch{return Bs}},f0=e=>{typeof window>"u"||window.localStorage.setItem(Sm,JSON.stringify(e))};function h0(){const[e,t]=m.useState(Bs),[r,s]=m.useState(""),[a,l]=m.useState("");m.useEffect(()=>{t(m0())},[]);const o=c=>{if(c.preventDefault(),!e.schoolName.trim()){l("  .");return}if(!e.schoolEmail.trim()){l("  .");return}f0(e),l(""),s("  .")};return n.jsxs("div",{className:"page-enter space-y-5 p-1",children:[n.jsx(ut,{title:"",subtitle:"    ."}),a?n.jsx("p",{className:"rounded-sm border border-danger/25 bg-danger/5 px-3 py-2 text-sm text-danger",children:a}):null,r?n.jsx("p",{className:"rounded-sm border border-success/25 bg-success/10 px-3 py-2 text-sm text-success",children:r}):null,n.jsxs("section",{className:"grid gap-4 lg:grid-cols-2",children:[n.jsxs("article",{className:"panel-card",children:[n.jsx("h2",{className:"mb-3 text-base font-semibold text-text-primary",children:" "}),n.jsxs("form",{className:"space-y-3",onSubmit:o,children:[n.jsxs("label",{className:"space-y-1",children:[n.jsx("span",{className:"caption-premium",children:" "}),n.jsx("input",{value:e.schoolName,onChange:c=>t(i=>({...i,schoolName:c.target.value})),className:"focus-ring w-full rounded-sm border border-border px-3 py-2 text-sm"})]}),n.jsxs("label",{className:"space-y-1",children:[n.jsx("span",{className:"caption-premium",children:" "}),n.jsx("input",{value:e.schoolEmail,onChange:c=>t(i=>({...i,schoolEmail:c.target.value})),className:"focus-ring w-full rounded-sm border border-border px-3 py-2 text-sm",dir:"ltr"})]}),n.jsxs("label",{className:"space-y-1",children:[n.jsx("span",{className:"caption-premium",children:"   ()"}),n.jsx("input",{type:"number",min:15,max:720,value:e.sessionTimeoutMinutes,onChange:c=>t(i=>({...i,sessionTimeoutMinutes:Number(c.target.value||120)})),className:"focus-ring w-full rounded-sm border border-border px-3 py-2 text-sm"})]}),n.jsx("button",{type:"submit",className:"action-btn-primary",children:" "})]})]}),n.jsxs("article",{className:"panel-card",children:[n.jsx("h2",{className:"mb-3 text-base font-semibold text-text-primary",children:" "}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"rounded-sm border border-border bg-background p-3",children:[n.jsx("p",{className:"text-sm font-semibold text-text-primary",children:"JWT "}),n.jsx("p",{className:"text-xs text-text-secondary",children:"       ."})]}),n.jsxs("div",{className:"rounded-sm border border-border bg-background p-3",children:[n.jsx("p",{className:"text-sm font-semibold text-text-primary",children:"  "}),n.jsx("p",{className:"text-xs text-text-secondary",children:"       ."})]}),n.jsxs("div",{className:"rounded-sm border border-border bg-background p-3",children:[n.jsx("p",{className:"text-sm font-semibold text-text-primary",children:" "}),n.jsx("p",{className:"text-xs text-text-secondary",children:"        ."})]})]})]})]})]})}const xu={fullName:"",email:"",password:"",className:""};function x0(){const{token:e}=xe(),[t,r]=m.useState(!0),[s,a]=m.useState(!1),[l,o]=m.useState(""),[c,i]=m.useState([]),[d,p]=m.useState([]),[u,f]=m.useState(xu),[y,b]=m.useState(""),[N,k]=m.useState(""),x=async()=>{try{r(!0),b("");const T=await un(e);i(T.students||[]),p(T.classes||[]),f(_=>{var I,L;return{..._,className:_.className||((L=(I=T.classes)==null?void 0:I[0])==null?void 0:L.name)||""}})}catch(T){b(T.message||"   .")}finally{r(!1)}};m.useEffect(()=>{x()},[]);const h=m.useMemo(()=>{const T=l.trim().toLowerCase();return T?c.filter(_=>{var I;return String(_.name||"").toLowerCase().includes(T)||String(_.email||"").toLowerCase().includes(T)||String(_.className||((I=_.classes)==null?void 0:I[0])||"").toLowerCase().includes(T)}):c},[l,c]),g=(T,_)=>{i(I=>I.map(L=>L.id===T?{...L,..._}:L))},w=async T=>{var _;T.preventDefault();try{a(!0),b(""),k(""),await Tv(e,{fullName:u.fullName,email:u.email,password:u.password,className:u.className}),f({...xu,className:((_=d[0])==null?void 0:_.name)||u.className}),k("   ."),await x()}catch(I){b(I.message||"  .")}finally{a(!1)}},S=async T=>{var _;try{a(!0),b(""),k(""),await fm(e,T.id,{fullName:T.name,email:T.email,className:T.className||((_=T.classes)==null?void 0:_[0])||""}),k("   ."),await x()}catch(I){b(I.message||"  .")}finally{a(!1)}},F=async T=>{const _=window.prompt(`     ${T.name}`,"");if(_)try{a(!0),b(""),k(""),await xm(e,T.id,_),k("    .")}catch(I){b(I.message||"    .")}finally{a(!1)}},M=async T=>{try{a(!0),b(""),k(""),await hm(e,T.id,!T.isActive),k(T.isActive?"  .":"  ."),g(T.id,{isActive:!T.isActive})}catch(_){b(_.message||"   .")}finally{a(!1)}},B=async T=>{if(window.confirm(`   ${T.name}`))try{a(!0),b(""),k(""),await gm(e,T.id),k("  ."),i(_=>_.filter(I=>I.id!==T.id))}catch(_){b(_.message||"  .")}finally{a(!1)}};return n.jsxs("div",{className:"page-enter space-y-5 p-1",children:[n.jsx(ut,{title:" ",subtitle:"       ."}),y?n.jsx("p",{className:"rounded-sm border border-danger/25 bg-danger/5 px-3 py-2 text-sm text-danger",children:y}):null,N?n.jsx("p",{className:"rounded-sm border border-success/25 bg-success/10 px-3 py-2 text-sm text-success",children:N}):null,n.jsxs("section",{className:"panel-card",children:[n.jsx("h2",{className:"mb-3 text-base font-semibold text-text-primary",children:"  "}),n.jsxs("form",{className:"grid gap-3 md:grid-cols-4",onSubmit:w,children:[n.jsx("input",{value:u.fullName,onChange:T=>f(_=>({..._,fullName:T.target.value})),className:"focus-ring rounded-sm border border-border px-3 py-2 text-sm",placeholder:" ",required:!0}),n.jsx("input",{value:u.email,onChange:T=>f(_=>({..._,email:T.target.value})),className:"focus-ring rounded-sm border border-border px-3 py-2 text-sm",placeholder:" ",dir:"ltr",required:!0}),n.jsx("input",{value:u.password,onChange:T=>f(_=>({..._,password:T.target.value})),className:"focus-ring rounded-sm border border-border px-3 py-2 text-sm",placeholder:" ",type:"password",required:!0}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("select",{value:u.className,onChange:T=>f(_=>({..._,className:T.target.value})),className:"focus-ring w-full rounded-sm border border-border bg-white px-3 py-2 text-sm",required:!0,children:d.map(T=>n.jsx("option",{value:T.name,children:T.name},T.id))}),n.jsx("button",{type:"submit",className:"action-btn-primary min-w-[96px]",disabled:s,children:""})]})]})]}),n.jsxs("section",{className:"panel-card space-y-4",children:[n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[n.jsx("h2",{className:"text-base font-semibold text-text-primary",children:" "}),n.jsx("input",{value:l,onChange:T=>o(T.target.value),className:"focus-ring min-w-[240px] rounded-sm border border-border px-3 py-2 text-sm",placeholder:"     "})]}),t?n.jsxs("div",{className:"grid gap-3",children:[n.jsx("div",{className:"skeleton h-16"}),n.jsx("div",{className:"skeleton h-16"}),n.jsx("div",{className:"skeleton h-16"})]}):n.jsxs("div",{className:"space-y-3",children:[h.length?null:n.jsx("p",{className:"text-sm text-text-secondary",children:"   ."}),h.map(T=>{var _;return n.jsx("article",{className:"rounded-sm border border-border bg-background p-3",children:n.jsxs("div",{className:"grid gap-2 lg:grid-cols-[1.2fr_1.5fr_1fr_auto]",children:[n.jsx("input",{value:T.name||"",onChange:I=>g(T.id,{name:I.target.value}),className:"focus-ring rounded-sm border border-border px-3 py-2 text-sm",placeholder:""}),n.jsx("input",{value:T.email||"",onChange:I=>g(T.id,{email:I.target.value}),className:"focus-ring rounded-sm border border-border px-3 py-2 text-sm",dir:"ltr",placeholder:""}),n.jsx("select",{value:T.className||((_=T.classes)==null?void 0:_[0])||"",onChange:I=>g(T.id,{className:I.target.value,classes:[I.target.value]}),className:"focus-ring rounded-sm border border-border bg-white px-3 py-2 text-sm",children:d.map(I=>n.jsx("option",{value:I.name,children:I.name},`${T.id}-${I.id}`))}),n.jsxs("div",{className:"flex flex-wrap justify-end gap-2",children:[n.jsx("button",{type:"button",className:"action-btn",onClick:()=>S(T),disabled:s,children:""}),n.jsx("button",{type:"button",className:"action-btn",onClick:()=>F(T),disabled:s,children:"  "}),n.jsx("button",{type:"button",className:"action-btn",onClick:()=>M(T),disabled:s,children:T.isActive?"":""}),n.jsx("button",{type:"button",className:"action-btn",onClick:()=>B(T),disabled:s,children:""})]})]})},T.id)})]})]})]})}function g0(){const{token:e}=xe(),[t,r]=m.useState(!0),[s,a]=m.useState(""),[l,o]=m.useState([]),[c,i]=m.useState([]);m.useEffect(()=>{let p=!0;return(async()=>{try{r(!0),a("");const f=await un(e);if(!p)return;o(f.availableSubjects||[]),i(f.teachers||[])}catch(f){p&&a(f.message||"   .")}finally{p&&r(!1)}})(),()=>{p=!1}},[e]);const d=m.useMemo(()=>l.map(p=>{const u=c.filter(y=>y.subject===p),f=new Set;return u.forEach(y=>{(y.classes||[]).forEach(b=>f.add(b))}),{name:p,teachersCount:u.length,classesCount:f.size}}),[l,c]);return n.jsxs("div",{className:"page-enter space-y-5 p-1",children:[n.jsx(ut,{title:" ",subtitle:"     ."}),s?n.jsx("p",{className:"rounded-sm border border-danger/25 bg-danger/5 px-3 py-2 text-sm text-danger",children:s}):null,n.jsx("section",{className:"panel-card",children:t?n.jsxs("div",{className:"grid gap-3 sm:grid-cols-2 xl:grid-cols-4",children:[n.jsx("div",{className:"skeleton h-[120px]"}),n.jsx("div",{className:"skeleton h-[120px]"}),n.jsx("div",{className:"skeleton h-[120px]"}),n.jsx("div",{className:"skeleton h-[120px]"})]}):n.jsx("div",{className:"grid gap-3 sm:grid-cols-2 xl:grid-cols-4",children:d.map(p=>n.jsxs("article",{className:"panel-card-hover",children:[n.jsx("h2",{className:"text-lg font-semibold text-text-primary",children:p.name}),n.jsxs("div",{className:"mt-2 space-y-1",children:[n.jsxs("p",{className:"caption-premium",children:[": ",Number(p.classesCount||0).toLocaleString("en-US")]}),n.jsxs("p",{className:"caption-premium",children:[": ",Number(p.teachersCount||0).toLocaleString("en-US")]})]})]},p.name))})})]})}const v0=[{value:"multiple_choice",label:"  "},{value:"rating",label:"  (1-5)"},{value:"text",label:" "}],Cm=()=>`${Date.now()}_${Math.random().toString(16).slice(2,8)}`,Em=()=>({id:Cm(),type:"multiple_choice",questionText:"",required:!0,options:["",""]}),gu={title:"",description:"",audience:["student"],questions:[Em()]},Fm=(e=[])=>e.map(t=>String(t||"").trim()).filter(Boolean),b0=e=>{const t=[];return String(e.title||"").trim()||t.push("  ."),(!Array.isArray(e.audience)||!e.audience.length)&&t.push("     (  )."),(!Array.isArray(e.questions)||!e.questions.length)&&t.push("    ."),e.questions.forEach((r,s)=>{if(String(r.questionText||"").trim()||t.push(` ${s+1}:   .`),r.type==="multiple_choice"){const a=Fm(r.options),l=new Set(a);a.length<2&&t.push(` ${s+1}:     .`),l.size!==a.length&&t.push(` ${s+1}:   .`)}}),t},y0=e=>({title:e.title||e.name||"",description:e.description||"",audience:Array.isArray(e.audience)&&e.audience.length?e.audience:["student"],questions:(e.questions||[]).map(t=>({id:t.questionId||Cm(),type:t.type||"text",questionText:t.questionText||t.prompt||"",required:!!t.required,options:t.type==="multiple_choice"?t.options||["",""]:[]}))});function j0(){const{token:e}=xe(),[t,r]=m.useState([]),[s,a]=m.useState(gu),[l,o]=m.useState(""),[c,i]=m.useState(!0),[d,p]=m.useState(!1),[u,f]=m.useState(""),[y,b]=m.useState(""),N=m.useMemo(()=>b0(s),[s]),k=async()=>{try{i(!0),f("");const L=await Mv(e);r(L.surveys||[])}catch(L){f(L.message||"  .")}finally{i(!1)}};m.useEffect(()=>{k()},[]);const x=(L,E)=>{a(P=>({...P,questions:P.questions.map(W=>W.id===L?{...W,...E}:W)}))},h=()=>{a(L=>({...L,questions:[...L.questions,Em()]}))},g=L=>{a(E=>({...E,questions:E.questions.filter(P=>P.id!==L)}))},w=L=>{const E=s.questions.find(P=>P.id===L);!E||E.type!=="multiple_choice"||x(L,{options:[...E.options,""]})},S=(L,E,P)=>{const W=s.questions.find(ye=>ye.id===L);if(!W)return;const Q=[...W.options||[]];Q[E]=P,x(L,{options:Q})},F=(L,E)=>{const P=s.questions.find(Q=>Q.id===L);if(!P)return;const W=(P.options||[]).filter((Q,ye)=>ye!==E);x(L,{options:W})},M=()=>{a(gu),o("")},B=async L=>{if(L.preventDefault(),N.length){f(N[0]);return}const E={title:s.title,description:s.description,audience:s.audience,questions:s.questions.map((P,W)=>({questionId:`q_${W+1}`,type:P.type,questionText:String(P.questionText||"").trim(),required:!!P.required,options:P.type==="multiple_choice"?Fm(P.options):[]}))};try{p(!0),f(""),b(""),l?(await Iv(e,l,E),b("   .")):(await Av(e,E),b("   .")),M(),await k()}catch(P){f(P.message||"  .")}finally{p(!1)}},T=L=>{f(""),b(""),o(L.id),a(y0(L))},_=async L=>{if(window.confirm(`   "${L.title||L.name}"`))try{p(!0),f(""),b(""),await Rv(e,L.id),b("  ."),l===L.id&&M(),await k()}catch(E){f(E.message||"  .")}finally{p(!1)}},I=L=>{a(E=>{const W=E.audience.includes(L)?E.audience.filter(Q=>Q!==L):[...E.audience,L];return{...E,audience:W}})};return n.jsxs("div",{className:"page-enter space-y-5 p-1",children:[n.jsx(ut,{title:" ",subtitle:"         ."}),u?n.jsx("p",{className:"rounded-sm border border-danger/25 bg-danger/5 px-3 py-2 text-sm text-danger",children:u}):null,y?n.jsx("p",{className:"rounded-sm border border-success/25 bg-success/10 px-3 py-2 text-sm text-success",children:y}):null,n.jsxs("section",{className:"panel-card",children:[n.jsx("h2",{className:"mb-3 text-base font-semibold text-text-primary",children:l?" ":"  "}),n.jsxs("form",{className:"space-y-4",onSubmit:B,children:[n.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[n.jsx("input",{value:s.title,onChange:L=>a(E=>({...E,title:L.target.value})),className:"focus-ring rounded-sm border border-border px-3 py-2 text-sm",placeholder:" ",required:!0}),n.jsx("input",{value:s.description,onChange:L=>a(E=>({...E,description:L.target.value})),className:"focus-ring rounded-sm border border-border px-3 py-2 text-sm",placeholder:"  ()"})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("button",{type:"button",onClick:()=>I("student"),className:`action-btn rounded-full px-3 py-1 text-xs ${s.audience.includes("student")?"border-transparent bg-primary text-white":""}`,children:""}),n.jsx("button",{type:"button",onClick:()=>I("teacher"),className:`action-btn rounded-full px-3 py-1 text-xs ${s.audience.includes("teacher")?"border-transparent bg-primary text-white":""}`,children:""})]}),n.jsx("div",{className:"space-y-3",children:s.questions.map((L,E)=>n.jsxs("article",{className:"animate-fadeUp rounded-sm border border-border bg-background p-3",children:[n.jsxs("div",{className:"mb-2 flex items-center justify-between gap-2",children:[n.jsxs("p",{className:"text-sm font-semibold text-text-primary",children:[" ",E+1]}),n.jsx("button",{type:"button",className:"action-btn",onClick:()=>g(L.id),disabled:s.questions.length===1,children:" "})]}),n.jsxs("div",{className:"grid gap-2 md:grid-cols-[1fr_190px_auto]",children:[n.jsx("input",{value:L.questionText,onChange:P=>x(L.id,{questionText:P.target.value}),className:"focus-ring rounded-sm border border-border px-3 py-2 text-sm",placeholder:" ",required:!0}),n.jsx("select",{value:L.type,onChange:P=>{const W=P.target.value;x(L.id,{type:W,options:W==="multiple_choice"?["",""]:[]})},className:"focus-ring rounded-sm border border-border bg-white px-3 py-2 text-sm",children:v0.map(P=>n.jsx("option",{value:P.value,children:P.label},`${L.id}-${P.value}`))}),n.jsxs("label",{className:"inline-flex items-center gap-2 rounded-sm border border-border bg-surface px-3 py-2 text-sm",children:[n.jsx("input",{type:"checkbox",checked:L.required,onChange:P=>x(L.id,{required:P.target.checked})}),""]})]}),L.type==="multiple_choice"?n.jsxs("div",{className:"mt-3 space-y-2",children:[n.jsx("p",{className:"text-xs font-semibold text-text-secondary",children:""}),(L.options||[]).map((P,W)=>n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{value:P,onChange:Q=>S(L.id,W,Q.target.value),className:"focus-ring w-full rounded-sm border border-border px-3 py-2 text-sm",placeholder:` ${W+1}`}),n.jsx("button",{type:"button",className:"action-btn",onClick:()=>F(L.id,W),disabled:(L.options||[]).length<=2,children:""})]},`${L.id}-option-${W}`)),n.jsx("button",{type:"button",className:"action-btn",onClick:()=>w(L.id),children:" "})]}):null]},L.id))}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("button",{type:"button",className:"action-btn",onClick:h,children:" "}),n.jsx("button",{type:"submit",className:"action-btn-primary",disabled:d,children:d?" ...":l?" ":" "}),l?n.jsx("button",{type:"button",className:"action-btn",onClick:M,children:" "}):null]})]})]}),n.jsxs("section",{className:"panel-card",children:[n.jsx("h2",{className:"mb-3 text-base font-semibold text-text-primary",children:" "}),c?n.jsxs("div",{className:"grid gap-3",children:[n.jsx("div",{className:"skeleton h-16"}),n.jsx("div",{className:"skeleton h-16"}),n.jsx("div",{className:"skeleton h-16"})]}):n.jsxs("div",{className:"space-y-2",children:[t.map(L=>n.jsx("article",{className:"rounded-sm border border-border bg-background p-3",children:n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-text-primary",children:L.title||L.name}),n.jsxs("p",{className:"text-xs text-text-secondary",children:[": ",Number((L.questions||[]).length).toLocaleString("en-US")," | :"," ",Number(L.totalResponses||0).toLocaleString("en-US")]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{type:"button",className:"action-btn",onClick:()=>T(L),children:""}),n.jsx("button",{type:"button",className:"action-btn",onClick:()=>_(L),children:""})]})]})},L.id)),t.length?null:n.jsx("p",{className:"text-sm text-text-secondary",children:"    ."})]})]})]})}const vu={fullName:"",email:"",password:"",subject:"",classes:[]};function N0(){const{token:e}=xe(),[t,r]=m.useState(!0),[s,a]=m.useState(!1),[l,o]=m.useState(""),[c,i]=m.useState([]),[d,p]=m.useState([]),[u,f]=m.useState([]),[y,b]=m.useState(vu),[N,k]=m.useState(""),[x,h]=m.useState(""),g=async()=>{try{r(!0),k("");const E=await un(e);i(E.teachers||[]),p(E.classes||[]),f(E.availableSubjects||[]),b(P=>{var W;return{...P,subject:P.subject||((W=E.availableSubjects)==null?void 0:W[0])||""}})}catch(E){k(E.message||"   .")}finally{r(!1)}};m.useEffect(()=>{g()},[]);const w=m.useMemo(()=>{const E=l.trim().toLowerCase();return E?c.filter(P=>String(P.name||"").toLowerCase().includes(E)||String(P.email||"").toLowerCase().includes(E)||String(P.subject||"").toLowerCase().includes(E)):c},[l,c]),S=(E,P)=>{i(W=>W.map(Q=>Q.id===E?{...Q,...P}:Q))},F=(E,P)=>{i(W=>W.map(Q=>{if(Q.id!==E)return Q;const D=(Q.classes||[]).includes(P)?(Q.classes||[]).filter(H=>H!==P):[...Q.classes||[],P];return{...Q,classes:D}}))},M=E=>{b(P=>{const W=P.classes.includes(E);return{...P,classes:W?P.classes.filter(Q=>Q!==E):[...P.classes,E]}})},B=async E=>{if(E.preventDefault(),!y.classes.length){k("     .");return}try{a(!0),k(""),h(""),await Fv(e,{fullName:y.fullName,email:y.email,password:y.password,subject:y.subject,classes:y.classes}),b({...vu,subject:u[0]||""}),h("   ."),await g()}catch(P){k(P.message||"  .")}finally{a(!1)}},T=async E=>{try{a(!0),k(""),h(""),await fm(e,E.id,{fullName:E.name,email:E.email}),await _v(e,E.id,{subject:E.subject,classes:E.classes||[]}),h("   ."),await g()}catch(P){k(P.message||"  .")}finally{a(!1)}},_=async E=>{const P=window.prompt(`     ${E.name}`,"");if(P)try{a(!0),k(""),h(""),await xm(e,E.id,P),h("    .")}catch(W){k(W.message||"    .")}finally{a(!1)}},I=async E=>{try{a(!0),k(""),h(""),await hm(e,E.id,!E.isActive),h(E.isActive?"  .":"  ."),S(E.id,{isActive:!E.isActive})}catch(P){k(P.message||"   .")}finally{a(!1)}},L=async E=>{if(window.confirm(`   ${E.name}`))try{a(!0),k(""),h(""),await gm(e,E.id),h("  ."),i(P=>P.filter(W=>W.id!==E.id))}catch(P){k(P.message||"  .")}finally{a(!1)}};return n.jsxs("div",{className:"page-enter space-y-5 p-1",children:[n.jsx(ut,{title:" ",subtitle:"     ."}),N?n.jsx("p",{className:"rounded-sm border border-danger/25 bg-danger/5 px-3 py-2 text-sm text-danger",children:N}):null,x?n.jsx("p",{className:"rounded-sm border border-success/25 bg-success/10 px-3 py-2 text-sm text-success",children:x}):null,n.jsxs("section",{className:"panel-card",children:[n.jsx("h2",{className:"mb-3 text-base font-semibold text-text-primary",children:"  "}),n.jsxs("form",{className:"grid gap-3 lg:grid-cols-5",onSubmit:B,children:[n.jsx("input",{value:y.fullName,onChange:E=>b(P=>({...P,fullName:E.target.value})),className:"focus-ring rounded-sm border border-border px-3 py-2 text-sm",placeholder:" ",required:!0}),n.jsx("input",{value:y.email,onChange:E=>b(P=>({...P,email:E.target.value})),className:"focus-ring rounded-sm border border-border px-3 py-2 text-sm",placeholder:" ",dir:"ltr",required:!0}),n.jsx("input",{value:y.password,onChange:E=>b(P=>({...P,password:E.target.value})),className:"focus-ring rounded-sm border border-border px-3 py-2 text-sm",placeholder:" ",type:"password",required:!0}),n.jsx("select",{value:y.subject,onChange:E=>b(P=>({...P,subject:E.target.value})),className:"focus-ring rounded-sm border border-border bg-white px-3 py-2 text-sm",required:!0,children:u.map(E=>n.jsx("option",{value:E,children:E},E))}),n.jsx("button",{type:"submit",className:"action-btn-primary",disabled:s,children:""})]}),n.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:d.map(E=>{const P=y.classes.includes(E.name);return n.jsx("button",{type:"button",onClick:()=>M(E.name),className:`action-btn rounded-full px-3 py-1 text-xs ${P?"border-transparent bg-primary text-white":""}`,children:E.name},`new-teacher-${E.id}`)})})]}),n.jsxs("section",{className:"panel-card space-y-4",children:[n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[n.jsx("h2",{className:"text-base font-semibold text-text-primary",children:" "}),n.jsx("input",{value:l,onChange:E=>o(E.target.value),className:"focus-ring min-w-[240px] rounded-sm border border-border px-3 py-2 text-sm",placeholder:"     "})]}),t?n.jsxs("div",{className:"grid gap-3",children:[n.jsx("div",{className:"skeleton h-16"}),n.jsx("div",{className:"skeleton h-16"}),n.jsx("div",{className:"skeleton h-16"})]}):n.jsxs("div",{className:"space-y-3",children:[w.length?null:n.jsx("p",{className:"text-sm text-text-secondary",children:"   ."}),w.map(E=>n.jsxs("article",{className:"rounded-sm border border-border bg-background p-3",children:[n.jsxs("div",{className:"grid gap-2 lg:grid-cols-[1.1fr_1.3fr_1fr_auto]",children:[n.jsx("input",{value:E.name||"",onChange:P=>S(E.id,{name:P.target.value}),className:"focus-ring rounded-sm border border-border px-3 py-2 text-sm",placeholder:""}),n.jsx("input",{value:E.email||"",onChange:P=>S(E.id,{email:P.target.value}),className:"focus-ring rounded-sm border border-border px-3 py-2 text-sm",dir:"ltr",placeholder:""}),n.jsx("select",{value:E.subject||"",onChange:P=>S(E.id,{subject:P.target.value}),className:"focus-ring rounded-sm border border-border bg-white px-3 py-2 text-sm",children:u.map(P=>n.jsx("option",{value:P,children:P},`${E.id}-${P}`))}),n.jsxs("div",{className:"flex flex-wrap justify-end gap-2",children:[n.jsx("button",{type:"button",className:"action-btn",onClick:()=>T(E),disabled:s,children:""}),n.jsx("button",{type:"button",className:"action-btn",onClick:()=>_(E),disabled:s,children:"  "}),n.jsx("button",{type:"button",className:"action-btn",onClick:()=>I(E),disabled:s,children:E.isActive?"":""}),n.jsx("button",{type:"button",className:"action-btn",onClick:()=>L(E),disabled:s,children:""})]})]}),n.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:d.map(P=>{const W=(E.classes||[]).includes(P.name);return n.jsx("button",{type:"button",onClick:()=>F(E.id,P.name),className:`action-btn rounded-full px-3 py-1 text-xs ${W?"border-transparent bg-primary text-white":""}`,children:P.name},`${E.id}-${P.id}`)})})]},E.id))]})]})]})}function ha({title:e,description:t,compact:r=!1}){return n.jsxs("div",{className:`flex flex-col items-center justify-center text-center rounded-md bg-slate-50 border border-border ${r?"py-8 px-6":"py-14 px-6"}`,children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-border mb-3"}),n.jsx("p",{className:"text-[15px] font-semibold text-text-primary",children:e}),t&&n.jsx("p",{className:"mt-1 text-[13px] text-text-secondary max-w-[260px]",children:t})]})}const w0=new Intl.DateTimeFormat("ar-SA",{day:"numeric",month:"short",year:"numeric"}),k0=new Intl.DateTimeFormat("ar-SA",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}),ls=e=>{if(!e)return"";const t=e instanceof Date?e:new Date(e);return Number.isNaN(t.getTime())?"":w0.format(t)},S0=e=>{if(!e)return"";const t=e instanceof Date?e:new Date(e);return Number.isNaN(t.getTime())?"":k0.format(t)},ot=(e,t=0)=>{const r=Number(e);return Number.isFinite(r)?new Intl.NumberFormat("ar-SA",{minimumFractionDigits:0,maximumFractionDigits:t}).format(r):"0"},C0=e=>{if(!e.length)return 0;const t=e.reduce((s,a)=>s+Number(a.score||0),0),r=e.reduce((s,a)=>s+Number(a.outOf||0),0);return r?t/r*100:0},E0=e=>e>=75?"#00C853":e>=50?"#FFB300":"#D32F2F",bu=e=>e>=90?{label:"",color:"#00C853"}:e>=75?{label:" ",color:"#2C7BE5"}:e>=60?{label:"",color:"#FFB300"}:e>=50?{label:"",color:"#F97316"}:{label:"",color:"#D32F2F"};function F0({rows:e=[]}){const t=C0(e),{label:r,color:s}=bu(t);return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"panel-card",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("span",{className:"text-[13px] font-semibold text-text-secondary",children:" "}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-[11px] font-semibold px-2 py-0.5 rounded-full",style:{background:s+"18",color:s},children:r}),n.jsxs("span",{className:"text-[22px] font-bold text-text-primary",children:[ot(t,1),""]})]})]}),n.jsx("div",{className:"h-2 rounded-full bg-border overflow-hidden",children:n.jsx("div",{className:"grade-fill h-full rounded-full",style:{width:`${Math.max(2,Math.min(100,t))}%`,background:E0(t)}})})]}),e.length?n.jsx("div",{className:"surface-card overflow-hidden",children:n.jsxs("table",{className:"w-full min-w-[480px] border-collapse",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-slate-50 border-b border-border",children:[n.jsx("th",{className:"text-right px-4 py-3 text-[11px] font-semibold text-text-secondary uppercase tracking-wide",children:""}),n.jsx("th",{className:"text-right px-4 py-3 text-[11px] font-semibold text-text-secondary uppercase tracking-wide",children:""}),n.jsx("th",{className:"text-right px-4 py-3 text-[11px] font-semibold text-text-secondary uppercase tracking-wide",children:""}),n.jsx("th",{className:"text-right px-4 py-3 text-[11px] font-semibold text-text-secondary uppercase tracking-wide",children:""})]})}),n.jsx("tbody",{children:e.map((a,l)=>{const o=a.outOf?Number(a.score)/Number(a.outOf)*100:0,{label:c,color:i}=bu(o);return n.jsxs("tr",{className:`border-b border-border last:border-0 premium-transition hover:bg-slate-50 ${l%2===0,""}`,children:[n.jsx("td",{className:"px-4 py-3 text-[14px] text-text-primary",children:a.assessment}),n.jsxs("td",{className:"px-4 py-3 text-[14px] font-bold text-text-primary",children:[ot(a.score)," / ",ot(a.outOf)]}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("span",{className:"text-[11px] font-semibold px-2 py-0.5 rounded-full",style:{background:i+"18",color:i},children:c})}),n.jsx("td",{className:"px-4 py-3 text-[13px] text-text-secondary",children:ls(a.date)})]},a.id)})})]})}):n.jsx(ha,{title:"   ",description:"    .",compact:!0})]})}const yu={:{bg:"#EFF6FF",color:"#2C7BE5"},:{bg:"#FFFBEB",color:"#D97706"},:{bg:"#F0FDF4",color:"#00C853"},:{bg:"#F8FAFC",color:"#475569"}};function T0({summary:e,recentFeedback:t=[]}){const r=[{label:"",value:(e==null?void 0:e.homeworkCount)??0,accent:"#2C7BE5"},{label:"",value:`${ot((e==null?void 0:e.averageGrade)??0,1)}`,accent:"#00C853"},{label:"",value:(e==null?void 0:e.feedbackCount)??0,accent:"#FFB300"}];return n.jsxs("aside",{className:"space-y-4",children:[n.jsxs("div",{className:"panel-card",children:[n.jsx("p",{className:"text-[12px] font-semibold text-text-secondary uppercase tracking-wide mb-3",children:" "}),n.jsx("div",{className:"space-y-2",children:r.map(s=>n.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-border last:border-0",children:[n.jsx("span",{className:"text-[13px] text-text-secondary",children:s.label}),n.jsx("strong",{className:"text-[16px] font-bold",style:{color:s.accent},children:s.value})]},s.label))})]}),n.jsxs("div",{className:"panel-card",children:[n.jsx("p",{className:"text-[12px] font-semibold text-text-secondary uppercase tracking-wide mb-3",children:" "}),t.length?n.jsx("div",{className:"space-y-3",children:t.slice(0,4).map(s=>{const a=yu[s.category]||yu.;return n.jsxs("div",{className:"pb-3 border-b border-border last:border-0 last:pb-0",children:[n.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1",children:[n.jsx("span",{className:"text-[10px] font-bold px-1.5 py-0.5 rounded-full",style:{background:a.bg,color:a.color},children:s.category}),n.jsx("span",{className:"text-[11px] text-text-secondary",children:ls(s.date)})]}),n.jsx("p",{className:"clamp-2 text-[12px] text-text-secondary leading-relaxed",children:s.preview})]},s.id)})}):n.jsx(ha,{title:"  ",compact:!0})]})]})}function P0({tabs:e=[],activeKey:t,onChange:r}){return n.jsx("div",{className:"flex gap-1 p-1 bg-slate-50 border border-border rounded-sm mb-5",children:e.map(s=>{const a=s.key===t;return n.jsx("button",{type:"button",role:"tab","aria-selected":a,onClick:()=>r==null?void 0:r(s.key),className:`flex-1 py-2 px-3 rounded-[6px] text-[13px] font-semibold premium-transition focus-ring
              ${a?"bg-surface text-primary shadow-sm border border-border":"text-text-secondary hover:text-text-primary"}`,children:s.label},s.key)})})}const L0=[{key:"posts",label:""},{key:"homework",label:""},{key:"grades",label:""}],_0={:{bg:"#F0FDF4",color:"#00C853"}," ":{bg:"#FEF2F2",color:"#D32F2F"}};function M0(){return n.jsx("svg",{viewBox:"0 0 20 20",fill:"none",className:"w-4 h-4","aria-hidden":"true",children:n.jsx("path",{d:"m4 7 6 6 6-6",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})}const ju=["#2C7BE5","#00C853","#FFB300","#D32F2F","#8B5CF6","#F97316","#14B8A6","#EC4899"];function A0({current:e,allSubjects:t,onSwitch:r}){const[s,a]=m.useState(!1),l=m.useRef(null);return m.useEffect(()=>{if(!s)return;const o=c=>{l.current&&!l.current.contains(c.target)&&a(!1)};return document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)},[s]),n.jsxs("div",{ref:l,className:"relative",children:[n.jsxs("button",{type:"button",onClick:()=>a(o=>!o),className:"action-btn flex items-center gap-2 focus-ring","aria-haspopup":"listbox","aria-expanded":s,children:[n.jsx("span",{className:"max-w-[130px] truncate",children:e.name}),n.jsx(M0,{})]}),s&&n.jsx("div",{role:"listbox","aria-label":" ",className:"absolute start-0 top-full z-30 mt-1 min-w-[200px] rounded-md border border-border bg-surface shadow-md animate-fadeUp overflow-hidden",children:t.map((o,c)=>{const i=ju[c%ju.length];return n.jsxs("button",{type:"button",role:"option","aria-selected":o.id===e.id,onClick:()=>{r(o.id),a(!1)},className:`flex w-full items-center gap-3 px-4 py-3 text-right text-[13px] premium-transition hover:bg-slate-50 focus-ring
                  ${o.id===e.id?"bg-slate-50 font-semibold text-text-primary":"text-text-secondary"}`,children:[n.jsx("div",{className:"w-1 h-6 rounded-full flex-shrink-0",style:{background:i}}),n.jsx("img",{src:o.image,alt:"","aria-hidden":!0,className:"w-7 h-7 object-contain flex-shrink-0"}),n.jsx("span",{className:"flex-1",children:o.name})]},o.id)})})]})}function I0({subject:e,allSubjects:t,recentFeedback:r,onBack:s,onSwitch:a}){var b,N;const[l,o]=m.useState("posts"),[c,i]=m.useState({});m.useEffect(()=>{o("posts"),i({}),window.scrollTo({top:0,behavior:"smooth"})},[e==null?void 0:e.id]);const d=m.useMemo(()=>{const k=(e==null?void 0:e.grades)||[];if(!k.length)return 0;const x=k.reduce((g,w)=>g+Number(w.score||0),0),h=k.reduce((g,w)=>g+Number(w.outOf||0),0);return h?x/h*100:0},[e==null?void 0:e.grades]),p=k=>i(x=>({...x,[k]:!x[k]})),u=()=>{const k=e.posts||[];return k.length?n.jsx("div",{className:"space-y-3",children:k.map(x=>{var w;const h=!!c[x.id],g=x.body.length>180;return n.jsxs("div",{className:"panel-card",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3 mb-2",children:[n.jsx("h4",{className:"text-[15px] font-semibold text-text-primary",children:x.title}),n.jsx("span",{className:"flex-shrink-0 text-[12px] text-text-secondary",children:ls(x.date)})]}),n.jsx("p",{className:`text-[14px] text-text-secondary leading-[1.8] ${h?"":"clamp-3"}`,children:x.body}),((w=x.attachments)==null?void 0:w.length)>0&&n.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:x.attachments.map(S=>n.jsx("span",{className:"text-[12px] text-text-secondary border border-border bg-slate-50 px-2.5 py-1 rounded-sm",children:S},S))}),g&&n.jsx("button",{type:"button",onClick:()=>p(x.id),className:"mt-2 text-[12px] font-semibold text-primary hover:opacity-80 focus-ring",children:h?"":" "})]},x.id)})}):n.jsx(ha,{title:"  ",description:"     .",compact:!0})},f=()=>{const k=e.homework||[];return k.length?n.jsx("div",{className:"space-y-3",children:k.map(x=>{const h=_0[x.status]||{bg:"#F8FAFC",color:"#475569"};return n.jsxs("div",{className:"panel-card",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3 mb-2",children:[n.jsx("h4",{className:"text-[15px] font-semibold text-text-primary",children:x.title}),n.jsx("span",{className:"flex-shrink-0 text-[11px] font-semibold px-2 py-0.5 rounded-full",style:{background:h.bg,color:h.color},children:x.status})]}),n.jsxs("p",{className:"text-[13px] text-text-secondary",children:[" : ",S0(x.dueDate)]}),x.attachment&&n.jsxs("p",{className:"mt-1 text-[13px] text-text-secondary",children:[": ",x.attachment]}),x.teacherComment&&n.jsxs("div",{className:"mt-3 bg-slate-50 border border-border rounded-sm px-3 py-2.5 text-[13px] text-text-secondary leading-relaxed",children:[" : ",x.teacherComment]})]},x.id)})}):n.jsx(ha,{title:"  ",description:"     .",compact:!0})},y={homeworkCount:((b=e.homework)==null?void 0:b.length)||0,averageGrade:d,feedbackCount:((N=e.feedbackItems)==null?void 0:N.length)||0};return n.jsxs("main",{dir:"rtl",className:"min-h-screen bg-background",children:[n.jsx("div",{className:"sticky top-0 z-20 bg-surface border-b border-border",children:n.jsxs("div",{className:"max-w-[1200px] mx-auto px-6 py-3 flex items-center justify-between gap-4",children:[n.jsx("button",{type:"button",onClick:s,className:"action-btn focus-ring pressable",children:" "}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:"text-[12px] text-text-secondary hidden sm:inline",children:" :"}),n.jsx(A0,{current:e,allSubjects:t,onSwitch:a})]})]})}),n.jsxs("div",{className:"max-w-[1200px] mx-auto px-6 py-8",children:[n.jsxs("div",{className:"surface-card mb-7 overflow-hidden",children:[n.jsx("div",{className:"h-1 w-full bg-primary"}),n.jsxs("div",{className:"flex items-center gap-5 p-6",children:[n.jsx("div",{className:"flex-shrink-0 w-20 h-20 flex items-center justify-center bg-slate-50 rounded-md border border-border",children:n.jsx("img",{src:e.image,alt:e.name,className:"w-14 h-14 object-contain"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"h2-premium",children:e.name}),n.jsxs("p",{className:"text-[14px] text-text-secondary mt-1",children:[": ",e.teacher]}),n.jsxs("p",{className:"text-[13px] text-text-secondary mt-0.5",children:[" : ",n.jsxs("strong",{className:"text-text-primary",children:[Number(d).toFixed(1),""]})]})]})]})]}),n.jsxs("div",{className:"grid gap-6 lg:grid-cols-[minmax(0,7fr)_minmax(0,3fr)]",children:[n.jsxs("div",{children:[n.jsx(P0,{tabs:L0,activeKey:l,onChange:o}),l==="posts"?u():l==="homework"?f():n.jsx(F0,{rows:e.grades||[]})]}),n.jsx(T0,{summary:y,recentFeedback:e.feedbackItems||[]})]})]})]})}const R0="/edu-bridge/assets/arabic-DpzAsG7P.png",z0="/edu-bridge/assets/biology-CLN4ZAM2.png",O0="/edu-bridge/assets/chemistry-CXjPhEZn.png",D0="/edu-bridge/assets/islamic-studies-BCn_swsR.png",ko="/edu-bridge/assets/math-Bl34fPvW.png",$0="/edu-bridge/assets/physics-Dst6CiM8.png",B0="/edu-bridge/assets/social-studies-CLGdCg6t.png",U0="/edu-bridge/assets/english-CoFe_4wl.png",Cs={:ko," ":R0,:$0,:O0,:z0," ":B0," ":D0," ":U0};function W0(e){if(!e)return ko;if(Cs[e])return Cs[e];const t=Object.keys(Cs).find(r=>e.includes(r)||r.includes(e));return t?Cs[t]:ko}const H0={academic:"",moral:"",behavior:"",idfk:""},Nu=e=>H0[String(e||"").trim().toLowerCase()]||e||"",st=["#2C7BE5","#00C853","#FFB300","#D32F2F","#8B5CF6","#F97316","#14B8A6"],V0={improving:" ",declining:" ",stable:""},Tm={low:{label:"",color:"#00C853"},medium:{label:"",color:"#FFB300"},high:{label:"",color:"#D32F2F"}},Q0={active:" ",moderate:"",low:" "},xa={:{bg:"#EFF6FF",c:"#2C7BE5"},:{bg:"#FFFBEB",c:"#D97706"},:{bg:"#F0FDF4",c:"#00C853"},:{bg:"#F8FAFC",c:"#475569"}},G0={1:"",2:"",3:"",4:"",5:""},wu=["#2C7BE5","#00C853","#FFB300","#D32F2F","#8B5CF6","#F97316","#14B8A6","#EC4899"],ku=["",""," "," "," ","",""," "," "];function Y0(e){return[...e].sort((t,r)=>{const s=ku.findIndex(c=>{var i;return((i=t.name)==null?void 0:i.includes(c))||c.includes(t.name||"")}),a=ku.findIndex(c=>{var i;return((i=r.name)==null?void 0:i.includes(c))||c.includes(r.name||"")});return(s===-1?999:s)-(a===-1?999:a)})}const Ie={dashboard:"dashboard",grades:"grades",schedule:"schedule",ai:"ai",notes:"notes",profile:"profile"},K0=[{id:Ie.dashboard,label:"",icon:""},{id:Ie.grades,label:"",icon:""},{id:Ie.schedule,label:" ",icon:""},{id:Ie.ai,label:" ",icon:""},{id:Ie.notes,label:"",icon:""},{id:Ie.profile,label:"",icon:""}];function za({d:e,size:t=18}){return n.jsx("svg",{viewBox:"0 0 24 24",fill:"none",style:{width:t,height:t,flexShrink:0},"aria-hidden":"true",children:n.jsx("path",{d:e,stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}const X0=()=>n.jsx(za,{d:"M12 3a4 4 0 0 0-4 4v2.2c0 .8-.2 1.6-.7 2.3L6 13.4v1.1h12v-1.1l-1.3-1.9a4.2 4.2 0 0 1-.7-2.3V7a4 4 0 0 0-4-4Zm-2 14a2 2 0 0 0 4 0"}),Fi=()=>n.jsx(za,{d:"m15 18-6-6 6-6"}),J0=()=>n.jsx(za,{d:"m9 18 6-6-6-6"}),Z0=()=>n.jsx(za,{d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"});function q0({value:e,decimals:t=0,suffix:r=""}){const[s,a]=m.useState(0),l=m.useRef(null);return m.useEffect(()=>{const o=parseFloat(e)||0,c=900,i=performance.now(),d=0,p=u=>{const f=u-i,y=Math.min(f/c,1),b=1-Math.pow(1-y,3);a(d+(o-d)*b),y<1&&(l.current=requestAnimationFrame(p))};return l.current=requestAnimationFrame(p),()=>cancelAnimationFrame(l.current)},[e]),n.jsxs(n.Fragment,{children:[ot&&t>0?Number(s).toFixed(t):Math.round(s),r]})}function eb({studentName:e,avatarUrl:t,notifCount:r,onLogout:s}){return n.jsx("nav",{className:"premium-topnav",children:n.jsxs("div",{className:"premium-topnav-inner",children:[n.jsxs("div",{className:"nav-identity",children:[t?n.jsx("img",{src:t,alt:e,className:"nav-avatar"}):n.jsx("div",{className:"nav-avatar-placeholder",children:(e==null?void 0:e[0])||""}),n.jsx("div",{className:"nav-student-info",children:n.jsx("span",{className:"nav-student-name",children:e})})]}),n.jsx("div",{style:{flex:1}}),n.jsxs("div",{className:"nav-actions",children:[n.jsxs("button",{type:"button","aria-label":"",className:"nav-action-btn relative",children:[n.jsx(X0,{}),r>0&&n.jsx("span",{className:"nav-badge",children:r>9?"9+":r})]}),n.jsxs("button",{type:"button",onClick:s,className:"nav-action-btn nav-logout",children:[n.jsx(Z0,{}),n.jsx("span",{className:"nav-logout-label",children:""})]})]})]})})}function tb({activeTab:e,onTabChange:t}){return n.jsx("div",{className:"tabbar-wrap",children:n.jsx("div",{className:"tabbar-inner",role:"tablist",children:K0.map(r=>n.jsxs("button",{role:"tab","aria-selected":e===r.id,type:"button",onClick:()=>t(r.id),className:`tabbar-tab ${e===r.id?"tabbar-tab-active":""}`,children:[n.jsx("span",{className:"tabbar-icon",children:r.icon}),n.jsx("span",{children:r.label}),e===r.id&&n.jsx("span",{className:"tabbar-underline"})]},r.id))})})}function rb({subjects:e,onSelect:t}){const r=m.useRef(null),s=m.useRef(!1),a=m.useRef(0),l=m.useRef(0),o=m.useRef(0),c=m.useRef(0),i=m.useRef(0),d=m.useRef(null),p=m.useCallback(b=>{s.current=!0,a.current=b.pageX-r.current.offsetLeft,l.current=r.current.scrollLeft,o.current=0,c.current=b.pageX,i.current=Date.now(),r.current.style.cursor="grabbing",cancelAnimationFrame(d.current)},[]),u=m.useCallback(b=>{if(!s.current)return;b.preventDefault();const N=Date.now(),k=N-i.current||1,x=b.pageX-c.current;o.current=x/k,c.current=b.pageX,i.current=N;const g=(b.pageX-r.current.offsetLeft-a.current)*1.2;r.current.scrollLeft=l.current-g},[]),f=m.useCallback(()=>{if(!s.current)return;s.current=!1,r.current&&(r.current.style.cursor="grab");let b=o.current*16;const N=()=>{r.current&&(b*=.93,!(Math.abs(b)<.5)&&(r.current.scrollLeft-=b,d.current=requestAnimationFrame(N)))};d.current=requestAnimationFrame(N)},[]),y=b=>{var N;(N=r.current)==null||N.scrollBy({left:b*-280,behavior:"smooth"})};return n.jsxs("div",{className:"carousel-wrapper",children:[n.jsx("button",{type:"button",className:"carousel-arrow carousel-arrow-start",onClick:()=>y(-1),"aria-label":"",children:n.jsx(J0,{})}),n.jsx("div",{ref:r,className:"carousel-track",onMouseDown:p,onMouseMove:u,onMouseUp:f,onMouseLeave:f,children:e.map((b,N)=>{const k=st[N%st.length];return n.jsxs("button",{type:"button",draggable:!1,className:"carousel-card",onClick:()=>t(b.id),style:{"--accent":k},children:[n.jsx("div",{className:"carousel-card-accent-bar",style:{background:k}}),n.jsx("div",{className:"carousel-card-img-zone",children:n.jsx("img",{src:b.image,alt:b.name,draggable:!1,className:"carousel-card-img"})}),n.jsxs("div",{className:"carousel-card-info",children:[n.jsx("p",{className:"carousel-card-name",children:b.name}),n.jsx("p",{className:"carousel-card-teacher",children:b.teacher}),n.jsx("p",{className:"carousel-card-cta",style:{color:k},children:"  "})]}),n.jsx("div",{className:"carousel-card-hover-glow",style:{"--accent":k}})]},b.id)})}),n.jsx("button",{type:"button",className:"carousel-arrow carousel-arrow-end",onClick:()=>y(1),"aria-label":"",children:n.jsx(Fi,{})})]})}function nb({label:e,value:t,accent:r,icon:s,delay:a=0}){return n.jsxs("div",{className:"metric-card-premium",style:{"--accent":r,animationDelay:`${a}ms`},children:[n.jsx("div",{className:"metric-card-icon",style:{background:`${r}15`,color:r},children:s}),n.jsxs("div",{children:[n.jsxs("p",{className:"metric-card-value",style:{color:r},children:[n.jsx(q0,{value:parseFloat(String(t).replace("%","").replace("","")),decimals:String(t).includes(".")?1:0}),String(t).includes("%")||String(t).includes("")?"":""]}),n.jsx("p",{className:"metric-card-label",children:e})]})]})}function sb({studentName:e,className:t,avatarUrl:r}){const s=new Date().getHours(),a=s<12?" ":s<17?" ":" ";return n.jsxs("div",{className:"welcome-card",children:[n.jsx("div",{className:"welcome-card-bg"}),n.jsxs("div",{className:"welcome-card-content",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"welcome-greeting",children:[a,""]}),n.jsx("h1",{className:"welcome-name",children:e}),t&&n.jsxs("p",{className:"welcome-class",children:[" ",t]}),n.jsx("p",{className:"welcome-subtitle",children:"     "})]}),n.jsx("div",{className:"welcome-avatar-wrap",children:r?n.jsx("img",{src:r,alt:e,className:"welcome-avatar"}):n.jsx("div",{className:"welcome-avatar-placeholder",children:(e==null?void 0:e[0])||""})})]})]})}function ab({portalData:e,subjects:t,onSelectSubject:r,onTabChange:s}){const a=(e==null?void 0:e.recentFeedback)||[],l=e==null?void 0:e.weeklySnapshot,o=t.flatMap(u=>u.grades||[]),c=(()=>{const u=o.reduce((y,b)=>y+Number(b.score||0),0),f=o.reduce((y,b)=>y+Number(b.outOf||0),0);return f?u/f*100:0})(),i=t.reduce((u,f)=>{var y;return u+(((y=f.homework)==null?void 0:y.length)||0)},0),d=[{label:" ",value:`${ot(c,1)}%`,accent:"#2C7BE5",icon:""},{label:" ",value:t.length,accent:"#8B5CF6",icon:""},{label:"",value:i,accent:"#00C853",icon:""},{label:"",value:a.length,accent:"#F97316",icon:""}],p=a.slice(0,3);return n.jsxs("div",{className:"tab-content fade-in-up",children:[n.jsx("div",{className:"welcome-section"}),n.jsx("div",{className:"metrics-row",children:d.map((u,f)=>n.jsx(nb,{...u,delay:f*60},u.label))}),n.jsxs("section",{className:"section-block",children:[n.jsxs("div",{className:"section-header",children:[n.jsx("h2",{className:"section-title-premium",children:" "}),n.jsx("p",{className:"section-subtitle-premium",children:"    "})]}),t.length>0?n.jsx(rb,{subjects:t,onSelect:r}):n.jsx("div",{className:"empty-card",children:n.jsx("p",{className:"empty-title",children:"   "})})]}),n.jsxs("div",{className:"dashboard-bottom-grid",children:[n.jsxs("div",{className:"section-block",children:[n.jsxs("div",{className:"section-header",children:[n.jsx("h3",{className:"section-title-sm",children:" "}),a.length>0&&n.jsxs("button",{type:"button",className:"view-all-btn",onClick:()=>s(Ie.notes),children:["  (",a.length,")"]})]}),p.length?n.jsx("div",{className:"notes-list",children:p.map(u=>{const f=xa[u.category]||xa.;return n.jsxs("div",{className:"note-row",children:[n.jsx("div",{className:"note-dot",style:{background:f.c}}),n.jsxs("div",{className:"note-body",children:[n.jsxs("div",{className:"note-header",children:[n.jsx("span",{className:"note-subject",children:u.subjectName}),n.jsx("span",{className:"note-badge",style:{background:f.bg,color:f.c},children:u.category})]}),n.jsx("p",{className:"note-preview clamp-2",children:u.preview})]}),n.jsx("span",{className:"note-date",children:ls(u.date)})]},u.id)})}):n.jsx("div",{className:"empty-card-sm",children:n.jsx("p",{className:"empty-hint",children:"   "})})]}),l&&n.jsxs("div",{className:"ai-entry-card",onClick:()=>s(Ie.ai),children:[n.jsx("div",{className:"ai-entry-icon",children:""}),n.jsxs("div",{className:"ai-entry-info",children:[n.jsx("p",{className:"ai-entry-title",children:"  "}),n.jsxs("p",{className:"ai-entry-sub",children:[V0[l.academicDirection]||"",l.riskStatus&&`   ${(Tm[l.riskStatus]||{}).label||""}`]})]}),n.jsx("div",{className:"ai-entry-arrow",children:n.jsx(Fi,{})})]})]})]})}function lb({subjects:e}){const[t,r]=m.useState(0),s=e[t],a=m.useMemo(()=>{if(!s)return 0;const c=s.grades||[],i=c.reduce((p,u)=>p+Number(u.score||0),0),d=c.reduce((p,u)=>p+Number(u.outOf||0),0);return d?i/d*100:0},[s,t]),l=a>=90?{label:"",color:"#00C853",bg:"#F0FDF4"}:a>=80?{label:" ",color:"#2C7BE5",bg:"#EFF6FF"}:a>=70?{label:"",color:"#FFB300",bg:"#FFFBEB"}:a>=60?{label:"",color:"#F97316",bg:"#FFF7ED"}:{label:" ",color:"#D32F2F",bg:"#FEF2F2"};if(!e.length)return n.jsx("div",{className:"tab-content fade-in-up",children:n.jsx("div",{className:"empty-card",children:n.jsx("p",{className:"empty-title",children:"  "})})});const o=(s==null?void 0:s.grades)||[];return o.filter(c=>c.type==="exam"||!c.type),o.filter(c=>c.type==="assignment"),o.filter(c=>c.type==="quiz"),n.jsxs("div",{className:"tab-content fade-in-up",children:[n.jsxs("div",{className:"tab-page-header",children:[n.jsx("h2",{className:"tab-page-title",children:""}),n.jsx("p",{className:"tab-page-sub",children:"    "})]}),n.jsx("div",{className:"subject-pills-scroll",children:e.map((c,i)=>{const d=st[i%st.length];return n.jsxs("button",{type:"button",onClick:()=>r(i),className:`subject-pill ${t===i?"subject-pill-active":""}`,style:t===i?{background:d,borderColor:d,color:"#fff"}:{},children:[n.jsx("img",{src:c.image,alt:"",className:"subject-pill-img"}),c.name]},c.id)})}),s&&n.jsxs("div",{className:"grades-display fade-in-up",children:[n.jsxs("div",{className:"grade-subject-header",children:[n.jsxs("div",{className:"grade-subject-left",children:[n.jsx("img",{src:s.image,alt:s.name,className:"grade-subject-img"}),n.jsxs("div",{children:[n.jsx("h3",{className:"grade-subject-name",children:s.name}),n.jsx("p",{className:"grade-subject-teacher",children:s.teacher})]})]}),n.jsxs("div",{className:"grade-subject-right",children:[n.jsx("span",{className:"grade-badge",style:{background:l.bg,color:l.color},children:l.label}),n.jsxs("p",{className:"grade-avg",style:{color:st[t%st.length]},children:[ot(a,1),""]})]})]}),n.jsx("div",{className:"grade-progress-wrap",children:n.jsx("div",{className:"grade-progress-track",children:n.jsx("div",{className:"grade-progress-fill",style:{width:`${a}%`,background:st[t%st.length]}})})}),o.length===0?n.jsx("div",{className:"empty-card-sm",children:n.jsx("p",{className:"empty-hint",children:"   "})}):n.jsx("div",{className:"grades-table-wrap",children:n.jsxs("table",{className:"grades-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:""}),n.jsx("th",{children:""}),n.jsx("th",{children:" "}),n.jsx("th",{children:""})]})}),n.jsx("tbody",{children:o.map((c,i)=>{const d=c.outOf?Number(c.score)/Number(c.outOf)*100:0,p=d>=90?"#00C853":d>=70?"#2C7BE5":d>=50?"#FFB300":"#D32F2F";return n.jsxs("tr",{className:"grade-row",children:[n.jsx("td",{className:"grade-cell-name",children:c.name||c.label||` ${i+1}`}),n.jsx("td",{className:"grade-cell-score",style:{color:p},children:c.score}),n.jsx("td",{className:"grade-cell-out",children:c.outOf}),n.jsx("td",{children:n.jsxs("span",{className:"grade-pct-badge",style:{background:`${p}15`,color:p},children:[ot(d,1),""]})})]},i)})})]})})]},s.id)]})}function ob({token:e}){const[t,r]=m.useState(!0),[s,a]=m.useState(""),[l,o]=m.useState({className:"",entries:[],schoolDays:[1,2,3,4,5]});m.useEffect(()=>{let p=!0;return(async()=>{try{r(!0),a("");const f=await cm(e);if(!p)return;o({className:f.className||"",entries:f.entries||[],schoolDays:f.schoolDays||[1,2,3,4,5]})}catch(f){p&&a((f==null?void 0:f.message)||"   .")}finally{p&&r(!1)}})(),()=>{p=!1}},[e]);const c=m.useMemo(()=>[...new Set((l.entries||[]).map(u=>`${u.startTime}-${u.endTime}`))].sort((u,f)=>String(u).localeCompare(String(f))),[l.entries]),i=m.useMemo(()=>{const p={};return(l.entries||[]).forEach(u=>{p[`${u.dayOfWeek}-${u.startTime}-${u.endTime}`]=u}),p},[l.entries]),d=m.useMemo(()=>{const p={};let u=0;return(l.entries||[]).forEach(f=>{f.subject&&!p[f.subject]&&(p[f.subject]=wu[u%wu.length],u++)}),p},[l.entries]);return n.jsxs("div",{className:"tab-content fade-in-up",children:[n.jsxs("div",{className:"tab-page-header",children:[n.jsx("h2",{className:"tab-page-title",children:" "}),l.className&&n.jsxs("p",{className:"tab-page-sub",children:[" ",l.className]})]}),s&&n.jsx("div",{className:"error-banner-premium",children:s}),t?n.jsx("div",{className:"sched-skeleton",children:[1,2,3,4].map(p=>n.jsx("div",{className:"skeleton-row"},p))}):l.entries.length?n.jsx("div",{className:"schedule-card",children:n.jsx("div",{className:"schedule-table-wrap",children:n.jsxs("table",{className:"schedule-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{className:"sched-time-col",children:""}),l.schoolDays.map(p=>n.jsx("th",{className:"sched-day-col",children:G0[p]||p},p))]})}),n.jsx("tbody",{children:c.map((p,u)=>{const[f,y]=p.split("-");return n.jsxs("tr",{className:`sched-row ${u%2===0?"":"sched-row-alt"}`,children:[n.jsxs("td",{className:"sched-time",children:[f,"  ",y]}),l.schoolDays.map(b=>{const N=i[`${b}-${f}-${y}`],k=N?d[N.subject]||"#2C7BE5":null;return n.jsx("td",{className:"sched-cell",children:N?n.jsxs("div",{className:"sched-entry",style:{borderRightColor:k},children:[n.jsx("p",{className:"sched-entry-subject",children:N.subject}),N.teacherName&&n.jsx("p",{className:"sched-entry-teacher",children:N.teacherName}),N.room&&n.jsx("p",{className:"sched-entry-room",children:N.room})]}):n.jsx("div",{className:"sched-empty-cell"})},`${b}-${p}`)})]},p)})})]})})}):n.jsxs("div",{className:"empty-card",children:[n.jsx("div",{className:"empty-icon",children:""}),n.jsx("p",{className:"empty-title",children:"    "}),n.jsx("p",{className:"empty-hint",children:"       ."})]})]})}function Su({pct:e=0,color:t="#2C7BE5",size:r=80,stroke:s=6}){const a=(r-s)/2,l=2*Math.PI*a,o=e/100*l;return n.jsxs("svg",{width:r,height:r,style:{transform:"rotate(-90deg)",flexShrink:0},children:[n.jsx("circle",{cx:r/2,cy:r/2,r:a,fill:"none",stroke:"#F1F5F9",strokeWidth:s}),n.jsx("circle",{cx:r/2,cy:r/2,r:a,fill:"none",stroke:t,strokeWidth:s,strokeDasharray:`${o} ${l}`,strokeLinecap:"round",style:{transition:"stroke-dasharray 1.2s cubic-bezier(0.16,1,0.3,1)"}})]})}function ib({snap:e,subjects:t,portalData:r}){if(!e)return n.jsx("div",{className:"tab-content fade-in-up",children:n.jsxs("div",{className:"empty-card",children:[n.jsx("div",{className:"empty-icon",children:""}),n.jsx("p",{className:"empty-title",children:"    "}),n.jsx("p",{className:"empty-hint",children:"      ."})]})});const s=Tm[e.riskStatus]||{label:e.riskStatus||"",color:"#475569"},a=Q0[e.parentEngagementStatus]||e.parentEngagementStatus||"",l={active:"#00C853",moderate:"#FFB300",low:"#D32F2F"}[e.parentEngagementStatus]||"#64748B",o={active:88,moderate:55,low:20}[e.parentEngagementStatus]||50,c={low:25,medium:60,high:90}[e.riskStatus]||50,i=(t||[]).map(N=>{const k=N.grades||[],x=k.reduce((w,S)=>w+Number(S.score||0),0),h=k.reduce((w,S)=>w+Number(S.outOf||0),0),g=h?x/h*100:null;return{...N,avg:g}}).filter(N=>N.avg!==null).sort((N,k)=>k.avg-N.avg),d=(t||[]).flatMap(N=>N.grades||[]),p=d.reduce((N,k)=>N+Number(k.score||0),0),u=d.reduce((N,k)=>N+Number(k.outOf||0),0),f=u?p/u*100:0;r!=null&&r.recentFeedback;const y={improving:{label:"  ",bg:"#F0FDF4",color:"#00C853"},declining:{label:"  ",bg:"#FEF2F2",color:"#D32F2F"},stable:{label:" ",bg:"#F8FAFC",color:"#64748B"}},b=y[e.academicDirection]||y.stable;return n.jsxs("div",{className:"tab-content fade-in-up",children:[n.jsxs("div",{className:"tab-page-header",children:[n.jsx("h2",{className:"tab-page-title",children:"   "}),n.jsx("p",{className:"tab-page-sub",children:"   "})]}),n.jsxs("div",{className:"ai-kpi-row",children:[n.jsxs("div",{className:"ai-kpi-card",children:[n.jsxs("p",{className:"ai-kpi-value",style:{color:"#2C7BE5"},children:[ot(f,1),""]}),n.jsx("p",{className:"ai-kpi-label",children:" "})]}),n.jsxs("div",{className:"ai-kpi-card",children:[n.jsx("p",{className:"ai-kpi-value",style:{color:b.color},children:b.label}),n.jsx("p",{className:"ai-kpi-label",children:" "})]}),n.jsxs("div",{className:"ai-kpi-card",children:[n.jsx("p",{className:"ai-kpi-value",style:{color:s.color},children:s.label}),n.jsx("p",{className:"ai-kpi-label",children:" "})]}),n.jsxs("div",{className:"ai-kpi-card",children:[n.jsx("p",{className:"ai-kpi-value",style:{color:l},children:a}),n.jsx("p",{className:"ai-kpi-label",children:"  "})]})]}),n.jsxs("div",{className:"ai-main-grid",children:[n.jsxs("div",{className:"ai-left-col",children:[i.length>0&&n.jsxs("div",{className:"ai-block",children:[n.jsx("h3",{className:"ai-block-title",children:"   "}),n.jsx("div",{className:"ai-bars-list",children:i.map((N,k)=>{const x=st[k%st.length],h=N.avg??0,g=h>=90?"":h>=80?" ":h>=70?"":h>=60?"":" ";return n.jsxs("div",{className:"ai-bar-row",children:[n.jsx("img",{src:N.image,alt:N.name,className:"ai-bar-img"}),n.jsxs("div",{className:"ai-bar-info",children:[n.jsxs("div",{className:"ai-bar-header",children:[n.jsx("span",{className:"ai-bar-name",children:N.name}),n.jsxs("div",{className:"ai-bar-meta",children:[n.jsx("span",{className:"ai-bar-badge",style:{background:`${x}18`,color:x},children:g}),n.jsxs("span",{className:"ai-bar-pct",style:{color:x},children:[ot(h,1),""]})]})]}),n.jsx("div",{className:"ai-bar-track",children:n.jsx("div",{className:"ai-bar-fill grade-fill",style:{width:`${h}%`,background:x}})})]})]},N.id)})})]}),e.attendancePattern&&n.jsxs("div",{className:"ai-block",style:{borderTop:"2px solid #2C7BE5"},children:[n.jsx("h3",{className:"ai-block-title",children:"  "}),n.jsx("p",{className:"ai-block-text",children:e.attendancePattern})]})]}),n.jsxs("div",{className:"ai-right-col",children:[n.jsxs("div",{className:"ai-block",children:[n.jsx("h3",{className:"ai-block-title",children:"  "}),n.jsxs("div",{className:"ai-gauges",children:[n.jsxs("div",{className:"ai-gauge-row",children:[n.jsx(Su,{pct:c,color:s.color,size:72,stroke:6}),n.jsxs("div",{children:[n.jsx("p",{className:"ai-gauge-label",children:"  "}),n.jsx("p",{className:"ai-gauge-value",style:{color:s.color},children:s.label})]})]}),n.jsx("div",{className:"ai-gauge-divider"}),n.jsxs("div",{className:"ai-gauge-row",children:[n.jsx(Su,{pct:o,color:l,size:72,stroke:6}),n.jsxs("div",{children:[n.jsx("p",{className:"ai-gauge-label",children:"  "}),n.jsx("p",{className:"ai-gauge-value",style:{color:l},children:a})]})]})]})]}),i.length>0&&n.jsxs("div",{className:"ai-block",children:[n.jsx("h3",{className:"ai-block-title",children:"   "}),n.jsx("div",{className:"ai-top-subjects",children:i.slice(0,4).map((N,k)=>{const x=["","","",""];return n.jsxs("div",{className:"ai-top-row",children:[n.jsx("span",{className:"ai-top-medal",children:x[k]||""}),n.jsx("span",{className:"ai-top-name",children:N.name}),n.jsxs("span",{className:"ai-top-pct",style:{color:st[k%st.length]},children:[ot(N.avg,1),""]})]},N.id)})})]})]})]})]})}function cb({feedback:e}){const[t,r]=m.useState({}),s=a=>r(l=>({...l,[a]:!l[a]}));return n.jsxs("div",{className:"tab-content fade-in-up",children:[n.jsxs("div",{className:"tab-page-header",children:[n.jsx("h2",{className:"tab-page-title",children:""}),n.jsx("span",{className:"tab-count-badge",children:e.length})]}),e.length?n.jsx("div",{className:"notes-grid",children:e.map(a=>{const l=xa[a.category]||xa.,o=t[a.id],c=(a.preview||"").length>120;return n.jsxs("div",{className:"note-card",children:[n.jsxs("div",{className:"note-card-header",children:[n.jsxs("div",{children:[n.jsx("p",{className:"note-card-subject",children:a.subjectName}),n.jsx("p",{className:"note-card-date",children:ls(a.date)})]}),n.jsx("span",{className:"note-card-badge",style:{background:l.bg,color:l.c},children:a.category})]}),n.jsx("p",{className:`note-card-text ${o||!c?"":"clamp-3"}`,children:a.preview}),c&&n.jsx("button",{type:"button",className:"note-expand-btn",onClick:()=>s(a.id),children:o?"":" "})]},a.id)})}):n.jsxs("div",{className:"empty-card",children:[n.jsx("div",{className:"empty-icon",children:""}),n.jsx("p",{className:"empty-title",children:"  "}),n.jsx("p",{className:"empty-hint",children:"   ."})]})]})}function ub({portalData:e,subjects:t,user:r,avatarUrl:s,studentName:a,className:l,onTabChange:o}){const c=t.flatMap(f=>f.grades||[]),i=c.reduce((f,y)=>f+Number(y.score||0),0),d=c.reduce((f,y)=>f+Number(y.outOf||0),0),p=d?i/d*100:0,u=(e==null?void 0:e.recentFeedback)||[];return n.jsxs("div",{className:"tab-content fade-in-up",children:[n.jsx("div",{className:"tab-page-header",children:n.jsx("h2",{className:"tab-page-title",children:" "})}),n.jsxs("div",{className:"profile-layout",children:[n.jsxs("div",{className:"profile-card",children:[n.jsx("div",{className:"profile-avatar-wrap",children:s?n.jsx("img",{src:s,alt:a,className:"profile-avatar"}):n.jsx("div",{className:"profile-avatar-placeholder",children:(a==null?void 0:a[0])||""})}),n.jsx("h3",{className:"profile-name",children:a}),l&&n.jsxs("p",{className:"profile-class",children:[" ",l]}),(r==null?void 0:r.email)&&n.jsx("p",{className:"profile-email",children:r.email})]}),n.jsxs("div",{className:"profile-stats-col",children:[n.jsxs("div",{className:"profile-stat-card",children:[n.jsx("span",{className:"profile-stat-icon",children:""}),n.jsxs("div",{children:[n.jsxs("p",{className:"profile-stat-value",style:{color:"#2C7BE5"},children:[ot(p,1),""]}),n.jsx("p",{className:"profile-stat-label",children:" "})]})]}),n.jsxs("div",{className:"profile-stat-card",children:[n.jsx("span",{className:"profile-stat-icon",children:""}),n.jsxs("div",{children:[n.jsx("p",{className:"profile-stat-value",style:{color:"#8B5CF6"},children:t.length}),n.jsx("p",{className:"profile-stat-label",children:" "})]})]}),n.jsxs("div",{className:"profile-stat-card",children:[n.jsx("span",{className:"profile-stat-icon",children:""}),n.jsxs("div",{children:[n.jsx("p",{className:"profile-stat-value",style:{color:"#F97316"},children:u.length}),n.jsx("p",{className:"profile-stat-label",children:""})]})]}),n.jsxs("button",{type:"button",className:"profile-ai-btn",onClick:()=>o(Ie.ai),children:[n.jsx("span",{children:""}),n.jsx("span",{children:"  "}),n.jsx(Fi,{})]})]})]})]})}function db(){var B,T,_,I;const e=ur(),{token:t,user:r,logout:s}=xe(),[a,l]=m.useState(!0),[o,c]=m.useState(""),[i,d]=m.useState(null),[p,u]=m.useState(Ie.dashboard),[f,y]=m.useState(null);m.useEffect(()=>{let L=!0;return t?(async()=>{try{l(!0),c("");const P=await ov(t);if(!L)return;d({...P,subjects:Y0((P.subjects||[]).map(W=>({...W,image:W0(W.name),feedbackItems:(W.feedbackItems||[]).map(Q=>({...Q,category:Nu(Q.category)}))}))),recentFeedback:(P.recentFeedback||[]).map(W=>({...W,category:Nu(W.category)}))})}catch(P){L&&(c((P==null?void 0:P.message)||"  ."),d(null))}finally{L&&l(!1)}})():l(!1),()=>{L=!1}},[t]);const b=(i==null?void 0:i.subjects)||[],N=m.useMemo(()=>f&&b.find(L=>L.id===f)||null,[f,b]),k=()=>{s(),e("/login",{replace:!0})},x=L=>{y(L)},h=()=>{y(null)},g=((B=i==null?void 0:i.student)==null?void 0:B.name)||(r==null?void 0:r.name)||"",w=((T=i==null?void 0:i.student)==null?void 0:T.className)||((_=r==null?void 0:r.classes)==null?void 0:_[0])||"",S=((I=i==null?void 0:i.student)==null?void 0:I.avatarUrl)||(r==null?void 0:r.profilePicture)||"",F=((i==null?void 0:i.recentFeedback)||[]).length;if(N)return n.jsx(I0,{subject:N,allSubjects:b,subjectDetails:{},recentFeedback:(i==null?void 0:i.recentFeedback)||[],onBack:h,onSwitch:L=>y(L)});const M=L=>{u(L),window.scrollTo({top:0,behavior:"smooth"})};return n.jsxs(n.Fragment,{children:[n.jsx("style",{children:pb}),n.jsxs("main",{dir:"rtl",className:"portal-root",children:[n.jsx(eb,{studentName:g,avatarUrl:S,notifCount:F,onLogout:k}),n.jsxs("div",{className:"portal-content",children:[n.jsx(sb,{studentName:g,className:w,avatarUrl:S}),n.jsx(tb,{activeTab:p,onTabChange:M}),o&&n.jsx("div",{className:"error-banner-premium",children:o}),a?n.jsxs("div",{className:"loading-grid",children:[n.jsx("div",{className:"loading-bar",style:{height:88}}),n.jsx("div",{className:"loading-row",children:[1,2,3,4].map(L=>n.jsx("div",{className:"skeleton-card"},L))}),n.jsx("div",{className:"loading-bar",style:{height:240}})]}):n.jsxs(n.Fragment,{children:[p===Ie.dashboard&&n.jsx(ab,{portalData:i,subjects:b,onSelectSubject:x,onTabChange:M}),p===Ie.grades&&n.jsx(lb,{subjects:b}),p===Ie.schedule&&n.jsx(ob,{token:t}),p===Ie.ai&&n.jsx(ib,{snap:i==null?void 0:i.weeklySnapshot,subjects:b,portalData:i}),p===Ie.notes&&n.jsx(cb,{feedback:(i==null?void 0:i.recentFeedback)||[]}),p===Ie.profile&&n.jsx(ub,{portalData:i,subjects:b,user:r,avatarUrl:S,studentName:g,className:w,onTabChange:M})]})]})]})]})}const pb=`
/*  Root  */
.portal-root {
  min-height: 100dvh;
  background: #F5F6FA;
  font-family: 'Cairo', sans-serif;
}

/*  Top Nav  slim identity bar only  */
.premium-topnav {
  position: sticky;
  top: 0;
  z-index: 50;
  background: rgba(255,255,255,0.97);
  backdrop-filter: blur(12px);
  border-bottom: 1px solid #E8ECF4;
  box-shadow: 0 1px 8px rgba(15,23,42,0.05);
}
.premium-topnav-inner {
  max-width: 1360px;
  margin: 0 auto;
  padding: 0 32px;
  height: 52px;
  display: flex;
  align-items: center;
  gap: 16px;
}
.nav-identity {
  display: flex;
  align-items: center;
  gap: 10px;
  flex-shrink: 0;
}
.nav-avatar {
  width: 32px; height: 32px;
  border-radius: 50%;
  object-fit: cover;
  border: 2px solid #E8ECF4;
}
.nav-avatar-placeholder {
  width: 32px; height: 32px;
  border-radius: 50%;
  background: #EFF6FF;
  border: 2px solid #BFDBFE;
  display: flex; align-items: center; justify-content: center;
  font-weight: 700; font-size: 13px; color: #2C7BE5;
}
.nav-student-name { font-size: 13px; font-weight: 700; color: #0F172A; }
.nav-actions { display: flex; align-items: center; gap: 6px; }
.nav-action-btn {
  display: flex; align-items: center; gap: 6px;
  padding: 6px 10px;
  border: 1px solid #E8ECF4; border-radius: 8px;
  background: #F8FAFC; cursor: pointer;
  font-family: 'Cairo', sans-serif; font-size: 13px; font-weight: 600; color: #475569;
  transition: all 180ms ease;
}
.nav-action-btn:hover { background: #EFF6FF; border-color: #BFDBFE; color: #2C7BE5; transform: translateY(-1px); }
.nav-badge {
  position: absolute; top: -4px; left: -4px;
  min-width: 16px; height: 16px;
  background: #D32F2F; color: #fff;
  font-size: 9px; font-weight: 700; border-radius: 999px;
  display: flex; align-items: center; justify-content: center; padding: 0 3px;
}
.nav-logout { color: #D32F2F; }
.nav-logout:hover { background: #FEF2F2 !important; border-color: #FECACA !important; color: #D32F2F !important; }
.nav-logout-label { font-size: 13px; }

/*  Tab Bar  below welcome card, prominent  */
.tabbar-wrap {
  background: #fff;
  border: 1px solid #E8ECF4;
  border-radius: 16px;
  padding: 6px;
  margin-bottom: 28px;
  box-shadow: 0 2px 12px rgba(15,23,42,0.05);
  overflow-x: auto;
  scrollbar-width: none;
}
.tabbar-wrap::-webkit-scrollbar { display: none; }
.tabbar-inner {
  display: flex;
  align-items: center;
  gap: 4px;
  min-width: max-content;
}
.tabbar-tab {
  position: relative;
  display: flex; align-items: center; gap: 8px;
  padding: 10px 20px;
  border: none; background: none; cursor: pointer;
  font-family: 'Cairo', sans-serif;
  font-size: 14px; font-weight: 600;
  color: #64748B;
  border-radius: 11px;
  transition: color 200ms ease, background 200ms ease;
  white-space: nowrap;
}
.tabbar-tab:hover { color: #0F172A; background: #F8FAFC; }
.tabbar-tab-active {
  color: #2C7BE5 !important;
  background: #EFF6FF !important;
  font-weight: 700;
}
.tabbar-icon { font-size: 16px; }
.tabbar-underline {
  position: absolute;
  bottom: 4px; left: 12px; right: 12px;
  height: 2px;
  background: #2C7BE5;
  border-radius: 2px;
  animation: slideIn 220ms cubic-bezier(0.16,1,0.3,1);
}
@keyframes slideIn {
  from { transform: scaleX(0); opacity: 0; }
  to   { transform: scaleX(1); opacity: 1; }
}

/*  Portal Content  */
.portal-content {
  max-width: 1360px;
  margin: 0 auto;
  padding: 24px 32px 48px;
}

/*  Welcome Card  */
.welcome-card {
  position: relative;
  background: linear-gradient(135deg, #1E3A8A 0%, #2C7BE5 60%, #38BDF8 100%);
  border-radius: 20px;
  padding: 32px 36px;
  margin-bottom: 28px;
  overflow: hidden;
}
.welcome-card-bg {
  position: absolute;
  inset: 0;
  background: radial-gradient(ellipse at 80% 50%, rgba(255,255,255,0.12) 0%, transparent 60%);
  pointer-events: none;
}
.welcome-card::before {
  content: '';
  position: absolute;
  top: -40px; right: -40px;
  width: 200px; height: 200px;
  border-radius: 50%;
  background: rgba(255,255,255,0.07);
  pointer-events: none;
}
.welcome-card::after {
  content: '';
  position: absolute;
  bottom: -60px; left: -20px;
  width: 160px; height: 160px;
  border-radius: 50%;
  background: rgba(255,255,255,0.05);
  pointer-events: none;
}
.welcome-card-content {
  position: relative;
  z-index: 1;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 20px;
}
.welcome-greeting {
  font-size: 14px;
  color: rgba(255,255,255,0.75);
  margin: 0 0 4px;
}
.welcome-name {
  font-size: 28px;
  font-weight: 800;
  color: #fff;
  margin: 0 0 4px;
}
.welcome-class {
  font-size: 13px;
  color: rgba(255,255,255,0.75);
  margin: 0 0 8px;
}
.welcome-subtitle {
  font-size: 13px;
  color: rgba(255,255,255,0.6);
  margin: 0;
}
.welcome-avatar-wrap {
  flex-shrink: 0;
}
.welcome-avatar {
  width: 72px; height: 72px;
  border-radius: 50%;
  object-fit: cover;
  border: 3px solid rgba(255,255,255,0.4);
}
.welcome-avatar-placeholder {
  width: 72px; height: 72px;
  border-radius: 50%;
  background: rgba(255,255,255,0.2);
  border: 3px solid rgba(255,255,255,0.4);
  display: flex; align-items: center; justify-content: center;
  font-size: 28px; font-weight: 800; color: #fff;
}

/*  Metric Cards  */
.metrics-row {
  display: grid;
  grid-template-columns: repeat(4, minmax(0,1fr));
  gap: 16px;
  margin-bottom: 32px;
}
@media (max-width: 900px) { .metrics-row { grid-template-columns: repeat(2,1fr); } }
@media (max-width: 520px) { .metrics-row { grid-template-columns: 1fr; } }
.metric-card-premium {
  background: #fff;
  border: 1px solid #E8ECF4;
  border-radius: 16px;
  padding: 20px;
  display: flex;
  align-items: center;
  gap: 14px;
  box-shadow: 0 2px 12px rgba(15,23,42,0.05);
  animation: fadeUp 400ms ease both;
  transition: transform 220ms ease, box-shadow 220ms ease;
}
.metric-card-premium:hover {
  transform: translateY(-3px);
  box-shadow: 0 8px 24px rgba(15,23,42,0.10);
}
.metric-card-icon {
  width: 44px; height: 44px;
  border-radius: 12px;
  display: flex; align-items: center; justify-content: center;
  font-size: 20px;
  flex-shrink: 0;
}
.metric-card-value {
  font-size: 24px;
  font-weight: 800;
  line-height: 1;
  margin: 0 0 4px;
}
.metric-card-label {
  font-size: 12px;
  color: #64748B;
  margin: 0;
}

/*  Section Block  */
.section-block {
  margin-bottom: 32px;
}
.section-header {
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 16px;
}
.section-title-premium {
  font-size: 18px;
  font-weight: 700;
  color: #0F172A;
  margin: 0;
}
.section-subtitle-premium {
  font-size: 12px;
  color: #94A3B8;
  margin: 0;
}
.section-title-sm {
  font-size: 15px;
  font-weight: 700;
  color: #0F172A;
  margin: 0;
}
.view-all-btn {
  border: none;
  background: none;
  font-family: 'Cairo', sans-serif;
  font-size: 12px;
  font-weight: 700;
  color: #2C7BE5;
  cursor: pointer;
  padding: 0;
}
.view-all-btn:hover { opacity: 0.7; }

/*  Subject Carousel  */
.carousel-wrapper {
  position: relative;
  padding: 0 44px;
}
.carousel-arrow {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  z-index: 3;
  width: 36px; height: 36px;
  border-radius: 50%;
  border: 1px solid #E8ECF4;
  background: #fff;
  display: flex; align-items: center; justify-content: center;
  cursor: pointer;
  transition: all 200ms ease;
  box-shadow: 0 2px 8px rgba(15,23,42,0.08);
  opacity: 0;
}
.carousel-wrapper:hover .carousel-arrow { opacity: 1; }
.carousel-arrow:hover {
  background: #2C7BE5;
  color: #fff;
  border-color: #2C7BE5;
  transform: translateY(-50%) scale(1.05);
}
.carousel-arrow-start { right: 0; }
.carousel-arrow-end { left: 0; }
.carousel-track {
  display: flex;
  gap: 16px;
  overflow-x: auto;
  scroll-snap-type: x mandatory;
  scrollbar-width: none;
  padding-bottom: 8px;
  cursor: grab;
  user-select: none;
}
.carousel-track:active { cursor: grabbing; }
.carousel-track::-webkit-scrollbar { display: none; }
.carousel-card {
  flex: 0 0 200px;
  scroll-snap-align: start;
  background: #fff;
  border: 1px solid #E8ECF4;
  border-radius: 16px;
  overflow: hidden;
  cursor: pointer;
  text-align: right;
  position: relative;
  transition: transform 240ms cubic-bezier(0.16,1,0.3,1), box-shadow 240ms ease;
  box-shadow: 0 2px 10px rgba(15,23,42,0.05);
}
.carousel-card:hover {
  transform: translateY(-6px) scale(1.01);
  box-shadow: 0 16px 36px rgba(15,23,42,0.12);
  border-color: var(--accent);
}
.carousel-card:active { transform: scale(0.97); }
.carousel-card-accent-bar {
  height: 3px;
  width: 100%;
}
.carousel-card-img-zone {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 20px 16px;
  background: #F8FAFC;
}
.carousel-card-img {
  width: 72px; height: 72px;
  object-fit: contain;
  transition: transform 240ms ease;
  pointer-events: none;
}
.carousel-card:hover .carousel-card-img { transform: scale(1.08); }
.carousel-card-info {
  padding: 12px 14px 14px;
  border-top: 1px solid #F1F5F9;
}
.carousel-card-name {
  font-size: 13px;
  font-weight: 700;
  color: #0F172A;
  margin: 0 0 3px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.carousel-card-teacher {
  font-size: 11px;
  color: #94A3B8;
  margin: 0 0 8px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.carousel-card-cta {
  font-size: 11px;
  font-weight: 700;
  margin: 0;
}
.carousel-card-hover-glow {
  position: absolute;
  inset: 0;
  border-radius: 16px;
  opacity: 0;
  transition: opacity 240ms ease;
  box-shadow: inset 0 0 0 2px var(--accent);
  pointer-events: none;
}
.carousel-card:hover .carousel-card-hover-glow { opacity: 1; }

/*  Dashboard Bottom Grid  */
.dashboard-bottom-grid {
  display: grid;
  grid-template-columns: minmax(0,2fr) minmax(0,1fr);
  gap: 24px;
  align-items: start;
}
@media (max-width: 800px) { .dashboard-bottom-grid { grid-template-columns: 1fr; } }

/*  Notes preview list  */
.notes-list { display: flex; flex-direction: column; gap: 8px; }
.note-row {
  display: flex;
  align-items: flex-start;
  gap: 12px;
  background: #fff;
  border: 1px solid #E8ECF4;
  border-radius: 12px;
  padding: 12px 14px;
  transition: box-shadow 200ms ease;
}
.note-row:hover { box-shadow: 0 4px 16px rgba(15,23,42,0.07); }
.note-dot { width: 8px; height: 8px; border-radius: 50%; flex-shrink: 0; margin-top: 5px; }
.note-body { flex: 1; min-width: 0; }
.note-header { display: flex; align-items: center; gap: 8px; margin-bottom: 4px; }
.note-subject { font-size: 13px; font-weight: 700; color: #0F172A; }
.note-badge { font-size: 10px; font-weight: 700; padding: 2px 7px; border-radius: 999px; }
.note-preview { font-size: 12px; color: #64748B; margin: 0; line-height: 1.6; }
.note-date { font-size: 11px; color: #94A3B8; flex-shrink: 0; }

/*  AI Entry Card  */
.ai-entry-card {
  display: flex;
  align-items: center;
  gap: 14px;
  background: #fff;
  border: 1px solid #E8ECF4;
  border-right: 3px solid #2C7BE5;
  border-radius: 16px;
  padding: 18px 20px;
  cursor: pointer;
  transition: all 220ms ease;
}
.ai-entry-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 20px rgba(44,123,229,0.12);
  border-right-color: #2C7BE5;
}
.ai-entry-icon {
  width: 40px; height: 40px;
  background: #EFF6FF;
  border: 1px solid #BFDBFE;
  border-radius: 10px;
  display: flex; align-items: center; justify-content: center;
  font-size: 18px;
  flex-shrink: 0;
}
.ai-entry-info { flex: 1; min-width: 0; }
.ai-entry-title { font-size: 14px; font-weight: 700; color: #0F172A; margin: 0 0 3px; }
.ai-entry-sub { font-size: 12px; color: #64748B; margin: 0; }
.ai-entry-arrow { color: #94A3B8; }

/*  Tab Content  */
.tab-content { animation: fadeUp 300ms ease-out both; }
@keyframes fadeUp {
  from { opacity: 0; transform: translateY(10px); }
  to   { opacity: 1; transform: translateY(0); }
}
.fade-in-up { animation: fadeUp 280ms ease-out both; }

/*  Tab Page Header  */
.tab-page-header {
  display: flex;
  align-items: baseline;
  gap: 14px;
  margin-bottom: 24px;
  flex-wrap: wrap;
}
.tab-page-title {
  font-size: 22px;
  font-weight: 800;
  color: #0F172A;
  margin: 0;
}
.tab-page-sub { font-size: 13px; color: #94A3B8; margin: 0; }
.tab-count-badge {
  font-size: 12px;
  font-weight: 700;
  background: #EFF6FF;
  color: #2C7BE5;
  border: 1px solid #BFDBFE;
  padding: 2px 10px;
  border-radius: 999px;
}

/*  Subject Pills  */
.subject-pills-scroll {
  display: flex;
  gap: 8px;
  overflow-x: auto;
  scrollbar-width: none;
  padding-bottom: 4px;
  margin-bottom: 24px;
}
.subject-pills-scroll::-webkit-scrollbar { display: none; }
.subject-pill {
  display: flex;
  align-items: center;
  gap: 7px;
  padding: 8px 16px;
  border: 1.5px solid #E8ECF4;
  border-radius: 999px;
  background: #fff;
  cursor: pointer;
  font-family: 'Cairo', sans-serif;
  font-size: 13px;
  font-weight: 600;
  color: #475569;
  white-space: nowrap;
  transition: all 220ms ease;
}
.subject-pill:hover { border-color: #BFDBFE; color: #0F172A; }
.subject-pill-active { box-shadow: 0 4px 12px rgba(44,123,229,0.2); }
.subject-pill-img { width: 20px; height: 20px; object-fit: contain; }

/*  Grades Display  */
.grades-display {
  background: #fff;
  border: 1px solid #E8ECF4;
  border-radius: 20px;
  overflow: hidden;
  box-shadow: 0 2px 14px rgba(15,23,42,0.06);
}
.grade-subject-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;
  padding: 22px 24px 20px;
  border-bottom: 1px solid #F1F5F9;
  flex-wrap: wrap;
}
.grade-subject-left {
  display: flex;
  align-items: center;
  gap: 14px;
}
.grade-subject-img { width: 48px; height: 48px; object-fit: contain; }
.grade-subject-name { font-size: 18px; font-weight: 800; color: #0F172A; margin: 0 0 3px; }
.grade-subject-teacher { font-size: 13px; color: #64748B; margin: 0; }
.grade-subject-right { display: flex; flex-direction: column; align-items: flex-end; gap: 4px; }
.grade-badge {
  font-size: 11px;
  font-weight: 700;
  padding: 3px 10px;
  border-radius: 999px;
}
.grade-avg { font-size: 28px; font-weight: 800; margin: 0; }
.grade-progress-wrap { padding: 0 24px 16px; }
.grade-progress-track {
  height: 8px;
  background: #F1F5F9;
  border-radius: 999px;
  overflow: hidden;
}
.grade-progress-fill {
  height: 100%;
  border-radius: 999px;
  transition: width 900ms cubic-bezier(0.16,1,0.3,1);
}

/*  Grades Table  */
.grades-table-wrap { padding: 0 24px 24px; overflow-x: auto; }
.grades-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 13px;
}
.grades-table th {
  text-align: right;
  padding: 10px 12px;
  font-size: 11px;
  font-weight: 700;
  color: #64748B;
  text-transform: uppercase;
  letter-spacing: 0.04em;
  border-bottom: 1px solid #F1F5F9;
}
.grade-row { transition: background 150ms ease; }
.grade-row:hover { background: #F8FAFC; }
.grade-row td { padding: 11px 12px; border-bottom: 1px solid #F8FAFC; }
.grade-row:last-child td { border-bottom: none; }
.grade-cell-name { font-weight: 600; color: #0F172A; }
.grade-cell-score { font-weight: 700; font-size: 15px; }
.grade-cell-out { color: #64748B; }
.grade-pct-badge {
  display: inline-flex;
  padding: 3px 10px;
  border-radius: 999px;
  font-size: 12px;
  font-weight: 700;
}

/*  Schedule  */
.schedule-card {
  background: #fff;
  border: 1px solid #E8ECF4;
  border-radius: 20px;
  overflow: hidden;
  box-shadow: 0 2px 14px rgba(15,23,42,0.06);
}
.schedule-table-wrap { overflow-x: auto; }
.schedule-table {
  width: 100%;
  min-width: 600px;
  border-collapse: collapse;
  text-align: right;
}
.schedule-table thead { background: #F8FAFC; border-bottom: 1px solid #E8ECF4; }
.sched-time-col { padding: 12px 16px; font-size: 11px; font-weight: 700; color: #64748B; text-transform: uppercase; width: 100px; }
.sched-day-col { padding: 12px 16px; font-size: 13px; font-weight: 700; color: #0F172A; }
.sched-row { border-bottom: 1px solid #F1F5F9; }
.sched-row:last-child { border-bottom: none; }
.sched-row-alt { background: #FAFBFC; }
.sched-time { padding: 10px 16px; font-size: 12px; font-weight: 700; color: #64748B; white-space: nowrap; }
.sched-cell { padding: 6px 8px; }
.sched-entry {
  background: #fff;
  border: 1px solid #E8ECF4;
  border-right-width: 3px;
  border-radius: 10px;
  padding: 8px 10px;
  transition: box-shadow 180ms ease;
}
.sched-entry:hover { box-shadow: 0 3px 12px rgba(15,23,42,0.07); }
.sched-entry-subject { font-size: 13px; font-weight: 700; color: #0F172A; margin: 0 0 2px; }
.sched-entry-teacher { font-size: 11px; color: #64748B; margin: 0; }
.sched-entry-room { font-size: 11px; color: #94A3B8; margin: 0; }
.sched-empty-cell { background: #F8FAFC; border: 1px dashed #E8ECF4; border-radius: 10px; height: 56px; }
.sched-skeleton { display: flex; flex-direction: column; gap: 10px; }
.skeleton-row { height: 56px; background: #E8ECF4; border-radius: 10px; animation: shimmer 1.2s ease-out infinite; background-size: 200% 100%; background-image: linear-gradient(90deg, #E8ECF4 0%, #F1F5F9 50%, #E8ECF4 100%); }
@keyframes shimmer { 0% { background-position: -200% 0; } 100% { background-position: 200% 0; } }

/*  AI Tab  */
.ai-kpi-row {
  display: grid;
  grid-template-columns: repeat(4,minmax(0,1fr));
  gap: 14px;
  margin-bottom: 24px;
}
@media (max-width: 900px) { .ai-kpi-row { grid-template-columns: repeat(2,1fr); } }
.ai-kpi-card {
  background: #fff;
  border: 1px solid #E8ECF4;
  border-radius: 14px;
  padding: 18px;
  transition: transform 200ms ease, box-shadow 200ms ease;
}
.ai-kpi-card:hover { transform: translateY(-2px); box-shadow: 0 6px 18px rgba(15,23,42,0.08); }
.ai-kpi-value { font-size: 20px; font-weight: 800; margin: 0 0 4px; }
.ai-kpi-label { font-size: 12px; color: #64748B; margin: 0; }
.ai-main-grid {
  display: grid;
  grid-template-columns: minmax(0,2fr) minmax(0,1fr);
  gap: 20px;
  align-items: start;
}
@media (max-width: 900px) { .ai-main-grid { grid-template-columns: 1fr; } }
.ai-left-col, .ai-right-col { display: flex; flex-direction: column; gap: 16px; }
.ai-block {
  background: #fff;
  border: 1px solid #E8ECF4;
  border-radius: 16px;
  padding: 20px;
}
.ai-block-title { font-size: 15px; font-weight: 700; color: #0F172A; margin: 0 0 16px; }
.ai-block-text { font-size: 14px; color: #475569; line-height: 1.7; margin: 0; }
.ai-bars-list { display: flex; flex-direction: column; gap: 14px; }
.ai-bar-row { display: flex; align-items: center; gap: 12px; }
.ai-bar-img { width: 32px; height: 32px; object-fit: contain; flex-shrink: 0; }
.ai-bar-info { flex: 1; min-width: 0; }
.ai-bar-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 6px; }
.ai-bar-name { font-size: 13px; font-weight: 600; color: #0F172A; }
.ai-bar-meta { display: flex; align-items: center; gap: 8px; }
.ai-bar-badge { font-size: 10px; font-weight: 700; padding: 2px 7px; border-radius: 6px; }
.ai-bar-pct { font-size: 13px; font-weight: 800; }
.ai-bar-track { height: 7px; border-radius: 999px; overflow: hidden; background: #F1F5F9; }
.ai-bar-fill { height: 100%; border-radius: 999px; }
.ai-gauges { display: flex; flex-direction: column; gap: 16px; }
.ai-gauge-row { display: flex; align-items: center; gap: 14px; }
.ai-gauge-divider { height: 1px; background: #F1F5F9; }
.ai-gauge-label { font-size: 11px; color: #94A3B8; margin: 0 0 4px; }
.ai-gauge-value { font-size: 16px; font-weight: 700; margin: 0; }
.ai-top-subjects { display: flex; flex-direction: column; gap: 10px; }
.ai-top-row { display: flex; align-items: center; gap: 10px; }
.ai-top-medal { font-size: 16px; flex-shrink: 0; }
.ai-top-name { flex: 1; font-size: 13px; font-weight: 600; color: #0F172A; }
.ai-top-pct { font-size: 13px; font-weight: 800; }

/*  Notes Tab  */
.notes-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px,1fr));
  gap: 14px;
}
.note-card {
  background: #fff;
  border: 1px solid #E8ECF4;
  border-radius: 14px;
  padding: 16px;
  transition: transform 200ms ease, box-shadow 200ms ease;
}
.note-card:hover { transform: translateY(-3px); box-shadow: 0 8px 22px rgba(15,23,42,0.08); }
.note-card-header { display: flex; align-items: flex-start; justify-content: space-between; gap: 10px; margin-bottom: 10px; }
.note-card-subject { font-size: 14px; font-weight: 700; color: #0F172A; margin: 0; }
.note-card-date { font-size: 11px; color: #94A3B8; margin: 2px 0 0; }
.note-card-badge { font-size: 10px; font-weight: 700; padding: 3px 9px; border-radius: 999px; flex-shrink: 0; }
.note-card-text { font-size: 13px; color: #475569; line-height: 1.7; margin: 0; }
.note-expand-btn {
  margin-top: 8px;
  border: none; background: none;
  font-family: 'Cairo', sans-serif;
  font-size: 12px; font-weight: 700;
  color: #2C7BE5; cursor: pointer; padding: 0;
}
.note-expand-btn:hover { opacity: 0.7; }

/*  Profile Tab  */
.profile-layout {
  display: grid;
  grid-template-columns: 240px minmax(0,1fr);
  gap: 24px;
  align-items: start;
}
@media (max-width: 700px) { .profile-layout { grid-template-columns: 1fr; } }
.profile-card {
  background: #fff;
  border: 1px solid #E8ECF4;
  border-radius: 20px;
  padding: 28px 20px;
  text-align: center;
  box-shadow: 0 2px 12px rgba(15,23,42,0.05);
}
.profile-avatar-wrap { margin-bottom: 14px; }
.profile-avatar { width: 80px; height: 80px; border-radius: 50%; object-fit: cover; border: 3px solid #BFDBFE; }
.profile-avatar-placeholder {
  width: 80px; height: 80px;
  border-radius: 50%;
  background: #EFF6FF;
  border: 3px solid #BFDBFE;
  display: flex; align-items: center; justify-content: center;
  font-size: 32px; font-weight: 800; color: #2C7BE5;
  margin: 0 auto;
}
.profile-name { font-size: 17px; font-weight: 800; color: #0F172A; margin: 0 0 4px; }
.profile-class { font-size: 13px; color: #64748B; margin: 0 0 4px; }
.profile-email { font-size: 12px; color: #94A3B8; margin: 0; }
.profile-stats-col { display: flex; flex-direction: column; gap: 12px; }
.profile-stat-card {
  display: flex;
  align-items: center;
  gap: 16px;
  background: #fff;
  border: 1px solid #E8ECF4;
  border-radius: 14px;
  padding: 16px 18px;
  transition: transform 200ms ease;
}
.profile-stat-card:hover { transform: translateY(-2px); }
.profile-stat-icon { font-size: 22px; }
.profile-stat-value { font-size: 22px; font-weight: 800; margin: 0 0 2px; }
.profile-stat-label { font-size: 12px; color: #64748B; margin: 0; }
.profile-ai-btn {
  display: flex;
  align-items: center;
  gap: 12px;
  background: #EFF6FF;
  border: 1.5px solid #BFDBFE;
  border-radius: 14px;
  padding: 16px 18px;
  cursor: pointer;
  font-family: 'Cairo', sans-serif;
  font-size: 14px;
  font-weight: 700;
  color: #2C7BE5;
  transition: all 200ms ease;
  text-align: right;
}
.profile-ai-btn:hover {
  background: #DBEAFE;
  transform: translateY(-2px);
  box-shadow: 0 6px 16px rgba(44,123,229,0.15);
}
.profile-ai-btn > *:last-child { margin-right: auto; }

/*  Empty + Error states  */
.empty-card {
  background: #fff;
  border: 1px solid #E8ECF4;
  border-radius: 16px;
  padding: 60px 24px;
  text-align: center;
}
.empty-card-sm {
  background: #F8FAFC;
  border: 1px dashed #E8ECF4;
  border-radius: 12px;
  padding: 24px;
  text-align: center;
}
.empty-icon { font-size: 36px; margin-bottom: 12px; }
.empty-title { font-size: 15px; font-weight: 700; color: #0F172A; margin: 0 0 6px; }
.empty-hint { font-size: 13px; color: #94A3B8; margin: 0; }
.error-banner-premium {
  background: #FEF2F2;
  border: 1px solid #FECACA;
  border-radius: 12px;
  padding: 12px 16px;
  font-size: 13px;
  color: #D32F2F;
  margin-bottom: 20px;
}

/*  Loading skeletons  */
.loading-grid { display: flex; flex-direction: column; gap: 16px; }
.loading-bar {
  background: #E8ECF4;
  border-radius: 16px;
  animation: shimmer 1.2s ease-out infinite;
  background-size: 200% 100%;
  background-image: linear-gradient(90deg, #E8ECF4 0%, #F1F5F9 50%, #E8ECF4 100%);
}
.loading-row { display: grid; grid-template-columns: repeat(4,1fr); gap: 14px; }
.skeleton-card {
  height: 88px;
  background: #E8ECF4;
  border-radius: 14px;
  animation: shimmer 1.2s ease-out infinite;
  background-size: 200% 100%;
  background-image: linear-gradient(90deg, #E8ECF4 0%, #F1F5F9 50%, #E8ECF4 100%);
}

/*  Responsive  */
@media (max-width: 1024px) {
  .premium-topnav-inner { padding: 0 20px; gap: 16px; }
  .portal-content { padding: 20px 20px 40px; }
  .welcome-card { padding: 24px 24px; }
}
@media (max-width: 700px) {
  .nav-student-info { display: none; }
  .nav-logout-label { display: none; }
  .welcome-name { font-size: 22px; }
  .welcome-avatar { width: 56px; height: 56px; }
  .welcome-avatar-placeholder { width: 56px; height: 56px; font-size: 22px; }
}
`,mb={1:"",2:"",3:"",4:"",5:""},Cu=["#2C7BE5","#00C853","#FFB300","#D32F2F","#8B5CF6","#F97316","#14B8A6","#EC4899"];function fb(){const e=ur(),{token:t}=xe(),[r,s]=m.useState(!0),[a,l]=m.useState(""),[o,c]=m.useState({className:"",entries:[],schoolDays:[1,2,3,4,5]});m.useEffect(()=>{let u=!0;return(async()=>{try{s(!0),l("");const y=await cm(t);if(!u)return;c({className:y.className||"",entries:y.entries||[],schoolDays:y.schoolDays||[1,2,3,4,5]})}catch(y){u&&l((y==null?void 0:y.message)||"   .")}finally{u&&s(!1)}})(),()=>{u=!1}},[t]);const i=m.useMemo(()=>[...new Set((o.entries||[]).map(f=>`${f.startTime}-${f.endTime}`))].sort((f,y)=>String(f).localeCompare(String(y))),[o.entries]),d=m.useMemo(()=>{const u={};return(o.entries||[]).forEach(f=>{u[`${f.dayOfWeek}-${f.startTime}-${f.endTime}`]=f}),u},[o.entries]),p=m.useMemo(()=>{const u={};let f=0;return(o.entries||[]).forEach(y=>{y.subject&&!u[y.subject]&&(u[y.subject]=Cu[f%Cu.length],f++)}),u},[o.entries]);return n.jsx("main",{dir:"rtl",className:"min-h-screen bg-background",children:n.jsxs("div",{className:"max-w-[1200px] mx-auto px-6 py-8",children:[n.jsxs("header",{className:"flex items-center justify-between gap-4 mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"h2-premium",children:" "}),n.jsx("p",{className:"caption-premium mt-1",children:o.className?` ${o.className}`:" "})]}),n.jsx("button",{type:"button",onClick:()=>e("/student"),className:"action-btn focus-ring pressable",children:"  "})]}),a&&n.jsx("div",{className:"mb-6 rounded-sm border border-danger/30 bg-red-50 px-4 py-3 text-[13px] text-danger",children:a}),r?n.jsx("div",{className:"space-y-3",children:[1,2,3,4].map(u=>n.jsx("div",{className:"skeleton h-16"},u))}):o.entries.length?n.jsx("div",{className:"surface-card overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full min-w-[600px] border-collapse text-right",children:[n.jsx("thead",{className:"bg-slate-50 border-b border-border",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-[11px] font-semibold text-text-secondary uppercase tracking-wide w-28",children:""}),o.schoolDays.map(u=>n.jsx("th",{className:"px-4 py-3 text-[13px] font-semibold text-text-primary",children:mb[u]||u},u))]})}),n.jsx("tbody",{children:i.map((u,f)=>{const[y,b]=u.split("-");return n.jsxs("tr",{className:`border-b border-border last:border-0 ${f%2===0?"":"bg-slate-50/50"}`,children:[n.jsxs("td",{className:"px-4 py-3 text-[12px] font-semibold text-text-secondary whitespace-nowrap",children:[y,"  ",b]}),o.schoolDays.map(N=>{const k=d[`${N}-${y}-${b}`],x=k?p[k.subject]||"#2C7BE5":null;return n.jsx("td",{className:"px-2 py-2",children:k?n.jsxs("div",{className:"rounded-sm border border-border bg-surface p-2.5 premium-transition hover:shadow-sm",style:{borderRightWidth:3,borderRightColor:x},children:[n.jsx("p",{className:"text-[13px] font-semibold text-text-primary leading-snug",children:k.subject}),k.teacherName&&n.jsx("p",{className:"text-[11px] text-text-secondary mt-0.5",children:k.teacherName}),k.room&&n.jsx("p",{className:"text-[11px] text-text-secondary",children:k.room})]}):n.jsx("div",{className:"rounded-sm bg-slate-50 border border-border h-[58px]"})},`${N}-${u}`)})]},u)})})]})})}):n.jsxs("div",{className:"surface-card p-16 text-center",children:[n.jsx("p",{className:"h3-premium mb-2",children:"    "}),n.jsx("p",{className:"caption-premium",children:"       ."})]})]})})}const hb=e=>/\?{2,}/.test(String(e||"")),Ge=(e,t="   .")=>e&&e instanceof $s?e.message&&!hb(e.message)?e.message:e.status===401?"   .":e.status===403?"   .":e.status===400?"   .":t:t;function Mt({message:e="   ",action:t}){return n.jsxs("div",{className:"ht-soft-surface flex min-h-[220px] flex-col items-center justify-center px-6 py-10 text-center",children:[n.jsx("div",{className:"mb-4 h-10 w-10 rounded-full border border-[var(--ht-border-default)] bg-[var(--ht-bg-base)]"}),n.jsx("p",{className:"text-[16px] leading-[1.8] text-[var(--ht-neutral-700)]",children:e}),t?n.jsx("div",{className:"mt-5",children:t}):null]})}const xb=new Intl.DateTimeFormat("en-GB-u-nu-latn",{day:"2-digit",month:"2-digit",year:"numeric"}),gb=new Intl.DateTimeFormat("en-GB-u-nu-latn",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}),vb=e=>{if(!e)return"-";const t=e instanceof Date?e:new Date(e);return Number.isNaN(t.getTime())?"-":xb.format(t)},sr=e=>{if(!e)return"-";const t=e instanceof Date?e:new Date(e);return Number.isNaN(t.getTime())?"-":gb.format(t)},ne=(e,t=0)=>{const r=Number(e);return Number.isFinite(r)?new Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:t}).format(r):"0"},Eu=(e={})=>{const t=e.profilePicture||e.avatarUrl||e.name||e.email||e.id||"user";return`https://api.dicebear.com/8.x/initials/svg?seed=${encodeURIComponent(t)}`},bb={:"bg-[var(--ht-amber-100)] text-[var(--ht-amber-600)]",:"bg-[var(--ht-primary-100)] text-[var(--ht-primary-700)]",:"bg-[var(--ht-success-100)] text-[var(--ht-success-600)]"};function yb({items:e=[],onViewAll:t}){return n.jsxs("section",{className:"ht-surface p-5 sm:p-6",children:[n.jsxs("div",{className:"mb-5 flex items-center justify-between gap-3",children:[n.jsx("h2",{className:"text-[24px] font-semibold text-[var(--ht-neutral-900)]",children:" "}),n.jsx("button",{type:"button",onClick:t,className:"ht-interactive text-[13px] font-medium text-[var(--ht-primary-700)] hover:text-[var(--ht-primary-800)] active:scale-[0.98] focus-visible:outline-none",children:" "})]}),e.length?n.jsx("div",{className:"divide-y divide-[var(--ht-border-subtle)]",children:e.map(r=>n.jsxs("article",{className:"flex flex-wrap items-start justify-between gap-3 py-4",children:[n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsxs("div",{className:"mb-2 flex flex-wrap items-center gap-2",children:[n.jsx("span",{className:`rounded-full px-2 py-1 text-[11px] font-semibold ${bb[r.type]||"bg-[var(--ht-bg-muted)] text-[var(--ht-neutral-600)]"}`,children:r.type}),n.jsx("span",{className:"text-[12px] text-[var(--ht-neutral-500)]",children:r.className})]}),n.jsx("h3",{className:"text-[15px] font-medium text-[var(--ht-neutral-800)]",children:r.title})]}),n.jsx("span",{className:"whitespace-nowrap text-[12px] text-[var(--ht-neutral-400)]",children:sr(r.date)})]},r.id))}):n.jsx(Mt,{message:"   "})]})}function jb({className:e,studentCount:t,onClick:r}){return n.jsxs("button",{type:"button",onClick:r,className:"ht-surface ht-interactive ht-lift-hover flex min-h-[168px] w-full flex-col justify-center rounded-[6px] border border-[var(--ht-border-subtle)] px-5 py-6 text-right active:scale-[0.98] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--ht-border-focus)] focus-visible:ring-offset-2",children:[n.jsx("span",{className:"mb-3 h-[2px] w-10 bg-[var(--ht-primary-500)]/50"}),n.jsx("h3",{className:"text-center text-[20px] font-semibold text-[var(--ht-neutral-900)]",children:e}),n.jsxs("p",{className:"mt-3 text-center text-[13px] text-[var(--ht-neutral-500)]",children:[" : ",ne(t)]}),n.jsx("div",{className:"mt-4 border-t border-[var(--ht-border-subtle)]"})]})}function Nb({rows:e=[],onAdd:t,onImport:r,onEdit:s}){return n.jsxs("section",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[n.jsx("h3",{className:"text-[20px] font-semibold text-[var(--ht-neutral-900)]",children:""}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r?n.jsx("button",{type:"button",onClick:r,className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-4 text-[13px] font-medium text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)] active:scale-[0.98] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--ht-border-focus)] focus-visible:ring-offset-2",children:"+   "}):null,n.jsx("button",{type:"button",onClick:t,className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-4 text-[13px] font-medium text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)] active:scale-[0.98] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--ht-border-focus)] focus-visible:ring-offset-2",children:"+  "})]})]}),e.length?n.jsx("div",{className:"ht-surface ht-scroll overflow-x-auto",children:n.jsxs("table",{className:"min-w-full border-collapse text-right",children:[n.jsx("thead",{className:"bg-[var(--ht-bg-subtle)]",children:n.jsx("tr",{children:[" ","","","","",""].map(a=>n.jsx("th",{scope:"col",className:"whitespace-nowrap px-4 py-3 text-[11px] font-semibold uppercase tracking-[0.06em] text-[var(--ht-neutral-500)]",children:a},a))})}),n.jsx("tbody",{children:e.map(a=>n.jsxs("tr",{className:"border-t border-[var(--ht-border-subtle)]",children:[n.jsx("td",{className:"whitespace-nowrap px-4 py-3 text-[14px] text-[var(--ht-neutral-800)]",children:a.studentName}),n.jsx("td",{className:"whitespace-nowrap px-4 py-3 text-[14px] text-[var(--ht-neutral-700)]",children:a.examTitle||"-"}),n.jsx("td",{className:"whitespace-nowrap px-4 py-3 text-[14px] text-[var(--ht-neutral-700)]",children:a.score===null||a.score===void 0?"-":ne(a.score,2)}),n.jsx("td",{className:"whitespace-nowrap px-4 py-3 text-[14px] text-[var(--ht-neutral-700)]",children:a.maxMarks===null||a.maxMarks===void 0?"-":ne(a.maxMarks,2)}),n.jsx("td",{className:"whitespace-nowrap px-4 py-3 text-[13px] text-[var(--ht-neutral-500)]",children:sr(a.updatedAt)}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("button",{type:"button",onClick:()=>s(a),className:"ht-interactive rounded-[4px] border border-[var(--ht-border-default)] px-3 py-1.5 text-[12px] text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)] active:scale-[0.98] focus-visible:outline-none",children:""})})]},a.studentId))})]})}):n.jsx(Mt,{message:"   "})]})}const Fu={pending:" ",submitted:"",graded:""};function wb({items:e=[],onCreate:t,onEdit:r,onDelete:s,onOpenDetail:a}){return n.jsxs("section",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between gap-3",children:[n.jsx("h3",{className:"text-[20px] font-semibold text-[var(--ht-neutral-900)]",children:""}),n.jsx("button",{type:"button",onClick:t,className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-4 text-[13px] font-medium text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)] active:scale-[0.98] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--ht-border-focus)] focus-visible:ring-offset-2",children:"+  "})]}),e.length?n.jsx("div",{className:"space-y-3",children:e.map(l=>{const o=l.assignments.filter(p=>p.status==="pending").length,c=l.assignments.filter(p=>p.status==="submitted").length,i=l.assignments.filter(p=>p.status==="graded").length,d=l.assignments.length;return n.jsxs("article",{className:"ht-surface p-4",children:[n.jsxs("div",{className:"mb-2 flex flex-wrap items-center justify-between gap-2",children:[n.jsx("h4",{className:"text-[16px] font-semibold text-[var(--ht-neutral-900)]",children:l.title}),n.jsxs("span",{className:"text-[12px] text-[var(--ht-neutral-400)]",children:[": ",sr(l.dueDate)]})]}),n.jsx("p",{className:"text-[14px] leading-[1.9] text-[var(--ht-neutral-700)]",children:l.description||"-"}),l.attachmentName?n.jsxs("p",{className:"mt-3 text-[13px] text-[var(--ht-neutral-500)]",children:[": ",l.attachmentName]}):null,n.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-3 text-[12px] text-[var(--ht-neutral-500)]",children:[n.jsxs("span",{children:[" : ",ne(d)]}),n.jsxs("span",{children:[": ",ne(c)]}),n.jsxs("span",{children:[": ",ne(i)]}),n.jsxs("span",{children:[": ",ne(o)]})]}),n.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-2",children:[n.jsx("button",{type:"button",onClick:()=>a(l),className:"ht-interactive rounded-[4px] border border-[var(--ht-border-default)] px-3 py-1.5 text-[12px] text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)] active:scale-[0.98] focus-visible:outline-none",children:" "}),n.jsx("button",{type:"button",onClick:()=>r(l),className:"ht-interactive rounded-[4px] border border-[var(--ht-border-default)] px-3 py-1.5 text-[12px] text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)] active:scale-[0.98] focus-visible:outline-none",children:""}),n.jsx("button",{type:"button",onClick:()=>s(l),className:"ht-interactive rounded-[4px] border border-[var(--ht-border-default)] px-3 py-1.5 text-[12px] text-[var(--ht-danger-600)] hover:bg-[var(--ht-danger-100)] active:scale-[0.98] focus-visible:outline-none",children:""})]}),n.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:Object.keys(Fu).map(p=>{const u=l.assignments.filter(f=>f.status===p).length;return n.jsxs("span",{className:"rounded-full border border-[var(--ht-border-subtle)] bg-[var(--ht-bg-subtle)] px-2 py-1 text-[11px] text-[var(--ht-neutral-600)]",children:[Fu[p],": ",ne(u)]},p)})})]},l.id)})}):n.jsx(Mt,{message:"   "})]})}function kb({posts:e=[],onCreate:t,onEdit:r,onDelete:s}){return n.jsxs("section",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between gap-3",children:[n.jsx("h3",{className:"text-[20px] font-semibold text-[var(--ht-neutral-900)]",children:""}),n.jsx("button",{type:"button",onClick:t,className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-4 text-[13px] font-medium text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)] active:scale-[0.98] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--ht-border-focus)] focus-visible:ring-offset-2",children:"+  "})]}),e.length?n.jsx("div",{className:"space-y-3",children:e.map(a=>n.jsxs("article",{className:"ht-surface p-4",children:[n.jsxs("div",{className:"mb-2 flex flex-wrap items-center justify-between gap-2",children:[n.jsx("h4",{className:"text-[16px] font-semibold text-[var(--ht-neutral-900)]",children:a.title}),n.jsx("span",{className:"text-[12px] text-[var(--ht-neutral-400)]",children:sr(a.createdAt)})]}),n.jsx("p",{className:"text-[14px] leading-[1.9] text-[var(--ht-neutral-700)]",children:a.body||"-"}),a.attachmentName?n.jsxs("p",{className:"mt-3 text-[13px] text-[var(--ht-neutral-500)]",children:[": ",a.attachmentName]}):null,n.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[n.jsx("button",{type:"button",onClick:()=>r(a),className:"ht-interactive rounded-[4px] border border-[var(--ht-border-default)] px-3 py-1.5 text-[12px] text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)] active:scale-[0.98] focus-visible:outline-none",children:""}),n.jsx("button",{type:"button",onClick:()=>s(a),className:"ht-interactive rounded-[4px] border border-[var(--ht-border-default)] px-3 py-1.5 text-[12px] text-[var(--ht-danger-600)] hover:bg-[var(--ht-danger-100)] active:scale-[0.98] focus-visible:outline-none",children:""})]})]},a.id))}):n.jsx(Mt,{message:"   "})]})}function Es({label:e,value:t}){return n.jsxs("div",{className:"ht-soft-surface px-4 py-3",children:[n.jsx("p",{className:"text-[12px] text-[var(--ht-neutral-500)]",children:e}),n.jsx("p",{className:"mt-1 text-[20px] font-semibold text-[var(--ht-neutral-900)]",children:t})]})}const Sb={pending:" ",submitted:"",graded:""};function Cb({summary:e,recentSubmissions:t=[]}){return n.jsxs("aside",{className:"space-y-4",children:[n.jsxs("section",{className:"ht-surface p-4",children:[n.jsx("h3",{className:"mb-4 text-[18px] font-semibold text-[var(--ht-neutral-900)]",children:" "}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(Es,{label:" ",value:ne(e.studentCount)}),n.jsx(Es,{label:" ",value:ne(e.homeworkCount)}),n.jsx(Es,{label:" ",value:`${ne(e.averageGrade,1)}%`}),n.jsx(Es,{label:" ",value:ne(e.announcementCount)})]})]}),n.jsxs("section",{className:"ht-surface p-4",children:[n.jsx("h3",{className:"mb-4 text-[18px] font-semibold text-[var(--ht-neutral-900)]",children:" "}),t.length?n.jsx("div",{className:"space-y-3",children:t.map(r=>n.jsxs("article",{className:"rounded-[4px] border border-[var(--ht-border-subtle)] p-3",children:[n.jsx("p",{className:"text-[13px] font-medium text-[var(--ht-neutral-800)]",children:r.studentName}),n.jsx("p",{className:"mt-1 text-[12px] text-[var(--ht-neutral-600)]",children:r.homeworkTitle}),n.jsxs("div",{className:"mt-2 flex flex-wrap items-center justify-between gap-2",children:[n.jsx("span",{className:"rounded-full bg-[var(--ht-bg-subtle)] px-2 py-1 text-[11px] text-[var(--ht-neutral-600)]",children:Sb[r.status]||r.status}),n.jsx("span",{className:"text-[11px] text-[var(--ht-neutral-400)]",children:sr(r.updatedAt)})]})]},r.id))}):n.jsx(Mt,{message:"   "})]})]})}function Eb({rows:e=[],onViewProfile:t}){return n.jsxs("section",{className:"space-y-4",children:[n.jsx("h3",{className:"text-[20px] font-semibold text-[var(--ht-neutral-900)]",children:""}),e.length?n.jsx("div",{className:"ht-surface ht-scroll overflow-x-auto",children:n.jsxs("table",{className:"min-w-full border-collapse text-right",children:[n.jsx("thead",{className:"bg-[var(--ht-bg-subtle)]",children:n.jsx("tr",{children:[""," "," ",""," "].map(r=>n.jsx("th",{scope:"col",className:"whitespace-nowrap px-4 py-3 text-[11px] font-semibold uppercase tracking-[0.06em] text-[var(--ht-neutral-500)]",children:r},r))})}),n.jsx("tbody",{children:e.map(r=>n.jsxs("tr",{className:"border-t border-[var(--ht-border-subtle)]",children:[n.jsx("td",{className:"px-4 py-3",children:n.jsx("img",{src:r.avatarUrl,alt:` ${r.name}`,className:"h-9 w-9 rounded-full border border-[var(--ht-border-default)] object-cover"})}),n.jsx("td",{className:"whitespace-nowrap px-4 py-3 text-[14px] text-[var(--ht-neutral-800)]",children:r.name}),n.jsx("td",{className:"whitespace-nowrap px-4 py-3 text-[14px] text-[var(--ht-neutral-600)]",children:r.email||"-"}),n.jsx("td",{className:"whitespace-nowrap px-4 py-3",children:n.jsx("span",{className:"rounded-full border border-[var(--ht-border-subtle)] bg-[var(--ht-bg-subtle)] px-2 py-1 text-[11px] text-[var(--ht-neutral-600)]",children:r.status})}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("button",{type:"button",onClick:()=>t(r),className:"ht-interactive rounded-[4px] border border-[var(--ht-border-default)] px-3 py-1.5 text-[12px] text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)] active:scale-[0.98] focus-visible:outline-none",children:" "})})]},r.id))})]})}):n.jsx(Mt,{message:"   "})]})}function Fb({tabs:e,activeKey:t,onChange:r}){const s=m.useRef(null),a=m.useRef({}),[l,o]=m.useState({width:0,x:0}),c=m.useMemo(()=>e.findIndex(i=>i.key===t),[e,t]);return m.useEffect(()=>{const i=s.current,d=a.current[t];if(!i||!d){o({width:0,x:0});return}const p=i.getBoundingClientRect(),u=d.getBoundingClientRect();o({width:u.width,x:u.left-p.left})},[t,e]),n.jsxs("div",{className:"relative border-b border-[var(--ht-border-subtle)]",ref:s,children:[n.jsx("div",{className:"flex flex-wrap gap-1",children:e.map(i=>n.jsx("button",{ref:d=>{a.current[i.key]=d},type:"button",onClick:()=>r(i.key),className:`ht-interactive relative px-4 py-3 text-[14px] font-medium ${t===i.key?"text-[var(--ht-neutral-900)]":"text-[var(--ht-neutral-500)]"} hover:text-[var(--ht-neutral-800)] active:scale-[0.98] focus-visible:outline-none`,children:i.label},i.key))}),n.jsx("span",{className:"ht-tab-indicator absolute bottom-[-1px] block h-[2px] bg-[var(--ht-primary-500)]",style:{width:`${l.width}px`,transform:`translateX(${l.x}px)`,opacity:c>=0?1:0}})]})}const Tb=[{key:"posts",label:""},{key:"homework",label:""},{key:"grades",label:""},{key:"students",label:""}];function Pb({className:e,studentCount:t,activeTab:r,onChangeTab:s,posts:a,homework:l,grades:o,students:c,summary:i,recentSubmissions:d,onCreatePost:p,onEditPost:u,onDeletePost:f,onCreateHomework:y,onEditHomework:b,onDeleteHomework:N,onOpenHomeworkDetail:k,onAddGrade:x,onImportGrade:h,onEditGrade:g,onViewStudent:w}){return n.jsxs("section",{className:"space-y-6",children:[n.jsxs("header",{children:[n.jsx("h2",{className:"ht-display text-[34px] font-semibold leading-[1.3] text-[var(--ht-neutral-900)]",children:e}),n.jsxs("p",{className:"mt-1 text-[14px] text-[var(--ht-neutral-500)]",children:[" : ",t]})]}),n.jsx("div",{className:"border-t border-[var(--ht-border-subtle)]"}),n.jsxs("div",{className:"grid gap-6 lg:grid-cols-[minmax(0,7fr)_minmax(0,3fr)]",children:[n.jsxs("section",{className:"space-y-4",children:[n.jsx(Fb,{tabs:Tb,activeKey:r,onChange:s}),r==="posts"?n.jsx(kb,{posts:a,onCreate:p,onEdit:u,onDelete:f}):null,r==="homework"?n.jsx(wb,{items:l,onCreate:y,onEdit:b,onDelete:N,onOpenDetail:k}):null,r==="grades"?n.jsx(Nb,{rows:o,onAdd:x,onImport:h,onEdit:g}):null,r==="students"?n.jsx(Eb,{rows:c,onViewProfile:w}):null]}),n.jsx(Cb,{summary:i,recentSubmissions:d})]})]})}const Tu={sm:"max-w-[440px]",md:"max-w-[560px]",lg:"max-w-[720px]",xl:"max-w-[920px]"};function Nt({open:e,title:t,description:r,onClose:s,footer:a,size:l="md",children:o}){return m.useEffect(()=>{if(!e)return;const c=d=>{d.key==="Escape"&&(s==null||s())},i=document.body.style.overflow;return document.body.style.overflow="hidden",document.addEventListener("keydown",c),()=>{document.body.style.overflow=i,document.removeEventListener("keydown",c)}},[e,s]),e?n.jsx("div",{className:"ht-modal-overlay",role:"presentation",onMouseDown:c=>{c.target===c.currentTarget&&(s==null||s())},children:n.jsxs("section",{role:"dialog","aria-modal":"true","aria-label":t,className:`ht-modal-panel w-full ${Tu[l]||Tu.md}`,children:[n.jsxs("header",{className:"flex items-start justify-between gap-4 border-b border-[var(--ht-border-subtle)] px-6 py-5",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-[20px] font-semibold leading-[1.5] text-[var(--ht-neutral-900)]",children:t}),r?n.jsx("p",{className:"mt-1 text-[13px] leading-[1.7] text-[var(--ht-neutral-500)]",children:r}):null]}),n.jsx("button",{type:"button",onClick:s,"aria-label":"",className:"ht-interactive inline-flex h-9 w-9 items-center justify-center rounded-[4px] border border-[var(--ht-border-subtle)] text-[var(--ht-neutral-500)] hover:bg-[var(--ht-bg-subtle)] hover:text-[var(--ht-neutral-800)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--ht-border-focus)] focus-visible:ring-offset-2",children:""})]}),n.jsx("div",{className:"px-6 py-5",children:o}),a?n.jsx("footer",{className:"flex items-center justify-start gap-3 border-t border-[var(--ht-border-subtle)] px-6 py-4",children:a}):null]})}):null}function Lb({onPost:e,onHomework:t,onGrade:r,onGradeImport:s,disabled:a=!1}){const l="ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-4 text-[13px] font-medium text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)] active:scale-[0.98] disabled:cursor-not-allowed disabled:opacity-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--ht-border-focus)] focus-visible:ring-offset-2";return n.jsxs("section",{className:"ht-surface p-5 sm:p-6",children:[n.jsx("h2",{className:"mb-5 text-[24px] font-semibold text-[var(--ht-neutral-900)]",children:" "}),n.jsxs("div",{className:"flex flex-wrap gap-3",children:[n.jsx("button",{type:"button",onClick:e,disabled:a,className:l,children:" "}),n.jsx("button",{type:"button",onClick:t,disabled:a,className:l,children:" "}),n.jsx("button",{type:"button",onClick:r,disabled:a,className:l,children:" "}),n.jsx("button",{type:"button",onClick:s,disabled:a,className:l,children:"   "})]})]})}function _b(){return n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",className:"h-5 w-5","aria-hidden":"true",children:[n.jsx("path",{d:"M12 3a4 4 0 0 0-4 4v2.2c0 .8-.2 1.6-.7 2.3L6 13.4v1.1h12v-1.1l-1.3-1.9a4.2 4.2 0 0 1-.7-2.3V7a4 4 0 0 0-4-4Z",stroke:"currentColor",strokeWidth:"1.4"}),n.jsx("path",{d:"M10 17a2 2 0 0 0 4 0",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function Mb(){return n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",className:"h-5 w-5","aria-hidden":"true",children:[n.jsx("path",{d:"m10.5 3 .4 1.8c.1.4.4.7.8.9.4.1.9.1 1.3 0 .4-.2.7-.5.8-.9L14.2 3m4.3 2.5-1.4 1.2c-.3.3-.5.7-.5 1.1s.2.8.5 1.1c.3.3.7.5 1.1.5h1.8m0 4.2h-1.8c-.4 0-.8.2-1.1.5-.3.3-.5.7-.5 1.1s.2.8.5 1.1l1.4 1.2M14.2 21l-.4-1.8c-.1-.4-.4-.7-.8-.9a2 2 0 0 0-1.3 0c-.4.2-.7.5-.8.9L10.5 21m-4.3-2.5 1.4-1.2c.3-.3.5-.7.5-1.1s-.2-.8-.5-1.1c-.3-.3-.7-.5-1.1-.5H4.7m0-4.2h1.8c.4 0 .8-.2 1.1-.5.3-.3.5-.7.5-1.1s-.2-.8-.5-1.1L6.2 5.5",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),n.jsx("circle",{cx:"12",cy:"12",r:"2.4",stroke:"currentColor",strokeWidth:"1.4"})]})}function Pu({label:e,children:t,onClick:r}){return n.jsx("button",{type:"button","aria-label":e,onClick:r,className:"ht-interactive inline-flex h-10 w-10 items-center justify-center rounded-[4px] border border-[var(--ht-border-subtle)] bg-[var(--ht-bg-base)] text-[var(--ht-neutral-600)] hover:bg-[var(--ht-bg-subtle)] hover:text-[var(--ht-neutral-800)] active:scale-[0.98] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--ht-border-focus)] focus-visible:ring-offset-2",children:t})}function Ab({teacherName:e,avatarUrl:t,subjectLabel:r,onOpenNotifications:s,onOpenSettings:a,onOpenSchedule:l,onLogout:o}){return n.jsxs("header",{className:"ht-surface ht-fade-up mb-10 flex flex-col justify-between gap-4 p-5 sm:flex-row sm:items-center sm:p-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("img",{src:t,alt:` ${e}`,className:"h-12 w-12 rounded-full border border-[var(--ht-border-default)] object-cover"}),n.jsxs("div",{children:[n.jsxs("h1",{className:"ht-display text-[30px] font-semibold leading-[1.3] text-[var(--ht-neutral-900)]",children:[" . ",e]}),n.jsx("p",{className:"mt-1 text-[13px] text-[var(--ht-neutral-500)]",children:r})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{type:"button",onClick:l,className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[13px] font-medium text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)] active:scale-[0.98] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--ht-border-focus)] focus-visible:ring-offset-2",children:" "}),n.jsx(Pu,{label:"",onClick:s,children:n.jsx(_b,{})}),n.jsx(Pu,{label:"",onClick:a,children:n.jsx(Mb,{})}),n.jsx("button",{type:"button",onClick:o,className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-4 text-[13px] font-medium text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)] active:scale-[0.98] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--ht-border-focus)] focus-visible:ring-offset-2",children:" "})]})]})}const yl={title:"",body:"",attachmentName:""},jl={title:"",description:"",dueDate:"",maxMarks:"100",attachmentName:""},Lu={studentId:"",examTitle:"",score:"",maxMarks:"100"},_u={studentId:"",status:"pending",score:"",teacherComment:""},Nl={examTitle:"",defaultMaxMarks:"100",sourceType:"image",fileName:"",fileDataUrl:"",ocrText:""},wl={tone:"neutral",loading:!1,error:"",feedback:null,termComment:null},Mu={pending:" ",submitted:"",graded:""},Ib=e=>new Promise((t,r)=>{const s=new FileReader;s.onload=()=>t(String(s.result||"")),s.onerror=()=>r(new Error("  .")),s.readAsDataURL(e)});function Rb(){var Li,_i,Mi,Ai,Ii,Ri,zi,Oi,Di,$i,Bi,Ui,Wi;const e=ur(),{token:t,user:r,logout:s}=xe(),[a,l]=m.useState(!0),[o,c]=m.useState(!1),[i,d]=m.useState(""),[p,u]=m.useState(""),[f,y]=m.useState([]),[b,N]=m.useState([]),[k,x]=m.useState([]),[h,g]=m.useState(""),[w,S]=m.useState({pendingResponses:0,flaggedParents:0,repeatedIncidents:0,weeklySnapshots:[],classAnalysis:[]}),[F,M]=m.useState(""),[B,T]=m.useState("posts"),[_,I]=m.useState(!1),[L,E]=m.useState({open:!1,mode:"create",post:null}),[P,W]=m.useState(yl),[Q,ye]=m.useState({open:!1,mode:"create",item:null}),[D,H]=m.useState(jl),[V,C]=m.useState({open:!1,row:null}),[R,Z]=m.useState(Lu),[ee,je]=m.useState({open:!1,item:null}),[K,ce]=m.useState(_u),[te,dt]=m.useState({open:!1,student:null,profile:null,loading:!1,error:""}),[et,pr]=m.useState({open:!1,title:"",kind:""}),[ve,Ee]=m.useState({open:!1,stage:"upload",loading:!1,preview:null,rows:[]}),[O,G]=m.useState(Nl),[X,ke]=m.useState(wl),bt=async()=>{var v,j;try{l(!0),d("");const[A,$]=await Promise.all([um(t),dm(t)]),Le=A.classes||[];y(Le),N(A.homework||[]),x(A.announcements||[]),g(((v=A.subjects)==null?void 0:v[0])||((j=r==null?void 0:r.subjects)==null?void 0:j[0])||(r==null?void 0:r.subject)||""),S({pendingResponses:Number(($==null?void 0:$.pendingResponses)||0),flaggedParents:Number(($==null?void 0:$.flaggedParents)||0),repeatedIncidents:Number(($==null?void 0:$.repeatedIncidents)||0),weeklySnapshots:Array.isArray($==null?void 0:$.weeklySnapshots)?$.weeklySnapshots:[],classAnalysis:Array.isArray($==null?void 0:$.classAnalysis)?$.classAnalysis:[]})}catch(A){d(Ge(A,"   ."))}finally{l(!1)}};m.useEffect(()=>{bt()},[t]),m.useEffect(()=>{if(!F)return;f.some(j=>j.name===F)||(M(""),T("posts"))},[f,F]);const ae=m.useMemo(()=>f.find(v=>v.name===F)||null,[f,F]),Pm=m.useMemo(()=>(r==null?void 0:r.profilePicture)||(r==null?void 0:r.avatarUrl)||Eu(r||{}),[r]),dn=m.useMemo(()=>{const v=k.map($=>({id:`announcement-${$.id}`,className:$.className,type:"",title:$.title,date:$.updatedAt||$.createdAt})),j=b.map($=>({id:`homework-${$.id}`,className:$.className,type:"",title:$.title,date:$.updatedAt||$.createdAt})),A=f.flatMap($=>($.students||[]).flatMap(Le=>(Le.examMarks||[]).map(_e=>({id:`grade-${$.name}-${Le.id}-${_e.subject}`,className:$.name,type:"",title:`${Le.name} - ${_e.examTitle||_e.subject||""}`,date:_e.updatedAt}))));return[...v,...j,...A].filter($=>$.date).sort(($,Le)=>new Date(Le.date)-new Date($.date))},[k,b,f]),Lm=m.useMemo(()=>_?dn:dn.slice(0,8),[dn,_]),Oa=m.useMemo(()=>k.filter(v=>v.className===F),[k,F]),mr=m.useMemo(()=>b.filter(v=>v.className===F),[b,F]),Da=m.useMemo(()=>((ae==null?void 0:ae.students)||[]).map(j=>{const A=(j.examMarks||[]).find($=>String($.subject||"").toLowerCase()===String(h||"").toLowerCase());return{studentId:j.id,studentName:j.name,examTitle:(A==null?void 0:A.examTitle)||"",score:(A==null?void 0:A.rawScore)===null||(A==null?void 0:A.rawScore)===void 0?(A==null?void 0:A.score)??null:Number(A.rawScore),maxMarks:(A==null?void 0:A.maxMarks)===null||(A==null?void 0:A.maxMarks)===void 0?(A==null?void 0:A.score)===null||(A==null?void 0:A.score)===void 0?null:100:Number(A.maxMarks),updatedAt:(A==null?void 0:A.updatedAt)||null}}),[ae,h]),_m=m.useMemo(()=>((ae==null?void 0:ae.students)||[]).map(j=>{const A=mr.flatMap(Ct=>Ct.assignments.filter(tf=>tf.studentId===j.id)),$=A.some(Ct=>Ct.status==="pending"),Le=A.some(Ct=>Ct.status==="submitted");let _e="";return $?_e="":Le?_e=" ":A.length&&A.every(Ct=>Ct.status==="graded")&&(_e=""),{id:j.id,name:j.name,email:j.email||"",avatarUrl:Eu(j),status:_e}}),[ae,mr]),Mm=m.useMemo(()=>{var A;const v=Da.filter($=>$.score!==null&&$.score!==void 0),j=v.length?v.reduce(($,Le)=>{const _e=Number(Le.score||0),Ct=Number(Le.maxMarks||100)||100;return $+_e/Ct*100},0)/v.length:0;return{studentCount:((A=ae==null?void 0:ae.students)==null?void 0:A.length)||0,homeworkCount:mr.length,averageGrade:j,announcementCount:Oa.length}},[ae,mr,Oa,Da]),Am=m.useMemo(()=>mr.flatMap(v=>v.assignments.filter(j=>j.status==="submitted"||j.status==="graded").map(j=>({id:`${v.id}-${j.studentId}`,studentName:j.studentName,homeworkTitle:v.title,status:j.status,updatedAt:j.updatedAt}))).sort((v,j)=>new Date(j.updatedAt)-new Date(v.updatedAt)).slice(0,8),[mr]),pn=()=>{d(""),u("")},Im=()=>{s(),e("/login",{replace:!0})},Rm=()=>{pr({open:!0,title:"",kind:"notifications"})},zm=()=>{pr({open:!0,title:"",kind:"settings"})},Ti=()=>{pn(),E({open:!0,mode:"create",post:null}),W(yl)},Om=v=>{pn(),E({open:!0,mode:"edit",post:v}),W({title:v.title||"",body:v.body||"",attachmentName:v.attachmentName||""})},Dm=async()=>{if(F){if(!P.title.trim()){d("  .");return}try{c(!0),d(""),L.mode==="edit"&&L.post?(await jv(t,L.post.id,{title:P.title.trim(),body:P.body.trim(),attachmentName:P.attachmentName.trim()}),u("  .")):(await pm(t,{className:F,subject:h,title:P.title.trim(),body:P.body.trim(),attachmentName:P.attachmentName.trim()}),u("  .")),E({open:!1,mode:"create",post:null}),W(yl),await bt()}catch(v){d(Ge(v,"  ."))}finally{c(!1)}}},$m=async v=>{if(window.confirm("     "))try{c(!0),d(""),await Nv(t,v.id),u("  ."),await bt()}catch(A){d(Ge(A,"  ."))}finally{c(!1)}},Pi=()=>{pn(),ye({open:!0,mode:"create",item:null}),H(jl)},Bm=v=>{pn(),ye({open:!0,mode:"edit",item:v}),H({title:v.title||"",description:v.description||"",dueDate:v.dueDate?new Date(v.dueDate).toISOString().slice(0,10):"",maxMarks:String(v.maxMarks||100),attachmentName:v.attachmentName||""})},Um=async()=>{if(!F)return;const v=D.title.trim(),j=Number(D.maxMarks);if(!v){d("  .");return}if(Number.isNaN(j)||j<=0){d("   .");return}try{c(!0),d("");const A={title:v,description:D.description.trim(),dueDate:D.dueDate||null,maxMarks:j,attachmentName:D.attachmentName.trim()};Q.mode==="edit"&&Q.item?(await hv(t,Q.item.id,A),u("  .")):(await fv(t,{className:F,subject:h,...A}),u("  .")),ye({open:!1,mode:"create",item:null}),H(jl),await bt()}catch(A){d(Ge(A,"  ."))}finally{c(!1)}},Wm=async v=>{if(window.confirm("     "))try{c(!0),d(""),await gv(t,v.id),u("  ."),await bt()}catch(A){d(Ge(A,"  ."))}finally{c(!1)}},Hm=v=>{var A;const j=(A=v.assignments)==null?void 0:A[0];je({open:!0,item:v}),ce({studentId:(j==null?void 0:j.studentId)||"",status:(j==null?void 0:j.status)||"pending",score:(j==null?void 0:j.score)===null||(j==null?void 0:j.score)===void 0?"":String(j.score),teacherComment:(j==null?void 0:j.teacherComment)||""})},tt=m.useMemo(()=>{const v=ee.item;return!v||!K.studentId?null:v.assignments.find(j=>j.studentId===K.studentId)||null},[ee.item,K.studentId]),Vm=v=>{const j=ee.item;if(!j)return;const A=j.assignments.find($=>$.studentId===v);A&&ce({studentId:v,status:A.status||"pending",score:A.score===null||A.score===void 0?"":String(A.score),teacherComment:A.teacherComment||""})},Qm=async()=>{const v=ee.item;if(!v||!K.studentId)return;const j=K.score===""?null:Number(K.score);if(j!==null&&Number.isNaN(j)){d("   .");return}try{c(!0),d(""),await xv(t,v.id,{studentId:K.studentId,status:K.status,score:j,teacherComment:K.teacherComment}),u("   ."),await bt(),je({open:!1,item:null}),ce(_u)}catch(A){d(Ge(A,"   ."))}finally{c(!1)}},$a=(v=null)=>{var A,$;pn();const j=(v==null?void 0:v.studentId)||(($=(A=ae==null?void 0:ae.students)==null?void 0:A[0])==null?void 0:$.id)||"";C({open:!0,row:v}),Z({studentId:j,examTitle:(v==null?void 0:v.examTitle)||"",score:(v==null?void 0:v.score)===null||(v==null?void 0:v.score)===void 0?"":String(v.score),maxMarks:(v==null?void 0:v.maxMarks)===null||(v==null?void 0:v.maxMarks)===void 0?"100":String(v.maxMarks)})},Gm=async()=>{if(!R.studentId){d("  .");return}const v=Number(R.score),j=Number(R.maxMarks);if(Number.isNaN(v)||Number.isNaN(j)||j<=0){d("   .");return}try{c(!0),d(""),await cv(t,{studentId:R.studentId,subject:h,examTitle:R.examTitle.trim()||"",score:v,maxMarks:j}),u("  ."),C({open:!1,row:null}),Z(Lu),await bt()}catch(A){d(Ge(A,"  ."))}finally{c(!1)}},Ym=async v=>{ke(wl),dt({open:!0,student:v,profile:null,loading:!0,error:""});try{const j=await lv(t,v.id,{subject:h});dt({open:!0,student:v,profile:j,loading:!1,error:""})}catch(j){dt({open:!0,student:v,profile:null,loading:!1,error:Ge(j,"   .")})}},os=(v,j)=>{var $;const A=F||(($=f[0])==null?void 0:$.name)||"";A&&(M(A),T(v),j==="post"?Ti():j==="homework"?Pi():j==="grade"?$a():j==="grade-import"&&Ba(A))},Ba=(v="")=>{var A;const j=v||F||((A=f[0])==null?void 0:A.name)||"";if(!j){d("      .");return}M(j),G({...Nl,examTitle:R.examTitle||""}),Ee({open:!0,stage:"upload",loading:!1,preview:null,rows:[]})},Ua=()=>{Ee({open:!1,stage:"upload",loading:!1,preview:null,rows:[]}),G(Nl)},Km=async v=>{var A;const j=(A=v.target.files)==null?void 0:A[0];if(j)try{const $=await Ib(j);G(Le=>{var _e;return{...Le,fileName:j.name||"",fileDataUrl:$,sourceType:(_e=j.type)!=null&&_e.includes("pdf")?"pdf":"image"}})}catch($){d(Ge($,"  ."))}},Xm=async()=>{if(!F){d("  .");return}if(!O.fileDataUrl&&!O.ocrText.trim()){d(" /    OCR  .");return}try{Ee(j=>({...j,loading:!0})),d("");const v=await uv(t,{className:F,subject:h,examTitle:O.examTitle.trim()||R.examTitle.trim()||"Assessment",defaultMaxMarks:Number(O.defaultMaxMarks||100),sourceType:O.sourceType,fileDataUrl:O.fileDataUrl,ocrText:O.ocrText.trim()});Ee(j=>({...j,loading:!1,stage:"preview",preview:v,rows:((v==null?void 0:v.detectedRows)||[]).map(A=>({...A,skip:!!A.skip,confirmOverwrite:!!A.confirmOverwrite,examTitle:A.examTitle||O.examTitle.trim()||"Assessment"}))}))}catch(v){Ee(j=>({...j,loading:!1})),d(Ge(v,"   ."))}},Fr=(v,j)=>{Ee(A=>({...A,rows:A.rows.map($=>$.rowIndex===v?{...$,...j}:$)}))},Jm=async()=>{if(!ve.rows.length){d("   .");return}try{Ee(j=>({...j,loading:!0})),d("");const v=await dv(t,{className:F,subject:h,examTitle:O.examTitle.trim()||"Assessment",confirmImport:!0,rows:ve.rows.map(j=>({rowIndex:j.rowIndex,sourceStudentName:j.sourceStudentName,matchedStudentId:j.matchedStudentId||"",score:j.score,maxMarks:j.maxMarks,examTitle:j.examTitle,skip:j.skip===!0,confirmOverwrite:j.confirmOverwrite===!0}))});u(` : ${ne(v.importedCount)}   : ${ne(v.skippedCount)}.`),Ua(),await bt()}catch(v){Ee(j=>({...j,loading:!1})),d(Ge(v,"  ."))}},Zm=async()=>{if(te.student)try{ke(j=>({...j,loading:!0,error:""}));const v=await pv(t,te.student.id,{subject:h,tone:X.tone});ke(j=>({...j,loading:!1,feedback:(v==null?void 0:v.draft)||null}))}catch(v){ke(j=>({...j,loading:!1,error:Ge(v,"   .")}))}},qm=async()=>{if(te.student)try{ke(j=>({...j,loading:!0,error:""}));const v=await mv(t,te.student.id,{subject:h,tone:X.tone,termLabel:"Current Term"});ke(j=>({...j,loading:!1,termComment:(v==null?void 0:v.comment)||null}))}catch(v){ke(j=>({...j,loading:!1,error:Ge(v,"   .")}))}},ef=()=>{var v;return n.jsxs("div",{className:"space-y-10",children:[n.jsxs("section",{className:"grid gap-3 sm:grid-cols-3",children:[n.jsxs("article",{className:"ht-surface p-4",children:[n.jsx("p",{className:"text-[12px] text-[var(--ht-neutral-500)]",children:"Pending responses"}),n.jsx("p",{className:"mt-2 text-[24px] font-semibold text-[var(--ht-neutral-900)]",children:ne(w.pendingResponses)})]}),n.jsxs("article",{className:"ht-surface p-4",children:[n.jsx("p",{className:"text-[12px] text-[var(--ht-neutral-500)]",children:"Flagged parents"}),n.jsx("p",{className:"mt-2 text-[24px] font-semibold text-[var(--ht-neutral-900)]",children:ne(w.flaggedParents)})]}),n.jsxs("article",{className:"ht-surface p-4",children:[n.jsx("p",{className:"text-[12px] text-[var(--ht-neutral-500)]",children:"Repeated incidents"}),n.jsx("p",{className:"mt-2 text-[24px] font-semibold text-[var(--ht-neutral-900)]",children:ne(w.repeatedIncidents)})]})]}),n.jsxs("section",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-baseline justify-between gap-3",children:[n.jsx("h2",{className:"text-[24px] font-semibold text-[var(--ht-neutral-900)]",children:" "}),n.jsxs("span",{className:"text-[13px] text-[var(--ht-neutral-500)]",children:[ne(f.length)," "]})]}),f.length?n.jsx("div",{className:"ht-scroll overflow-x-auto pb-2",children:n.jsx("div",{className:"grid min-w-[320px] grid-cols-1 gap-4 md:grid-cols-2 xl:grid-cols-4",children:f.map(j=>n.jsx(jb,{className:j.name,studentCount:j.students.length,onClick:()=>{M(j.name),T("posts")}},j.name))})}):n.jsx(Mt,{message:"   "})]}),n.jsxs("section",{className:"ht-surface p-5 sm:p-6",children:[n.jsxs("div",{className:"mb-4 flex items-center justify-between gap-3",children:[n.jsx("h2",{className:"text-[20px] font-semibold text-[var(--ht-neutral-900)]",children:"  "}),n.jsxs("span",{className:"text-[13px] text-[var(--ht-neutral-500)]",children:[ne(((v=w.weeklySnapshots)==null?void 0:v.length)||0)," "]})]}),(w.weeklySnapshots||[]).length?n.jsx("div",{className:"grid gap-3 lg:grid-cols-2",children:(w.weeklySnapshots||[]).slice(0,8).map(j=>n.jsxs("article",{className:"rounded-[4px] border border-[var(--ht-border-subtle)] p-3",children:[n.jsx("p",{className:"text-[14px] font-semibold text-[var(--ht-neutral-900)]",children:j.studentName}),n.jsxs("p",{className:"mt-1 text-[12px] text-[var(--ht-neutral-600)]",children:[j.className||"-","  ",j.academicDirection,"  ",j.riskStatus," risk"]}),n.jsx("p",{className:"mt-2 text-[12px] text-[var(--ht-neutral-600)]",children:j.attendancePattern}),n.jsx("p",{className:"mt-1 text-[12px] text-[var(--ht-neutral-600)]",children:j.behaviorNote})]},`${j.studentId}-${j.className}`))}):n.jsx(Mt,{message:"      ."})]}),n.jsxs("section",{className:"ht-surface p-5 sm:p-6",children:[n.jsxs("div",{className:"mb-4 flex items-center justify-between gap-3",children:[n.jsx("h2",{className:"text-[20px] font-semibold text-[var(--ht-neutral-900)]",children:"  "}),n.jsx("span",{className:"text-[13px] text-[var(--ht-neutral-500)]",children:" "})]}),(w.classAnalysis||[]).length?n.jsx("div",{className:"space-y-2",children:(w.classAnalysis||[]).slice(0,6).map((j,A)=>n.jsxs("article",{className:"rounded-[4px] border border-[var(--ht-border-subtle)] p-3",children:[n.jsx("p",{className:"text-[13px] text-[var(--ht-neutral-800)]",children:j.message}),n.jsx("p",{className:"mt-1 text-[12px] text-[var(--ht-neutral-500)]",children:j.suggestion})]},`${j.type}-${j.className}-${A}`))}):n.jsx(Mt,{message:"     ."})]}),n.jsx(yb,{items:Lm,onViewAll:()=>I(j=>!j)}),n.jsx(Lb,{onPost:()=>os("posts","post"),onHomework:()=>os("homework","homework"),onGrade:()=>os("grades","grade"),onGradeImport:()=>os("grades","grade-import"),disabled:!f.length})]})};return n.jsxs("main",{dir:"rtl",className:"ht-theme min-h-screen bg-[var(--ht-bg-base)]",children:[n.jsxs("div",{className:"mx-auto max-w-[1240px] px-4 py-8 sm:px-6 lg:px-12",children:[n.jsx(Ab,{teacherName:(r==null?void 0:r.name)||"",avatarUrl:Pm,subjectLabel:h?`  : ${h}`:"  ",onOpenNotifications:Rm,onOpenSettings:zm,onOpenSchedule:()=>e("/teacher/schedule"),onLogout:Im}),i?n.jsx("div",{className:"mb-6 rounded-[6px] border border-[var(--ht-danger-100)] bg-[var(--ht-danger-100)] px-4 py-3 text-[13px] text-[var(--ht-danger-600)]",children:i}):null,p?n.jsx("div",{className:"mb-6 rounded-[6px] border border-[var(--ht-success-100)] bg-[var(--ht-success-100)] px-4 py-3 text-[13px] text-[var(--ht-success-600)]",children:p}):null,a?n.jsx("section",{className:"ht-surface p-8",children:n.jsx("p",{className:"text-[14px] text-[var(--ht-neutral-500)]",children:"  ..."})}):ae?n.jsxs("section",{className:"space-y-6",children:[n.jsx("button",{type:"button",onClick:()=>{M(""),T("posts")},className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-4 text-[13px] font-medium text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)] active:scale-[0.98] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--ht-border-focus)] focus-visible:ring-offset-2",children:"   "}),n.jsx(Pb,{className:ae.name,studentCount:ae.students.length,activeTab:B,onChangeTab:T,posts:Oa,homework:mr,grades:Da,students:_m,summary:Mm,recentSubmissions:Am,onCreatePost:Ti,onEditPost:Om,onDeletePost:$m,onCreateHomework:Pi,onEditHomework:Bm,onDeleteHomework:Wm,onOpenHomeworkDetail:Hm,onAddGrade:()=>$a(),onImportGrade:()=>Ba(ae.name),onEditGrade:v=>$a(v),onViewStudent:v=>Ym(v)})]}):ef()]}),n.jsx(Nt,{open:L.open,onClose:()=>E({open:!1,mode:"create",post:null}),title:L.mode==="edit"?" ":" ",description:"     .",footer:n.jsxs(n.Fragment,{children:[n.jsx("button",{type:"button",onClick:()=>E({open:!1,mode:"create",post:null}),className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-4 text-[13px] text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)] active:scale-[0.98]",children:""}),n.jsx("button",{type:"button",disabled:o,onClick:Dm,className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-primary-600)] bg-[var(--ht-primary-600)] px-4 text-[13px] text-white hover:bg-[var(--ht-primary-700)] active:scale-[0.98] disabled:opacity-60",children:o?" ...":""})]}),children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:""}),n.jsx("input",{type:"text",value:P.title,onChange:v=>W(j=>({...j,title:v.target.value})),className:"h-10 w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[14px] text-[var(--ht-neutral-800)] outline-none focus:border-[var(--ht-border-focus)]"})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:""}),n.jsx("textarea",{value:P.body,onChange:v=>W(j=>({...j,body:v.target.value})),className:"min-h-[120px] w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 py-2 text-[14px] leading-[1.8] text-[var(--ht-neutral-800)] outline-none focus:border-[var(--ht-border-focus)]"})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:""}),n.jsx("input",{type:"text",value:P.attachmentName,onChange:v=>W(j=>({...j,attachmentName:v.target.value})),className:"h-10 w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[14px] text-[var(--ht-neutral-800)] outline-none focus:border-[var(--ht-border-focus)]"})]})]})}),n.jsx(Nt,{open:Q.open,onClose:()=>ye({open:!1,mode:"create",item:null}),title:Q.mode==="edit"?" ":" ",description:"    .",footer:n.jsxs(n.Fragment,{children:[n.jsx("button",{type:"button",onClick:()=>ye({open:!1,mode:"create",item:null}),className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-4 text-[13px] text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)] active:scale-[0.98]",children:""}),n.jsx("button",{type:"button",disabled:o,onClick:Um,className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-primary-600)] bg-[var(--ht-primary-600)] px-4 text-[13px] text-white hover:bg-[var(--ht-primary-700)] active:scale-[0.98] disabled:opacity-60",children:o?" ...":""})]}),children:n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[n.jsxs("label",{className:"block sm:col-span-2",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:" "}),n.jsx("input",{type:"text",value:D.title,onChange:v=>H(j=>({...j,title:v.target.value})),className:"h-10 w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[14px] text-[var(--ht-neutral-800)] outline-none focus:border-[var(--ht-border-focus)]"})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:" "}),n.jsx("input",{type:"date",value:D.dueDate,onChange:v=>H(j=>({...j,dueDate:v.target.value})),className:"h-10 w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[14px] text-[var(--ht-neutral-800)] outline-none focus:border-[var(--ht-border-focus)]"})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:""}),n.jsx("input",{type:"number",min:"1",value:D.maxMarks,onChange:v=>H(j=>({...j,maxMarks:v.target.value})),className:"h-10 w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[14px] text-[var(--ht-neutral-800)] outline-none focus:border-[var(--ht-border-focus)]"})]}),n.jsxs("label",{className:"block sm:col-span-2",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:""}),n.jsx("textarea",{value:D.description,onChange:v=>H(j=>({...j,description:v.target.value})),className:"min-h-[100px] w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 py-2 text-[14px] leading-[1.8] text-[var(--ht-neutral-800)] outline-none focus:border-[var(--ht-border-focus)]"})]}),n.jsxs("label",{className:"block sm:col-span-2",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:""}),n.jsx("input",{type:"text",value:D.attachmentName,onChange:v=>H(j=>({...j,attachmentName:v.target.value})),className:"h-10 w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[14px] text-[var(--ht-neutral-800)] outline-none focus:border-[var(--ht-border-focus)]"})]})]})}),n.jsx(Nt,{open:V.open,onClose:()=>C({open:!1,row:null}),title:" ",description:"    .",footer:n.jsxs(n.Fragment,{children:[n.jsx("button",{type:"button",disabled:o,onClick:()=>{C({open:!1,row:null}),Ba(F)},className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-4 text-[13px] text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)] active:scale-[0.98] disabled:opacity-60",children:"  "}),n.jsx("button",{type:"button",onClick:()=>C({open:!1,row:null}),className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-4 text-[13px] text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)] active:scale-[0.98]",children:""}),n.jsx("button",{type:"button",disabled:o,onClick:Gm,className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-primary-600)] bg-[var(--ht-primary-600)] px-4 text-[13px] text-white hover:bg-[var(--ht-primary-700)] active:scale-[0.98] disabled:opacity-60",children:o?" ...":""})]}),children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:""}),n.jsxs("select",{value:R.studentId,onChange:v=>Z(j=>({...j,studentId:v.target.value})),className:"h-10 w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[14px] text-[var(--ht-neutral-800)] outline-none focus:border-[var(--ht-border-focus)]",children:[n.jsx("option",{value:"",children:" "}),((ae==null?void 0:ae.students)||[]).map(v=>n.jsx("option",{value:v.id,children:v.name},v.id))]})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:""}),n.jsx("input",{type:"text",value:R.examTitle,onChange:v=>Z(j=>({...j,examTitle:v.target.value})),className:"h-10 w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[14px] text-[var(--ht-neutral-800)] outline-none focus:border-[var(--ht-border-focus)]"})]}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:""}),n.jsx("input",{type:"number",min:"0",value:R.score,onChange:v=>Z(j=>({...j,score:v.target.value})),className:"h-10 w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[14px] text-[var(--ht-neutral-800)] outline-none focus:border-[var(--ht-border-focus)]"})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:""}),n.jsx("input",{type:"number",min:"1",value:R.maxMarks,onChange:v=>Z(j=>({...j,maxMarks:v.target.value})),className:"h-10 w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[14px] text-[var(--ht-neutral-800)] outline-none focus:border-[var(--ht-border-focus)]"})]})]})]})}),n.jsx(Nt,{open:ve.open,onClose:Ua,title:"    ",description:"   PDF   OCR      .",size:"xl",footer:n.jsxs(n.Fragment,{children:[n.jsx("button",{type:"button",onClick:Ua,className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-4 text-[13px] text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)] active:scale-[0.98]",children:""}),ve.stage==="upload"?n.jsx("button",{type:"button",disabled:ve.loading,onClick:Xm,className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-primary-600)] bg-[var(--ht-primary-600)] px-4 text-[13px] text-white hover:bg-[var(--ht-primary-700)] active:scale-[0.98] disabled:opacity-60",children:ve.loading?" ...":""}):n.jsx("button",{type:"button",disabled:ve.loading,onClick:Jm,className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-primary-600)] bg-[var(--ht-primary-600)] px-4 text-[13px] text-white hover:bg-[var(--ht-primary-700)] active:scale-[0.98] disabled:opacity-60",children:ve.loading?" ...":" "})]}),children:ve.stage==="upload"?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("p",{className:"text-[13px] text-[var(--ht-neutral-500)]",children:[" : ",F||"-","  : ",h||"-"]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:"  "}),n.jsx("input",{type:"file",accept:"image/*,application/pdf",onChange:Km,className:"h-10 w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[13px] text-[var(--ht-neutral-700)]"}),O.fileName?n.jsx("p",{className:"mt-1 text-[12px] text-[var(--ht-neutral-500)]",children:O.fileName}):null]}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:" "}),n.jsx("input",{type:"text",value:O.examTitle,onChange:v=>G(j=>({...j,examTitle:v.target.value})),className:"h-10 w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[14px] text-[var(--ht-neutral-800)] outline-none"})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:"  "}),n.jsx("input",{type:"number",min:"1",value:O.defaultMaxMarks,onChange:v=>G(j=>({...j,defaultMaxMarks:v.target.value})),className:"h-10 w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[14px] text-[var(--ht-neutral-800)] outline-none"})]})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:" OCR ( -    PDF)"}),n.jsx("textarea",{value:O.ocrText,onChange:v=>G(j=>({...j,ocrText:v.target.value})),className:"min-h-[120px] w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 py-2 text-[13px] text-[var(--ht-neutral-800)] outline-none",placeholder:"  OCR    ."})]})]}):n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-3 sm:grid-cols-4",children:[n.jsxs("article",{className:"ht-soft-surface p-3",children:[n.jsx("p",{className:"text-[11px] text-[var(--ht-neutral-500)]",children:" "}),n.jsx("p",{className:"mt-1 text-[18px] font-semibold text-[var(--ht-neutral-900)]",children:ne(((_i=(Li=ve.preview)==null?void 0:Li.summary)==null?void 0:_i.totalRows)||0)})]}),n.jsxs("article",{className:"ht-soft-surface p-3",children:[n.jsx("p",{className:"text-[11px] text-[var(--ht-neutral-500)]",children:" "}),n.jsx("p",{className:"mt-1 text-[18px] font-semibold text-[var(--ht-neutral-900)]",children:ne(((Ai=(Mi=ve.preview)==null?void 0:Mi.summary)==null?void 0:Ai.matchedRows)||0)})]}),n.jsxs("article",{className:"ht-soft-surface p-3",children:[n.jsx("p",{className:"text-[11px] text-[var(--ht-neutral-500)]",children:"  "}),n.jsx("p",{className:"mt-1 text-[18px] font-semibold text-[var(--ht-neutral-900)]",children:ne(((Ri=(Ii=ve.preview)==null?void 0:Ii.summary)==null?void 0:Ri.unrecognizedRows)||0)})]}),n.jsxs("article",{className:"ht-soft-surface p-3",children:[n.jsx("p",{className:"text-[11px] text-[var(--ht-neutral-500)]",children:"  "}),n.jsx("p",{className:"mt-1 text-[18px] font-semibold text-[var(--ht-neutral-900)]",children:ne(((Oi=(zi=ve.preview)==null?void 0:zi.summary)==null?void 0:Oi.inconsistentRows)||0)})]})]}),n.jsx("div",{className:"max-h-[420px] overflow-auto rounded-[4px] border border-[var(--ht-border-subtle)]",children:n.jsxs("table",{className:"min-w-full border-collapse text-right",children:[n.jsx("thead",{className:"bg-[var(--ht-bg-subtle)]",children:n.jsx("tr",{children:["  "," ","","","","",""].map(v=>n.jsx("th",{className:"whitespace-nowrap px-3 py-2 text-[11px] font-semibold uppercase tracking-[0.06em] text-[var(--ht-neutral-500)]",children:v},v))})}),n.jsx("tbody",{children:ve.rows.map(v=>{var j,A;return n.jsxs("tr",{className:"border-t border-[var(--ht-border-subtle)]",children:[n.jsx("td",{className:"whitespace-nowrap px-3 py-2 text-[13px] text-[var(--ht-neutral-800)]",children:v.sourceStudentName||`Row ${v.rowIndex+1}`}),n.jsx("td",{className:"px-3 py-2",children:n.jsxs("select",{value:v.matchedStudentId||"",onChange:$=>Fr(v.rowIndex,{matchedStudentId:$.target.value}),className:"h-9 w-[210px] rounded-[4px] border border-[var(--ht-border-default)] px-2 text-[12px] text-[var(--ht-neutral-800)] outline-none",children:[n.jsx("option",{value:"",children:"Unrecognized Name"}),((ae==null?void 0:ae.students)||[]).map($=>n.jsx("option",{value:$.id,children:$.name},$.id))]})}),n.jsx("td",{className:"px-3 py-2",children:n.jsx("input",{type:"number",value:v.score??"",onChange:$=>Fr(v.rowIndex,{score:$.target.value}),className:"h-9 w-20 rounded-[4px] border border-[var(--ht-border-default)] px-2 text-[12px] text-[var(--ht-neutral-800)] outline-none"})}),n.jsx("td",{className:"px-3 py-2",children:n.jsx("input",{type:"number",value:v.maxMarks??"",onChange:$=>Fr(v.rowIndex,{maxMarks:$.target.value}),className:"h-9 w-20 rounded-[4px] border border-[var(--ht-border-default)] px-2 text-[12px] text-[var(--ht-neutral-800)] outline-none"})}),n.jsx("td",{className:"px-3 py-2",children:n.jsx("input",{type:"text",value:v.examTitle||"",onChange:$=>Fr(v.rowIndex,{examTitle:$.target.value}),className:"h-9 w-28 rounded-[4px] border border-[var(--ht-border-default)] px-2 text-[12px] text-[var(--ht-neutral-800)] outline-none"})}),n.jsxs("td",{className:"px-3 py-2 text-[11px] text-[var(--ht-neutral-500)]",children:[(j=v.issues)!=null&&j.length?v.issues.join(" / "):"-",(A=v.overwrite)!=null&&A.requiresOverwriteConfirmation?n.jsxs("label",{className:"mt-1 flex items-center gap-1 text-[11px] text-[var(--ht-danger-600)]",children:[n.jsx("input",{type:"checkbox",checked:v.confirmOverwrite===!0,onChange:$=>Fr(v.rowIndex,{confirmOverwrite:$.target.checked})}),n.jsx("span",{children:" "})]}):null]}),n.jsx("td",{className:"px-3 py-2 text-center",children:n.jsx("input",{type:"checkbox",checked:v.skip===!0,onChange:$=>Fr(v.rowIndex,{skip:$.target.checked})})})]},v.rowIndex)})})]})})]})}),n.jsx(Nt,{open:ee.open,onClose:()=>je({open:!1,item:null}),title:((Di=ee.item)==null?void 0:Di.title)||" ",description:"    .",size:"lg",footer:n.jsxs(n.Fragment,{children:[n.jsx("button",{type:"button",onClick:()=>je({open:!1,item:null}),className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-4 text-[13px] text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)] active:scale-[0.98]",children:""}),n.jsx("button",{type:"button",disabled:o||!K.studentId,onClick:Qm,className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-primary-600)] bg-[var(--ht-primary-600)] px-4 text-[13px] text-white hover:bg-[var(--ht-primary-700)] active:scale-[0.98] disabled:opacity-60",children:o?" ...":""})]}),children:ee.item?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("p",{className:"text-[13px] text-[var(--ht-neutral-500)]",children:[": ",vb(ee.item.dueDate)]}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:""}),n.jsx("select",{value:K.studentId,onChange:v=>Vm(v.target.value),className:"h-10 w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[14px] text-[var(--ht-neutral-800)] outline-none focus:border-[var(--ht-border-focus)]",children:(ee.item.assignments||[]).map(v=>n.jsx("option",{value:v.studentId,children:v.studentName},v.studentId))})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:""}),n.jsxs("select",{value:K.status,onChange:v=>ce(j=>({...j,status:v.target.value})),className:"h-10 w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[14px] text-[var(--ht-neutral-800)] outline-none focus:border-[var(--ht-border-focus)]",children:[n.jsx("option",{value:"pending",children:" "}),n.jsx("option",{value:"submitted",children:""}),n.jsx("option",{value:"graded",children:""})]})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:""}),n.jsx("input",{type:"number",min:"0",max:ee.item.maxMarks,value:K.score,onChange:v=>ce(j=>({...j,score:v.target.value})),className:"h-10 w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[14px] text-[var(--ht-neutral-800)] outline-none focus:border-[var(--ht-border-focus)]"})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:" "}),n.jsx("input",{type:"text",value:K.teacherComment,onChange:v=>ce(j=>({...j,teacherComment:v.target.value})),className:"h-10 w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[14px] text-[var(--ht-neutral-800)] outline-none focus:border-[var(--ht-border-focus)]"})]})]}),n.jsxs("div",{className:"ht-soft-surface p-4",children:[n.jsxs("p",{className:"text-[13px] text-[var(--ht-neutral-600)]",children:["  : ",Mu[tt==null?void 0:tt.status]||"-"]}),n.jsxs("p",{className:"mt-1 text-[13px] text-[var(--ht-neutral-600)]",children:[" : ",sr(tt==null?void 0:tt.updatedAt)]}),n.jsxs("p",{className:"mt-1 text-[13px] text-[var(--ht-neutral-600)]",children:[" : ",(tt==null?void 0:tt.submissionAttachment)||(tt==null?void 0:tt.submissionText)||"  "]})]})]}):null}),n.jsx(Nt,{open:te.open,onClose:()=>{dt({open:!1,student:null,profile:null,loading:!1,error:""}),ke(wl)},title:te.student?` : ${te.student.name}`:" ",description:"     .",size:"lg",children:te.loading?n.jsx("p",{className:"text-[14px] text-[var(--ht-neutral-500)]",children:"   ..."}):te.error?n.jsx("p",{className:"text-[14px] text-[var(--ht-danger-600)]",children:te.error}):te.profile?n.jsxs("div",{className:"space-y-5",children:[n.jsxs("section",{className:"grid gap-3 sm:grid-cols-2",children:[n.jsxs("div",{className:"ht-soft-surface p-4",children:[n.jsx("p",{className:"text-[12px] text-[var(--ht-neutral-500)]",children:""}),n.jsx("p",{className:"mt-1 text-[16px] font-semibold text-[var(--ht-neutral-900)]",children:te.profile.student.name})]}),n.jsxs("div",{className:"ht-soft-surface p-4",children:[n.jsx("p",{className:"text-[12px] text-[var(--ht-neutral-500)]",children:" "}),n.jsx("p",{className:"mt-1 text-[16px] text-[var(--ht-neutral-900)]",children:te.profile.student.email||"-"})]}),n.jsxs("div",{className:"ht-soft-surface p-4",children:[n.jsx("p",{className:"text-[12px] text-[var(--ht-neutral-500)]",children:" "}),n.jsx("p",{className:"mt-1 text-[16px] font-semibold text-[var(--ht-neutral-900)]",children:(()=>{const v=te.profile.examMarks||[];if(!v.length)return"0%";const j=v.reduce((A,$)=>{const Le=Number($.rawScore??$.score??0),_e=Number($.maxMarks||100)||100;return A+Le/_e*100},0)/v.length;return`${ne(j,1)}%`})()})]}),n.jsxs("div",{className:"ht-soft-surface p-4",children:[n.jsx("p",{className:"text-[12px] text-[var(--ht-neutral-500)]",children:" "}),n.jsx("p",{className:"mt-1 text-[16px] text-[var(--ht-neutral-900)]",children:((Bi=($i=te.profile.feedbackReceived)==null?void 0:$i[0])==null?void 0:Bi.content)||"-"})]})]}),te.profile.weeklySnapshot?n.jsxs("section",{className:"ht-soft-surface p-4",children:[n.jsx("h4",{className:"text-[15px] font-semibold text-[var(--ht-neutral-900)]",children:"AI Weekly Snapshot"}),n.jsxs("p",{className:"mt-2 text-[13px] text-[var(--ht-neutral-600)]",children:[te.profile.weeklySnapshot.academicDirection,"  ",te.profile.weeklySnapshot.riskStatus," risk"]}),n.jsx("p",{className:"mt-1 text-[13px] text-[var(--ht-neutral-600)]",children:te.profile.weeklySnapshot.attendancePattern}),n.jsx("p",{className:"mt-1 text-[13px] text-[var(--ht-neutral-600)]",children:te.profile.weeklySnapshot.behaviorNote}),n.jsxs("p",{className:"mt-1 text-[13px] text-[var(--ht-neutral-600)]",children:["Parent engagement: ",te.profile.weeklySnapshot.parentEngagementStatus]})]}):null,n.jsxs("section",{className:"ht-soft-surface space-y-3 p-4",children:[n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsx("h4",{className:"text-[15px] font-semibold text-[var(--ht-neutral-900)]",children:"AI Feedback Assistant"}),n.jsxs("select",{value:X.tone,onChange:v=>ke(j=>({...j,tone:v.target.value})),className:"h-9 rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[13px] text-[var(--ht-neutral-700)] outline-none",children:[n.jsx("option",{value:"neutral",children:"Neutral"}),n.jsx("option",{value:"encouraging",children:"Encouraging"}),n.jsx("option",{value:"firm",children:"Firm"})]}),n.jsx("button",{type:"button",disabled:X.loading,onClick:Zm,className:"ht-interactive inline-flex h-9 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[12px] text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)] disabled:opacity-60",children:X.loading?" ...":"  / "}),n.jsx("button",{type:"button",disabled:X.loading,onClick:qm,className:"ht-interactive inline-flex h-9 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[12px] text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)] disabled:opacity-60",children:X.loading?" ...":"  "})]}),X.error?n.jsx("p",{className:"text-[12px] text-[var(--ht-danger-600)]",children:X.error}):null,X.feedback?n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-1 block text-[12px] text-[var(--ht-neutral-500)]",children:"Teacher Internal Summary (Editable)"}),n.jsx("textarea",{value:X.feedback.teacherInternalSummary||"",onChange:v=>ke(j=>({...j,feedback:{...j.feedback||{},teacherInternalSummary:v.target.value}})),className:"min-h-[84px] w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 py-2 text-[13px] text-[var(--ht-neutral-800)] outline-none"})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-1 block text-[12px] text-[var(--ht-neutral-500)]",children:"Parent Summary (Editable)"}),n.jsx("textarea",{value:X.feedback.parentSummary||"",onChange:v=>ke(j=>({...j,feedback:{...j.feedback||{},parentSummary:v.target.value}})),className:"min-h-[84px] w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 py-2 text-[13px] text-[var(--ht-neutral-800)] outline-none"})]})]}):null,X.termComment?n.jsxs("div",{className:"grid gap-2 sm:grid-cols-2",children:[n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-1 block text-[12px] text-[var(--ht-neutral-500)]",children:"Academic Comment"}),n.jsx("textarea",{value:X.termComment.academicComment||"",onChange:v=>ke(j=>({...j,termComment:{...j.termComment||{},academicComment:v.target.value}})),className:"min-h-[84px] w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 py-2 text-[13px] text-[var(--ht-neutral-800)] outline-none"})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-1 block text-[12px] text-[var(--ht-neutral-500)]",children:"Behavior Reflection"}),n.jsx("textarea",{value:X.termComment.behaviorReflection||"",onChange:v=>ke(j=>({...j,termComment:{...j.termComment||{},behaviorReflection:v.target.value}})),className:"min-h-[84px] w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 py-2 text-[13px] text-[var(--ht-neutral-800)] outline-none"})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-1 block text-[12px] text-[var(--ht-neutral-500)]",children:"Attendance Note"}),n.jsx("textarea",{value:X.termComment.attendanceNote||"",onChange:v=>ke(j=>({...j,termComment:{...j.termComment||{},attendanceNote:v.target.value}})),className:"min-h-[84px] w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 py-2 text-[13px] text-[var(--ht-neutral-800)] outline-none"})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-1 block text-[12px] text-[var(--ht-neutral-500)]",children:"Improvement Recommendation"}),n.jsx("textarea",{value:X.termComment.improvementRecommendation||"",onChange:v=>ke(j=>({...j,termComment:{...j.termComment||{},improvementRecommendation:v.target.value}})),className:"min-h-[84px] w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 py-2 text-[13px] text-[var(--ht-neutral-800)] outline-none"})]})]}):null]}),n.jsxs("section",{children:[n.jsx("h4",{className:"mb-3 text-[16px] font-semibold text-[var(--ht-neutral-900)]",children:" "}),n.jsxs("div",{className:"space-y-2",children:[(te.profile.homework||[]).slice(0,5).map(v=>n.jsxs("article",{className:"rounded-[4px] border border-[var(--ht-border-subtle)] p-3",children:[n.jsx("p",{className:"text-[14px] font-medium text-[var(--ht-neutral-800)]",children:v.title}),n.jsxs("p",{className:"mt-1 text-[12px] text-[var(--ht-neutral-500)]",children:[": ",Mu[v.status]||v.status,"  : ",sr(v.assignmentUpdatedAt)]})]},v.id)),(Ui=te.profile.homework)!=null&&Ui.length?null:n.jsx("p",{className:"text-[13px] text-[var(--ht-neutral-500)]",children:"   "})]})]}),n.jsxs("section",{children:[n.jsx("h4",{className:"mb-3 text-[16px] font-semibold text-[var(--ht-neutral-900)]",children:" "}),n.jsxs("div",{className:"space-y-2",children:[(te.profile.examMarks||[]).slice(0,5).map(v=>n.jsxs("article",{className:"rounded-[4px] border border-[var(--ht-border-subtle)] p-3",children:[n.jsx("p",{className:"text-[14px] font-medium text-[var(--ht-neutral-800)]",children:v.examTitle||v.subject}),n.jsxs("p",{className:"mt-1 text-[12px] text-[var(--ht-neutral-500)]",children:[ne(v.rawScore??v.score,2)," / ",ne(v.maxMarks||100,2)]})]},`${v.subject}-${v.updatedAt}`)),(Wi=te.profile.examMarks)!=null&&Wi.length?null:n.jsx("p",{className:"text-[13px] text-[var(--ht-neutral-500)]",children:"   "})]})]})]}):n.jsx("p",{className:"text-[14px] text-[var(--ht-neutral-500)]",children:"   "})}),n.jsx(Nt,{open:et.open,onClose:()=>pr({open:!1,title:"",kind:""}),title:et.title,children:et.kind==="notifications"?n.jsxs("div",{className:"space-y-2",children:[dn.slice(0,8).map(v=>n.jsxs("article",{className:"rounded-[4px] border border-[var(--ht-border-subtle)] p-3",children:[n.jsx("p",{className:"text-[14px] font-medium text-[var(--ht-neutral-800)]",children:v.title}),n.jsxs("p",{className:"mt-1 text-[12px] text-[var(--ht-neutral-500)]",children:[v.type,"  ",v.className,"  ",sr(v.date)]})]},v.id)),dn.length?null:n.jsx("p",{className:"text-[14px] text-[var(--ht-neutral-500)]",children:"   "})]}):n.jsx("p",{className:"text-[14px] leading-[1.9] text-[var(--ht-neutral-600)]",children:"     .    ."})})]})}const Au={1:"",2:"",3:"",4:"",5:""},zb={pendingResponses:0,flaggedParents:0,repeatedIncidents:0},Ob=(e=[])=>e.reduce((t,r)=>(t[r.name]=r.students||[],t),{});function Db(){var ve,Ee;const e=ur(),{token:t}=xe(),[r,s]=m.useState(!0),[a,l]=m.useState(!1),[o,c]=m.useState(""),[i,d]=m.useState(""),[p,u]=m.useState(""),[f,y]=m.useState([]),[b,N]=m.useState({}),[k,x]=m.useState(zb),[h,g]=m.useState({open:!1,entry:null}),[w,S]=m.useState(new Date().toISOString().slice(0,10)),[F,M]=m.useState({}),[B,T]=m.useState({open:!1,entry:null}),[_,I]=m.useState(""),[L,E]=m.useState(""),[P,W]=m.useState({open:!1,entry:null}),[Q,ye]=m.useState(""),[D,H]=m.useState("low"),[V,C]=m.useState(""),R=async()=>{try{s(!0),c("");const[O,G,X]=await Promise.all([vv(t),um(t),dm(t)]);y(O.entries||[]),N(Ob(G.classes||[])),x({pendingResponses:Number(X.pendingResponses||0),flaggedParents:Number(X.flaggedParents||0),repeatedIncidents:Number(X.repeatedIncidents||0)})}catch(O){c((O==null?void 0:O.message)||"   .")}finally{s(!1)}};m.useEffect(()=>{R()},[t]);const Z=m.useMemo(()=>p?f.filter(O=>String(O.dayOfWeek)===String(p)):f,[p,f]),ee=m.useMemo(()=>Z.reduce((O,G)=>{const X=String(G.dayOfWeek);return O[X]||(O[X]=[]),O[X].push(G),O},{}),[Z]),je=()=>{c(""),d("")},K=O=>{je();const X=(b[O.className]||[]).reduce((ke,bt)=>(ke[bt.id]="present",ke),{});M(X),S(new Date().toISOString().slice(0,10)),g({open:!0,entry:O})},ce=async()=>{const O=h.entry;if(!O)return;const G=b[O.className]||[];if(!G.length){c("     .");return}try{l(!0),c(""),await bv(t,{className:O.className,subject:O.subject,attendanceDate:w,slotStartTime:O.startTime,slotEndTime:O.endTime,entries:G.map(X=>({studentId:X.id,status:F[X.id]||"present"}))}),d("  ."),g({open:!1,entry:null})}catch(X){c((X==null?void 0:X.message)||"  .")}finally{l(!1)}},te=O=>{je(),I(""),E(""),T({open:!0,entry:O})},dt=async()=>{const O=B.entry;if(O){if(!_.trim()||!L.trim()){c("   .");return}try{l(!0),c(""),await pm(t,{className:O.className,subject:O.subject,title:_.trim(),body:L.trim()}),d("  ."),T({open:!1,entry:null})}catch(G){c((G==null?void 0:G.message)||"  .")}finally{l(!1)}}},et=O=>{var X;je();const G=b[O.className]||[];ye(((X=G[0])==null?void 0:X.id)||""),H("low"),C(""),W({open:!0,entry:O})},pr=async()=>{const O=P.entry;if(O){if(!Q||!V.trim()){c("   .");return}try{l(!0),c(""),await yv(t,{className:O.className,subject:O.subject,studentId:Q,severity:D,description:V.trim()}),d("       ."),W({open:!1,entry:null}),await R()}catch(G){c((G==null?void 0:G.message)||"  .")}finally{l(!1)}}};return n.jsxs("main",{dir:"rtl",className:"ht-theme min-h-screen bg-[var(--ht-bg-base)]",children:[n.jsxs("div",{className:"mx-auto max-w-[1200px] px-4 py-8 sm:px-6 lg:px-12",children:[n.jsxs("header",{className:"mb-8 flex flex-wrap items-center justify-between gap-3",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"ht-display text-[30px] font-semibold text-[var(--ht-neutral-900)]",children:" "}),n.jsx("p",{className:"mt-1 text-[13px] text-[var(--ht-neutral-500)]",children:"    "})]}),n.jsx("button",{type:"button",onClick:()=>e("/teacher"),className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-4 text-[13px] font-medium text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)]",children:" "})]}),o?n.jsx("p",{className:"mb-4 rounded-[4px] border border-[var(--ht-danger-100)] bg-[var(--ht-danger-100)] px-3 py-2 text-[13px] text-[var(--ht-danger-600)]",children:o}):null,i?n.jsx("p",{className:"mb-4 rounded-[4px] border border-[var(--ht-success-100)] bg-[var(--ht-success-100)] px-3 py-2 text-[13px] text-[var(--ht-success-600)]",children:i}):null,n.jsxs("section",{className:"mb-6 grid gap-3 sm:grid-cols-3",children:[n.jsxs("article",{className:"ht-surface p-4",children:[n.jsx("p",{className:"text-[12px] text-[var(--ht-neutral-500)]",children:"Pending responses"}),n.jsx("p",{className:"mt-2 text-[24px] font-semibold text-[var(--ht-neutral-900)]",children:k.pendingResponses})]}),n.jsxs("article",{className:"ht-surface p-4",children:[n.jsx("p",{className:"text-[12px] text-[var(--ht-neutral-500)]",children:"Flagged parents"}),n.jsx("p",{className:"mt-2 text-[24px] font-semibold text-[var(--ht-neutral-900)]",children:k.flaggedParents})]}),n.jsxs("article",{className:"ht-surface p-4",children:[n.jsx("p",{className:"text-[12px] text-[var(--ht-neutral-500)]",children:"Repeated incidents"}),n.jsx("p",{className:"mt-2 text-[24px] font-semibold text-[var(--ht-neutral-900)]",children:k.repeatedIncidents})]})]}),n.jsxs("section",{className:"mb-4 flex items-center justify-between gap-3",children:[n.jsx("h2",{className:"text-[20px] font-semibold text-[var(--ht-neutral-900)]",children:""}),n.jsxs("select",{value:p,onChange:O=>u(O.target.value),className:"h-10 rounded-[4px] border border-[var(--ht-border-default)] bg-white px-3 text-[13px] text-[var(--ht-neutral-700)]",children:[n.jsx("option",{value:"",children:" "}),Object.entries(Au).map(([O,G])=>n.jsx("option",{value:O,children:G},O))]})]}),r?n.jsxs("section",{className:"grid gap-3",children:[n.jsx("div",{className:"skeleton h-20"}),n.jsx("div",{className:"skeleton h-20"}),n.jsx("div",{className:"skeleton h-20"})]}):Z.length?n.jsx("section",{className:"space-y-5",children:Object.keys(ee).sort((O,G)=>Number(O)-Number(G)).map(O=>n.jsxs("article",{className:"ht-surface p-5",children:[n.jsx("h3",{className:"mb-4 text-[18px] font-semibold text-[var(--ht-neutral-900)]",children:Au[O]||O}),n.jsx("div",{className:"grid gap-3",children:ee[O].slice().sort((G,X)=>String(G.startTime).localeCompare(String(X.startTime))).map(G=>n.jsx("div",{className:"rounded-[4px] border border-[var(--ht-border-subtle)] bg-[var(--ht-bg-subtle)] p-4",children:n.jsxs("div",{className:"mb-3 flex flex-wrap items-center justify-between gap-3",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-[14px] font-semibold text-[var(--ht-neutral-900)]",children:[G.startTime," - ",G.endTime]}),n.jsxs("p",{className:"text-[13px] text-[var(--ht-neutral-600)]",children:[G.className,"  ",G.subject,"  ",G.room||"-"]})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("button",{type:"button",onClick:()=>K(G),className:"ht-interactive inline-flex h-9 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[12px] font-medium text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-base)]",children:"Mark attendance"}),n.jsx("button",{type:"button",onClick:()=>te(G),className:"ht-interactive inline-flex h-9 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[12px] font-medium text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-base)]",children:"Post update"}),n.jsx("button",{type:"button",onClick:()=>et(G),className:"ht-interactive inline-flex h-9 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[12px] font-medium text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-base)]",children:"Log incident"})]})]})},G.id))})]},O))}):n.jsx("section",{className:"ht-surface p-8 text-center",children:n.jsx("p",{className:"text-[16px] font-medium text-[var(--ht-neutral-800)]",children:"Schedule not yet assigned."})})]}),n.jsxs(Nt,{open:h.open,onClose:()=>g({open:!1,entry:null}),title:" ",description:"    .",size:"lg",footer:n.jsxs(n.Fragment,{children:[n.jsx("button",{type:"button",onClick:()=>g({open:!1,entry:null}),className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-4 text-[13px] text-[var(--ht-neutral-700)]",children:""}),n.jsx("button",{type:"button",disabled:a,onClick:ce,className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-primary-600)] bg-[var(--ht-primary-600)] px-4 text-[13px] text-white disabled:opacity-60",children:a?" ...":""})]}),children:[n.jsxs("label",{className:"mb-3 block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:" "}),n.jsx("input",{type:"date",value:w,onChange:O=>S(O.target.value),className:"h-10 w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[13px]"})]}),n.jsx("div",{className:"space-y-2",children:(b[(ve=h.entry)==null?void 0:ve.className]||[]).map(O=>n.jsxs("div",{className:"flex items-center justify-between rounded-[4px] border border-[var(--ht-border-subtle)] p-2",children:[n.jsx("p",{className:"text-[13px] text-[var(--ht-neutral-700)]",children:O.name}),n.jsxs("select",{value:F[O.id]||"present",onChange:G=>M(X=>({...X,[O.id]:G.target.value})),className:"h-8 rounded-[4px] border border-[var(--ht-border-default)] px-2 text-[12px]",children:[n.jsx("option",{value:"present",children:"Present"}),n.jsx("option",{value:"absent",children:"Absent"}),n.jsx("option",{value:"late",children:"Late"})]})]},O.id))})]}),n.jsxs(Nt,{open:B.open,onClose:()=>T({open:!1,entry:null}),title:"  ",description:"     .",footer:n.jsxs(n.Fragment,{children:[n.jsx("button",{type:"button",onClick:()=>T({open:!1,entry:null}),className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-4 text-[13px] text-[var(--ht-neutral-700)]",children:""}),n.jsx("button",{type:"button",disabled:a,onClick:dt,className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-primary-600)] bg-[var(--ht-primary-600)] px-4 text-[13px] text-white disabled:opacity-60",children:a?" ...":""})]}),children:[n.jsxs("label",{className:"mb-3 block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:""}),n.jsx("input",{type:"text",value:_,onChange:O=>I(O.target.value),className:"h-10 w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[13px]"})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:""}),n.jsx("textarea",{value:L,onChange:O=>E(O.target.value),className:"min-h-[110px] w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 py-2 text-[13px]"})]})]}),n.jsx(Nt,{open:P.open,onClose:()=>W({open:!1,entry:null}),title:"  ",description:"     .",footer:n.jsxs(n.Fragment,{children:[n.jsx("button",{type:"button",onClick:()=>W({open:!1,entry:null}),className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-4 text-[13px] text-[var(--ht-neutral-700)]",children:""}),n.jsx("button",{type:"button",disabled:a,onClick:pr,className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-primary-600)] bg-[var(--ht-primary-600)] px-4 text-[13px] text-white disabled:opacity-60",children:a?" ...":""})]}),children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:""}),n.jsx("select",{value:Q,onChange:O=>ye(O.target.value),className:"h-10 w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[13px]",children:(b[(Ee=P.entry)==null?void 0:Ee.className]||[]).map(O=>n.jsx("option",{value:O.id,children:O.name},O.id))})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:""}),n.jsxs("select",{value:D,onChange:O=>H(O.target.value),className:"h-10 w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[13px]",children:[n.jsx("option",{value:"low",children:"Low"}),n.jsx("option",{value:"medium",children:"Medium"}),n.jsx("option",{value:"high",children:"High"})]})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:" "}),n.jsx("textarea",{value:V,onChange:O=>C(O.target.value),className:"min-h-[110px] w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 py-2 text-[13px]"})]})]})})]})}function Iu(){const{isLoading:e,isAuthenticated:t,role:r}=xe();return e?n.jsx(Ra,{}):n.jsx(_t,{to:t?as(r):"/login",replace:!0})}function $b(){const{isLoading:e,isAuthenticated:t,role:r}=xe();return e?n.jsx(Ra,{}):t?n.jsx(_t,{to:as(r),replace:!0}):n.jsx(tv,{})}function Bb(){return n.jsxs(wg,{children:[n.jsx(oe,{path:"/",element:n.jsx(Iu,{})}),n.jsx(oe,{path:"/login",element:n.jsx($b,{})}),n.jsx(oe,{element:n.jsx(Xg,{}),children:n.jsxs(oe,{path:"/admin",element:n.jsx(Kv,{}),children:[n.jsx(oe,{index:!0,element:n.jsx(e0,{})}),n.jsx(oe,{path:"dashboard",element:n.jsx(_t,{to:"/admin",replace:!0})}),n.jsx(oe,{path:"students",element:n.jsx(x0,{})}),n.jsx(oe,{path:"teachers",element:n.jsx(N0,{})}),n.jsx(oe,{path:"classes",element:n.jsx(t0,{})}),n.jsx(oe,{path:"subjects",element:n.jsx(g0,{})}),n.jsx(oe,{path:"feedback",element:n.jsx(n0,{})}),n.jsx(oe,{path:"import-users",element:n.jsx(i0,{})}),n.jsx(oe,{path:"surveys",element:n.jsx(j0,{})}),n.jsx(oe,{path:"schedule",element:n.jsx(p0,{})}),n.jsx(oe,{path:"notifications",element:n.jsx(u0,{})}),n.jsx(oe,{path:"reports",element:n.jsx(d0,{})}),n.jsx(oe,{path:"settings",element:n.jsx(h0,{})})]})}),n.jsxs(oe,{element:n.jsx(iu,{allow:"teacher"}),children:[n.jsx(oe,{path:"/teacher",element:n.jsx(Rb,{})}),n.jsx(oe,{path:"/teacher/schedule",element:n.jsx(Db,{})})]}),n.jsxs(oe,{element:n.jsx(iu,{allow:"student"}),children:[n.jsx(oe,{path:"/student",element:n.jsx(db,{})}),n.jsx(oe,{path:"/student/schedule",element:n.jsx(fb,{})})]}),n.jsx(oe,{path:"*",element:n.jsx(Iu,{})})]})}const Ru="/edu-bridge/",Ub=Ru==="/"?"":Ru.replace(/\/$/,"");kl.createRoot(document.getElementById("root")).render(n.jsx(Gu.StrictMode,{children:n.jsx(Kg,{children:n.jsx(Lg,{basename:Ub,future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:n.jsx(Bb,{})})})}));
