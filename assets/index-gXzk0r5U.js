function nf(e,t){for(var r=0;r<t.length;r++){const s=t[r];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(s,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=r(a);fetch(a.href,l)}})();function sf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var zu={exports:{}},ga={},Ou={exports:{}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ts=Symbol.for("react.element"),af=Symbol.for("react.portal"),lf=Symbol.for("react.fragment"),of=Symbol.for("react.strict_mode"),cf=Symbol.for("react.profiler"),uf=Symbol.for("react.provider"),df=Symbol.for("react.context"),pf=Symbol.for("react.forward_ref"),mf=Symbol.for("react.suspense"),ff=Symbol.for("react.memo"),hf=Symbol.for("react.lazy"),Hi=Symbol.iterator;function xf(e){return e===null||typeof e!="object"?null:(e=Hi&&e[Hi]||e["@@iterator"],typeof e=="function"?e:null)}var Du={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$u=Object.assign,Bu={};function sn(e,t,r){this.props=e,this.context=t,this.refs=Bu,this.updater=r||Du}sn.prototype.isReactComponent={};sn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};sn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Uu(){}Uu.prototype=sn.prototype;function Co(e,t,r){this.props=e,this.context=t,this.refs=Bu,this.updater=r||Du}var Eo=Co.prototype=new Uu;Eo.constructor=Co;$u(Eo,sn.prototype);Eo.isPureReactComponent=!0;var Vi=Array.isArray,Wu=Object.prototype.hasOwnProperty,Fo={current:null},Hu={key:!0,ref:!0,__self:!0,__source:!0};function Vu(e,t,r){var s,a={},l=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(l=""+t.key),t)Wu.call(t,s)&&!Hu.hasOwnProperty(s)&&(a[s]=t[s]);var i=arguments.length-2;if(i===1)a.children=r;else if(1<i){for(var c=Array(i),u=0;u<i;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(s in i=e.defaultProps,i)a[s]===void 0&&(a[s]=i[s]);return{$$typeof:ts,type:e,key:l,ref:o,props:a,_owner:Fo.current}}function gf(e,t){return{$$typeof:ts,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function To(e){return typeof e=="object"&&e!==null&&e.$$typeof===ts}function vf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Qi=/\/+/g;function Ha(e,t){return typeof e=="object"&&e!==null&&e.key!=null?vf(""+e.key):t.toString(36)}function Ts(e,t,r,s,a){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ts:case af:o=!0}}if(o)return o=e,a=a(o),e=s===""?"."+Ha(o,0):s,Vi(a)?(r="",e!=null&&(r=e.replace(Qi,"$&/")+"/"),Ts(a,t,r,"",function(u){return u})):a!=null&&(To(a)&&(a=gf(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(Qi,"$&/")+"/")+e)),t.push(a)),1;if(o=0,s=s===""?".":s+":",Vi(e))for(var i=0;i<e.length;i++){l=e[i];var c=s+Ha(l,i);o+=Ts(l,t,r,c,a)}else if(c=xf(e),typeof c=="function")for(e=c.call(e),i=0;!(l=e.next()).done;)l=l.value,c=s+Ha(l,i++),o+=Ts(l,t,r,c,a);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function cs(e,t,r){if(e==null)return e;var s=[],a=0;return Ts(e,s,"","",function(l){return t.call(r,l,a++)}),s}function bf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var $e={current:null},Ps={transition:null},yf={ReactCurrentDispatcher:$e,ReactCurrentBatchConfig:Ps,ReactCurrentOwner:Fo};function Qu(){throw Error("act(...) is not supported in production builds of React.")}J.Children={map:cs,forEach:function(e,t,r){cs(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return cs(e,function(){t++}),t},toArray:function(e){return cs(e,function(t){return t})||[]},only:function(e){if(!To(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};J.Component=sn;J.Fragment=lf;J.Profiler=cf;J.PureComponent=Co;J.StrictMode=of;J.Suspense=mf;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yf;J.act=Qu;J.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=$u({},e.props),a=e.key,l=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,o=Fo.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(c in t)Wu.call(t,c)&&!Hu.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&i!==void 0?i[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=r;else if(1<c){i=Array(c);for(var u=0;u<c;u++)i[u]=arguments[u+2];s.children=i}return{$$typeof:ts,type:e.type,key:a,ref:l,props:s,_owner:o}};J.createContext=function(e){return e={$$typeof:df,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:uf,_context:e},e.Consumer=e};J.createElement=Vu;J.createFactory=function(e){var t=Vu.bind(null,e);return t.type=e,t};J.createRef=function(){return{current:null}};J.forwardRef=function(e){return{$$typeof:pf,render:e}};J.isValidElement=To;J.lazy=function(e){return{$$typeof:hf,_payload:{_status:-1,_result:e},_init:bf}};J.memo=function(e,t){return{$$typeof:ff,type:e,compare:t===void 0?null:t}};J.startTransition=function(e){var t=Ps.transition;Ps.transition={};try{e()}finally{Ps.transition=t}};J.unstable_act=Qu;J.useCallback=function(e,t){return $e.current.useCallback(e,t)};J.useContext=function(e){return $e.current.useContext(e)};J.useDebugValue=function(){};J.useDeferredValue=function(e){return $e.current.useDeferredValue(e)};J.useEffect=function(e,t){return $e.current.useEffect(e,t)};J.useId=function(){return $e.current.useId()};J.useImperativeHandle=function(e,t,r){return $e.current.useImperativeHandle(e,t,r)};J.useInsertionEffect=function(e,t){return $e.current.useInsertionEffect(e,t)};J.useLayoutEffect=function(e,t){return $e.current.useLayoutEffect(e,t)};J.useMemo=function(e,t){return $e.current.useMemo(e,t)};J.useReducer=function(e,t,r){return $e.current.useReducer(e,t,r)};J.useRef=function(e){return $e.current.useRef(e)};J.useState=function(e){return $e.current.useState(e)};J.useSyncExternalStore=function(e,t,r){return $e.current.useSyncExternalStore(e,t,r)};J.useTransition=function(){return $e.current.useTransition()};J.version="18.3.1";Ou.exports=J;var m=Ou.exports;const Gu=sf(m),jf=nf({__proto__:null,default:Gu},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nf=m,wf=Symbol.for("react.element"),kf=Symbol.for("react.fragment"),Sf=Object.prototype.hasOwnProperty,Cf=Nf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ef={key:!0,ref:!0,__self:!0,__source:!0};function Yu(e,t,r){var s,a={},l=null,o=null;r!==void 0&&(l=""+r),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)Sf.call(t,s)&&!Ef.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:wf,type:e,key:l,ref:o,props:a,_owner:Cf.current}}ga.Fragment=kf;ga.jsx=Yu;ga.jsxs=Yu;zu.exports=ga;var n=zu.exports,Sl={},Ku={exports:{}},Ze={},Xu={exports:{}},Ju={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,H){var V=D.length;D.push(H);e:for(;0<V;){var C=V-1>>>1,R=D[C];if(0<a(R,H))D[C]=H,D[V]=R,V=C;else break e}}function r(D){return D.length===0?null:D[0]}function s(D){if(D.length===0)return null;var H=D[0],V=D.pop();if(V!==H){D[0]=V;e:for(var C=0,R=D.length,Z=R>>>1;C<Z;){var ee=2*(C+1)-1,je=D[ee],K=ee+1,ce=D[K];if(0>a(je,V))K<R&&0>a(ce,je)?(D[C]=ce,D[K]=V,C=K):(D[C]=je,D[ee]=V,C=ee);else if(K<R&&0>a(ce,V))D[C]=ce,D[K]=V,C=K;else break e}}return H}function a(D,H){var V=D.sortIndex-H.sortIndex;return V!==0?V:D.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var o=Date,i=o.now();e.unstable_now=function(){return o.now()-i}}var c=[],u=[],p=1,d=null,f=3,N=!1,b=!1,j=!1,k=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(D){for(var H=r(u);H!==null;){if(H.callback===null)s(u);else if(H.startTime<=D)s(u),H.sortIndex=H.expirationTime,t(c,H);else break;H=r(u)}}function w(D){if(j=!1,g(D),!b)if(r(c)!==null)b=!0,Q(S);else{var H=r(u);H!==null&&ye(w,H.startTime-D)}}function S(D,H){b=!1,j&&(j=!1,x(B),B=-1),N=!0;var V=f;try{for(g(H),d=r(c);d!==null&&(!(d.expirationTime>H)||D&&!I());){var C=d.callback;if(typeof C=="function"){d.callback=null,f=d.priorityLevel;var R=C(d.expirationTime<=H);H=e.unstable_now(),typeof R=="function"?d.callback=R:d===r(c)&&s(c),g(H)}else s(c);d=r(c)}if(d!==null)var Z=!0;else{var ee=r(u);ee!==null&&ye(w,ee.startTime-H),Z=!1}return Z}finally{d=null,f=V,N=!1}}var F=!1,M=null,B=-1,T=5,_=-1;function I(){return!(e.unstable_now()-_<T)}function L(){if(M!==null){var D=e.unstable_now();_=D;var H=!0;try{H=M(!0,D)}finally{H?E():(F=!1,M=null)}}else F=!1}var E;if(typeof h=="function")E=function(){h(L)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,W=P.port2;P.port1.onmessage=L,E=function(){W.postMessage(null)}}else E=function(){k(L,0)};function Q(D){M=D,F||(F=!0,E())}function ye(D,H){B=k(function(){D(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){b||N||(b=!0,Q(S))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(D){switch(f){case 1:case 2:case 3:var H=3;break;default:H=f}var V=f;f=H;try{return D()}finally{f=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,H){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var V=f;f=D;try{return H()}finally{f=V}},e.unstable_scheduleCallback=function(D,H,V){var C=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?C+V:C):V=C,D){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=V+R,D={id:p++,callback:H,priorityLevel:D,startTime:V,expirationTime:R,sortIndex:-1},V>C?(D.sortIndex=V,t(u,D),r(c)===null&&D===r(u)&&(j?(x(B),B=-1):j=!0,ye(w,V-C))):(D.sortIndex=R,t(c,D),b||N||(b=!0,Q(S))),D},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(D){var H=f;return function(){var V=f;f=H;try{return D.apply(this,arguments)}finally{f=V}}}})(Ju);Xu.exports=Ju;var Ff=Xu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tf=m,Je=Ff;function z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Zu=new Set,Rn={};function Cr(e,t){Kr(e,t),Kr(e+"Capture",t)}function Kr(e,t){for(Rn[e]=t,e=0;e<t.length;e++)Zu.add(t[e])}var At=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cl=Object.prototype.hasOwnProperty,Pf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Gi={},Yi={};function Lf(e){return Cl.call(Yi,e)?!0:Cl.call(Gi,e)?!1:Pf.test(e)?Yi[e]=!0:(Gi[e]=!0,!1)}function _f(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Mf(e,t,r,s){if(t===null||typeof t>"u"||_f(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Be(e,t,r,s,a,l,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=o}var Le={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Le[e]=new Be(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Le[t]=new Be(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Le[e]=new Be(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Le[e]=new Be(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Le[e]=new Be(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Le[e]=new Be(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Le[e]=new Be(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Le[e]=new Be(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Le[e]=new Be(e,5,!1,e.toLowerCase(),null,!1,!1)});var Po=/[\-:]([a-z])/g;function Lo(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Po,Lo);Le[t]=new Be(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Po,Lo);Le[t]=new Be(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Po,Lo);Le[t]=new Be(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Le[e]=new Be(e,1,!1,e.toLowerCase(),null,!1,!1)});Le.xlinkHref=new Be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Le[e]=new Be(e,1,!1,e.toLowerCase(),null,!0,!0)});function _o(e,t,r,s){var a=Le.hasOwnProperty(t)?Le[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Mf(t,r,a,s)&&(r=null),s||a===null?Lf(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,s=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var Ot=Tf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,us=Symbol.for("react.element"),Lr=Symbol.for("react.portal"),_r=Symbol.for("react.fragment"),Mo=Symbol.for("react.strict_mode"),El=Symbol.for("react.profiler"),qu=Symbol.for("react.provider"),ed=Symbol.for("react.context"),Ao=Symbol.for("react.forward_ref"),Fl=Symbol.for("react.suspense"),Tl=Symbol.for("react.suspense_list"),Io=Symbol.for("react.memo"),Ut=Symbol.for("react.lazy"),td=Symbol.for("react.offscreen"),Ki=Symbol.iterator;function hn(e){return e===null||typeof e!="object"?null:(e=Ki&&e[Ki]||e["@@iterator"],typeof e=="function"?e:null)}var fe=Object.assign,Va;function wn(e){if(Va===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Va=t&&t[1]||""}return`
`+Va+e}var Qa=!1;function Ga(e,t){if(!e||Qa)return"";Qa=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var s=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){s=u}e.call(t.prototype)}else{try{throw Error()}catch(u){s=u}e()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),l=s.stack.split(`
`),o=a.length-1,i=l.length-1;1<=o&&0<=i&&a[o]!==l[i];)i--;for(;1<=o&&0<=i;o--,i--)if(a[o]!==l[i]){if(o!==1||i!==1)do if(o--,i--,0>i||a[o]!==l[i]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=i);break}}}finally{Qa=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?wn(e):""}function Af(e){switch(e.tag){case 5:return wn(e.type);case 16:return wn("Lazy");case 13:return wn("Suspense");case 19:return wn("SuspenseList");case 0:case 2:case 15:return e=Ga(e.type,!1),e;case 11:return e=Ga(e.type.render,!1),e;case 1:return e=Ga(e.type,!0),e;default:return""}}function Pl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _r:return"Fragment";case Lr:return"Portal";case El:return"Profiler";case Mo:return"StrictMode";case Fl:return"Suspense";case Tl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ed:return(e.displayName||"Context")+".Consumer";case qu:return(e._context.displayName||"Context")+".Provider";case Ao:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Io:return t=e.displayName||null,t!==null?t:Pl(e.type)||"Memo";case Ut:t=e._payload,e=e._init;try{return Pl(e(t))}catch{}}return null}function If(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pl(t);case 8:return t===Mo?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ar(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Rf(e){var t=rd(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,l=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){s=""+o,l.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ds(e){e._valueTracker||(e._valueTracker=Rf(e))}function nd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=rd(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function Ws(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ll(e,t){var r=t.checked;return fe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Xi(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=ar(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function sd(e,t){t=t.checked,t!=null&&_o(e,"checked",t,!1)}function _l(e,t){sd(e,t);var r=ar(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ml(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ml(e,t.type,ar(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ji(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ml(e,t,r){(t!=="number"||Ws(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var kn=Array.isArray;function Wr(e,t,r,s){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&s&&(e[r].defaultSelected=!0)}else{for(r=""+ar(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Al(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(z(91));return fe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Zi(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(z(92));if(kn(r)){if(1<r.length)throw Error(z(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ar(r)}}function ad(e,t){var r=ar(t.value),s=ar(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function qi(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ld(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Il(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ld(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ps,od=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ps=ps||document.createElement("div"),ps.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ps.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function zn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var En={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zf=["Webkit","ms","Moz","O"];Object.keys(En).forEach(function(e){zf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),En[t]=En[e]})});function id(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||En.hasOwnProperty(e)&&En[e]?(""+t).trim():t+"px"}function cd(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,a=id(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,a):e[r]=a}}var Of=fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rl(e,t){if(t){if(Of[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(z(62))}}function zl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ol=null;function Ro(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Dl=null,Hr=null,Vr=null;function ec(e){if(e=ss(e)){if(typeof Dl!="function")throw Error(z(280));var t=e.stateNode;t&&(t=Na(t),Dl(e.stateNode,e.type,t))}}function ud(e){Hr?Vr?Vr.push(e):Vr=[e]:Hr=e}function dd(){if(Hr){var e=Hr,t=Vr;if(Vr=Hr=null,ec(e),t)for(e=0;e<t.length;e++)ec(t[e])}}function pd(e,t){return e(t)}function md(){}var Ya=!1;function fd(e,t,r){if(Ya)return e(t,r);Ya=!0;try{return pd(e,t,r)}finally{Ya=!1,(Hr!==null||Vr!==null)&&(md(),dd())}}function On(e,t){var r=e.stateNode;if(r===null)return null;var s=Na(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(z(231,t,typeof r));return r}var $l=!1;if(At)try{var xn={};Object.defineProperty(xn,"passive",{get:function(){$l=!0}}),window.addEventListener("test",xn,xn),window.removeEventListener("test",xn,xn)}catch{$l=!1}function Df(e,t,r,s,a,l,o,i,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(p){this.onError(p)}}var Fn=!1,Hs=null,Vs=!1,Bl=null,$f={onError:function(e){Fn=!0,Hs=e}};function Bf(e,t,r,s,a,l,o,i,c){Fn=!1,Hs=null,Df.apply($f,arguments)}function Uf(e,t,r,s,a,l,o,i,c){if(Bf.apply(this,arguments),Fn){if(Fn){var u=Hs;Fn=!1,Hs=null}else throw Error(z(198));Vs||(Vs=!0,Bl=u)}}function Er(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function hd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function tc(e){if(Er(e)!==e)throw Error(z(188))}function Wf(e){var t=e.alternate;if(!t){if(t=Er(e),t===null)throw Error(z(188));return t!==e?null:e}for(var r=e,s=t;;){var a=r.return;if(a===null)break;var l=a.alternate;if(l===null){if(s=a.return,s!==null){r=s;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===r)return tc(a),e;if(l===s)return tc(a),t;l=l.sibling}throw Error(z(188))}if(r.return!==s.return)r=a,s=l;else{for(var o=!1,i=a.child;i;){if(i===r){o=!0,r=a,s=l;break}if(i===s){o=!0,s=a,r=l;break}i=i.sibling}if(!o){for(i=l.child;i;){if(i===r){o=!0,r=l,s=a;break}if(i===s){o=!0,s=l,r=a;break}i=i.sibling}if(!o)throw Error(z(189))}}if(r.alternate!==s)throw Error(z(190))}if(r.tag!==3)throw Error(z(188));return r.stateNode.current===r?e:t}function xd(e){return e=Wf(e),e!==null?gd(e):null}function gd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=gd(e);if(t!==null)return t;e=e.sibling}return null}var vd=Je.unstable_scheduleCallback,rc=Je.unstable_cancelCallback,Hf=Je.unstable_shouldYield,Vf=Je.unstable_requestPaint,ge=Je.unstable_now,Qf=Je.unstable_getCurrentPriorityLevel,zo=Je.unstable_ImmediatePriority,bd=Je.unstable_UserBlockingPriority,Qs=Je.unstable_NormalPriority,Gf=Je.unstable_LowPriority,yd=Je.unstable_IdlePriority,va=null,wt=null;function Yf(e){if(wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(va,e,void 0,(e.current.flags&128)===128)}catch{}}var ht=Math.clz32?Math.clz32:Jf,Kf=Math.log,Xf=Math.LN2;function Jf(e){return e>>>=0,e===0?32:31-(Kf(e)/Xf|0)|0}var ms=64,fs=4194304;function Sn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Gs(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,a=e.suspendedLanes,l=e.pingedLanes,o=r&268435455;if(o!==0){var i=o&~a;i!==0?s=Sn(i):(l&=o,l!==0&&(s=Sn(l)))}else o=r&~a,o!==0?s=Sn(o):l!==0&&(s=Sn(l));if(s===0)return 0;if(t!==0&&t!==s&&!(t&a)&&(a=s&-s,l=t&-t,a>=l||a===16&&(l&4194240)!==0))return t;if(s&4&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-ht(t),a=1<<r,s|=e[r],t&=~a;return s}function Zf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qf(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,l=e.pendingLanes;0<l;){var o=31-ht(l),i=1<<o,c=a[o];c===-1?(!(i&r)||i&s)&&(a[o]=Zf(i,t)):c<=t&&(e.expiredLanes|=i),l&=~i}}function Ul(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function jd(){var e=ms;return ms<<=1,!(ms&4194240)&&(ms=64),e}function Ka(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function rs(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ht(t),e[t]=r}function eh(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-ht(r),l=1<<a;t[a]=0,s[a]=-1,e[a]=-1,r&=~l}}function Oo(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-ht(r),a=1<<s;a&t|e[s]&t&&(e[s]|=t),r&=~a}}var re=0;function Nd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var wd,Do,kd,Sd,Cd,Wl=!1,hs=[],Kt=null,Xt=null,Jt=null,Dn=new Map,$n=new Map,Ht=[],th="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nc(e,t){switch(e){case"focusin":case"focusout":Kt=null;break;case"dragenter":case"dragleave":Xt=null;break;case"mouseover":case"mouseout":Jt=null;break;case"pointerover":case"pointerout":Dn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":$n.delete(t.pointerId)}}function gn(e,t,r,s,a,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:l,targetContainers:[a]},t!==null&&(t=ss(t),t!==null&&Do(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function rh(e,t,r,s,a){switch(t){case"focusin":return Kt=gn(Kt,e,t,r,s,a),!0;case"dragenter":return Xt=gn(Xt,e,t,r,s,a),!0;case"mouseover":return Jt=gn(Jt,e,t,r,s,a),!0;case"pointerover":var l=a.pointerId;return Dn.set(l,gn(Dn.get(l)||null,e,t,r,s,a)),!0;case"gotpointercapture":return l=a.pointerId,$n.set(l,gn($n.get(l)||null,e,t,r,s,a)),!0}return!1}function Ed(e){var t=xr(e.target);if(t!==null){var r=Er(t);if(r!==null){if(t=r.tag,t===13){if(t=hd(r),t!==null){e.blockedOn=t,Cd(e.priority,function(){kd(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ls(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Hl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);Ol=s,r.target.dispatchEvent(s),Ol=null}else return t=ss(r),t!==null&&Do(t),e.blockedOn=r,!1;t.shift()}return!0}function sc(e,t,r){Ls(e)&&r.delete(t)}function nh(){Wl=!1,Kt!==null&&Ls(Kt)&&(Kt=null),Xt!==null&&Ls(Xt)&&(Xt=null),Jt!==null&&Ls(Jt)&&(Jt=null),Dn.forEach(sc),$n.forEach(sc)}function vn(e,t){e.blockedOn===t&&(e.blockedOn=null,Wl||(Wl=!0,Je.unstable_scheduleCallback(Je.unstable_NormalPriority,nh)))}function Bn(e){function t(a){return vn(a,e)}if(0<hs.length){vn(hs[0],e);for(var r=1;r<hs.length;r++){var s=hs[r];s.blockedOn===e&&(s.blockedOn=null)}}for(Kt!==null&&vn(Kt,e),Xt!==null&&vn(Xt,e),Jt!==null&&vn(Jt,e),Dn.forEach(t),$n.forEach(t),r=0;r<Ht.length;r++)s=Ht[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<Ht.length&&(r=Ht[0],r.blockedOn===null);)Ed(r),r.blockedOn===null&&Ht.shift()}var Qr=Ot.ReactCurrentBatchConfig,Ys=!0;function sh(e,t,r,s){var a=re,l=Qr.transition;Qr.transition=null;try{re=1,$o(e,t,r,s)}finally{re=a,Qr.transition=l}}function ah(e,t,r,s){var a=re,l=Qr.transition;Qr.transition=null;try{re=4,$o(e,t,r,s)}finally{re=a,Qr.transition=l}}function $o(e,t,r,s){if(Ys){var a=Hl(e,t,r,s);if(a===null)al(e,t,s,Ks,r),nc(e,s);else if(rh(a,e,t,r,s))s.stopPropagation();else if(nc(e,s),t&4&&-1<th.indexOf(e)){for(;a!==null;){var l=ss(a);if(l!==null&&wd(l),l=Hl(e,t,r,s),l===null&&al(e,t,s,Ks,r),l===a)break;a=l}a!==null&&s.stopPropagation()}else al(e,t,s,null,r)}}var Ks=null;function Hl(e,t,r,s){if(Ks=null,e=Ro(s),e=xr(e),e!==null)if(t=Er(e),t===null)e=null;else if(r=t.tag,r===13){if(e=hd(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ks=e,null}function Fd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qf()){case zo:return 1;case bd:return 4;case Qs:case Gf:return 16;case yd:return 536870912;default:return 16}default:return 16}}var Qt=null,Bo=null,_s=null;function Td(){if(_s)return _s;var e,t=Bo,r=t.length,s,a="value"in Qt?Qt.value:Qt.textContent,l=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(s=1;s<=o&&t[r-s]===a[l-s];s++);return _s=a.slice(e,1<s?1-s:void 0)}function Ms(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function xs(){return!0}function ac(){return!1}function qe(e){function t(r,s,a,l,o){this._reactName=r,this._targetInst=a,this.type=s,this.nativeEvent=l,this.target=o,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(r=e[i],this[i]=r?r(l):l[i]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?xs:ac,this.isPropagationStopped=ac,this}return fe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=xs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=xs)},persist:function(){},isPersistent:xs}),t}var an={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uo=qe(an),ns=fe({},an,{view:0,detail:0}),lh=qe(ns),Xa,Ja,bn,ba=fe({},ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bn&&(bn&&e.type==="mousemove"?(Xa=e.screenX-bn.screenX,Ja=e.screenY-bn.screenY):Ja=Xa=0,bn=e),Xa)},movementY:function(e){return"movementY"in e?e.movementY:Ja}}),lc=qe(ba),oh=fe({},ba,{dataTransfer:0}),ih=qe(oh),ch=fe({},ns,{relatedTarget:0}),Za=qe(ch),uh=fe({},an,{animationName:0,elapsedTime:0,pseudoElement:0}),dh=qe(uh),ph=fe({},an,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mh=qe(ph),fh=fe({},an,{data:0}),oc=qe(fh),hh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=gh[e])?!!t[e]:!1}function Wo(){return vh}var bh=fe({},ns,{key:function(e){if(e.key){var t=hh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ms(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wo,charCode:function(e){return e.type==="keypress"?Ms(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ms(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yh=qe(bh),jh=fe({},ba,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ic=qe(jh),Nh=fe({},ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wo}),wh=qe(Nh),kh=fe({},an,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sh=qe(kh),Ch=fe({},ba,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Eh=qe(Ch),Fh=[9,13,27,32],Ho=At&&"CompositionEvent"in window,Tn=null;At&&"documentMode"in document&&(Tn=document.documentMode);var Th=At&&"TextEvent"in window&&!Tn,Pd=At&&(!Ho||Tn&&8<Tn&&11>=Tn),cc=" ",uc=!1;function Ld(e,t){switch(e){case"keyup":return Fh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _d(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mr=!1;function Ph(e,t){switch(e){case"compositionend":return _d(t);case"keypress":return t.which!==32?null:(uc=!0,cc);case"textInput":return e=t.data,e===cc&&uc?null:e;default:return null}}function Lh(e,t){if(Mr)return e==="compositionend"||!Ho&&Ld(e,t)?(e=Td(),_s=Bo=Qt=null,Mr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Pd&&t.locale!=="ko"?null:t.data;default:return null}}var _h={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!_h[e.type]:t==="textarea"}function Md(e,t,r,s){ud(s),t=Xs(t,"onChange"),0<t.length&&(r=new Uo("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var Pn=null,Un=null;function Mh(e){Hd(e,0)}function ya(e){var t=Rr(e);if(nd(t))return e}function Ah(e,t){if(e==="change")return t}var Ad=!1;if(At){var qa;if(At){var el="oninput"in document;if(!el){var pc=document.createElement("div");pc.setAttribute("oninput","return;"),el=typeof pc.oninput=="function"}qa=el}else qa=!1;Ad=qa&&(!document.documentMode||9<document.documentMode)}function mc(){Pn&&(Pn.detachEvent("onpropertychange",Id),Un=Pn=null)}function Id(e){if(e.propertyName==="value"&&ya(Un)){var t=[];Md(t,Un,e,Ro(e)),fd(Mh,t)}}function Ih(e,t,r){e==="focusin"?(mc(),Pn=t,Un=r,Pn.attachEvent("onpropertychange",Id)):e==="focusout"&&mc()}function Rh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ya(Un)}function zh(e,t){if(e==="click")return ya(t)}function Oh(e,t){if(e==="input"||e==="change")return ya(t)}function Dh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gt=typeof Object.is=="function"?Object.is:Dh;function Wn(e,t){if(gt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var a=r[s];if(!Cl.call(t,a)||!gt(e[a],t[a]))return!1}return!0}function fc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hc(e,t){var r=fc(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fc(r)}}function Rd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Rd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function zd(){for(var e=window,t=Ws();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ws(e.document)}return t}function Vo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function $h(e){var t=zd(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Rd(r.ownerDocument.documentElement,r)){if(s!==null&&Vo(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,l=Math.min(s.start,a);s=s.end===void 0?l:Math.min(s.end,a),!e.extend&&l>s&&(a=s,s=l,l=a),a=hc(r,l);var o=hc(r,s);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),l>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Bh=At&&"documentMode"in document&&11>=document.documentMode,Ar=null,Vl=null,Ln=null,Ql=!1;function xc(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ql||Ar==null||Ar!==Ws(s)||(s=Ar,"selectionStart"in s&&Vo(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Ln&&Wn(Ln,s)||(Ln=s,s=Xs(Vl,"onSelect"),0<s.length&&(t=new Uo("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=Ar)))}function gs(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ir={animationend:gs("Animation","AnimationEnd"),animationiteration:gs("Animation","AnimationIteration"),animationstart:gs("Animation","AnimationStart"),transitionend:gs("Transition","TransitionEnd")},tl={},Od={};At&&(Od=document.createElement("div").style,"AnimationEvent"in window||(delete Ir.animationend.animation,delete Ir.animationiteration.animation,delete Ir.animationstart.animation),"TransitionEvent"in window||delete Ir.transitionend.transition);function ja(e){if(tl[e])return tl[e];if(!Ir[e])return e;var t=Ir[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Od)return tl[e]=t[r];return e}var Dd=ja("animationend"),$d=ja("animationiteration"),Bd=ja("animationstart"),Ud=ja("transitionend"),Wd=new Map,gc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function or(e,t){Wd.set(e,t),Cr(t,[e])}for(var rl=0;rl<gc.length;rl++){var nl=gc[rl],Uh=nl.toLowerCase(),Wh=nl[0].toUpperCase()+nl.slice(1);or(Uh,"on"+Wh)}or(Dd,"onAnimationEnd");or($d,"onAnimationIteration");or(Bd,"onAnimationStart");or("dblclick","onDoubleClick");or("focusin","onFocus");or("focusout","onBlur");or(Ud,"onTransitionEnd");Kr("onMouseEnter",["mouseout","mouseover"]);Kr("onMouseLeave",["mouseout","mouseover"]);Kr("onPointerEnter",["pointerout","pointerover"]);Kr("onPointerLeave",["pointerout","pointerover"]);Cr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hh=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cn));function vc(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,Uf(s,t,void 0,e),e.currentTarget=null}function Hd(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],a=s.event;s=s.listeners;e:{var l=void 0;if(t)for(var o=s.length-1;0<=o;o--){var i=s[o],c=i.instance,u=i.currentTarget;if(i=i.listener,c!==l&&a.isPropagationStopped())break e;vc(a,i,u),l=c}else for(o=0;o<s.length;o++){if(i=s[o],c=i.instance,u=i.currentTarget,i=i.listener,c!==l&&a.isPropagationStopped())break e;vc(a,i,u),l=c}}}if(Vs)throw e=Bl,Vs=!1,Bl=null,e}function le(e,t){var r=t[Jl];r===void 0&&(r=t[Jl]=new Set);var s=e+"__bubble";r.has(s)||(Vd(t,e,2,!1),r.add(s))}function sl(e,t,r){var s=0;t&&(s|=4),Vd(r,e,s,t)}var vs="_reactListening"+Math.random().toString(36).slice(2);function Hn(e){if(!e[vs]){e[vs]=!0,Zu.forEach(function(r){r!=="selectionchange"&&(Hh.has(r)||sl(r,!1,e),sl(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[vs]||(t[vs]=!0,sl("selectionchange",!1,t))}}function Vd(e,t,r,s){switch(Fd(t)){case 1:var a=sh;break;case 4:a=ah;break;default:a=$o}r=a.bind(null,t,r,e),a=void 0,!$l||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function al(e,t,r,s,a){var l=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var i=s.stateNode.containerInfo;if(i===a||i.nodeType===8&&i.parentNode===a)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;i!==null;){if(o=xr(i),o===null)return;if(c=o.tag,c===5||c===6){s=l=o;continue e}i=i.parentNode}}s=s.return}fd(function(){var u=l,p=Ro(r),d=[];e:{var f=Wd.get(e);if(f!==void 0){var N=Uo,b=e;switch(e){case"keypress":if(Ms(r)===0)break e;case"keydown":case"keyup":N=yh;break;case"focusin":b="focus",N=Za;break;case"focusout":b="blur",N=Za;break;case"beforeblur":case"afterblur":N=Za;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=lc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=ih;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=wh;break;case Dd:case $d:case Bd:N=dh;break;case Ud:N=Sh;break;case"scroll":N=lh;break;case"wheel":N=Eh;break;case"copy":case"cut":case"paste":N=mh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=ic}var j=(t&4)!==0,k=!j&&e==="scroll",x=j?f!==null?f+"Capture":null:f;j=[];for(var h=u,g;h!==null;){g=h;var w=g.stateNode;if(g.tag===5&&w!==null&&(g=w,x!==null&&(w=On(h,x),w!=null&&j.push(Vn(h,w,g)))),k)break;h=h.return}0<j.length&&(f=new N(f,b,null,r,p),d.push({event:f,listeners:j}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",N=e==="mouseout"||e==="pointerout",f&&r!==Ol&&(b=r.relatedTarget||r.fromElement)&&(xr(b)||b[It]))break e;if((N||f)&&(f=p.window===p?p:(f=p.ownerDocument)?f.defaultView||f.parentWindow:window,N?(b=r.relatedTarget||r.toElement,N=u,b=b?xr(b):null,b!==null&&(k=Er(b),b!==k||b.tag!==5&&b.tag!==6)&&(b=null)):(N=null,b=u),N!==b)){if(j=lc,w="onMouseLeave",x="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(j=ic,w="onPointerLeave",x="onPointerEnter",h="pointer"),k=N==null?f:Rr(N),g=b==null?f:Rr(b),f=new j(w,h+"leave",N,r,p),f.target=k,f.relatedTarget=g,w=null,xr(p)===u&&(j=new j(x,h+"enter",b,r,p),j.target=g,j.relatedTarget=k,w=j),k=w,N&&b)t:{for(j=N,x=b,h=0,g=j;g;g=Tr(g))h++;for(g=0,w=x;w;w=Tr(w))g++;for(;0<h-g;)j=Tr(j),h--;for(;0<g-h;)x=Tr(x),g--;for(;h--;){if(j===x||x!==null&&j===x.alternate)break t;j=Tr(j),x=Tr(x)}j=null}else j=null;N!==null&&bc(d,f,N,j,!1),b!==null&&k!==null&&bc(d,k,b,j,!0)}}e:{if(f=u?Rr(u):window,N=f.nodeName&&f.nodeName.toLowerCase(),N==="select"||N==="input"&&f.type==="file")var S=Ah;else if(dc(f))if(Ad)S=Oh;else{S=Rh;var F=Ih}else(N=f.nodeName)&&N.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=zh);if(S&&(S=S(e,u))){Md(d,S,r,p);break e}F&&F(e,f,u),e==="focusout"&&(F=f._wrapperState)&&F.controlled&&f.type==="number"&&Ml(f,"number",f.value)}switch(F=u?Rr(u):window,e){case"focusin":(dc(F)||F.contentEditable==="true")&&(Ar=F,Vl=u,Ln=null);break;case"focusout":Ln=Vl=Ar=null;break;case"mousedown":Ql=!0;break;case"contextmenu":case"mouseup":case"dragend":Ql=!1,xc(d,r,p);break;case"selectionchange":if(Bh)break;case"keydown":case"keyup":xc(d,r,p)}var M;if(Ho)e:{switch(e){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else Mr?Ld(e,r)&&(B="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(B="onCompositionStart");B&&(Pd&&r.locale!=="ko"&&(Mr||B!=="onCompositionStart"?B==="onCompositionEnd"&&Mr&&(M=Td()):(Qt=p,Bo="value"in Qt?Qt.value:Qt.textContent,Mr=!0)),F=Xs(u,B),0<F.length&&(B=new oc(B,e,null,r,p),d.push({event:B,listeners:F}),M?B.data=M:(M=_d(r),M!==null&&(B.data=M)))),(M=Th?Ph(e,r):Lh(e,r))&&(u=Xs(u,"onBeforeInput"),0<u.length&&(p=new oc("onBeforeInput","beforeinput",null,r,p),d.push({event:p,listeners:u}),p.data=M))}Hd(d,t)})}function Vn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Xs(e,t){for(var r=t+"Capture",s=[];e!==null;){var a=e,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=On(e,r),l!=null&&s.unshift(Vn(e,l,a)),l=On(e,t),l!=null&&s.push(Vn(e,l,a))),e=e.return}return s}function Tr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function bc(e,t,r,s,a){for(var l=t._reactName,o=[];r!==null&&r!==s;){var i=r,c=i.alternate,u=i.stateNode;if(c!==null&&c===s)break;i.tag===5&&u!==null&&(i=u,a?(c=On(r,l),c!=null&&o.unshift(Vn(r,c,i))):a||(c=On(r,l),c!=null&&o.push(Vn(r,c,i)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Vh=/\r\n?/g,Qh=/\u0000|\uFFFD/g;function yc(e){return(typeof e=="string"?e:""+e).replace(Vh,`
`).replace(Qh,"")}function bs(e,t,r){if(t=yc(t),yc(e)!==t&&r)throw Error(z(425))}function Js(){}var Gl=null,Yl=null;function Kl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Xl=typeof setTimeout=="function"?setTimeout:void 0,Gh=typeof clearTimeout=="function"?clearTimeout:void 0,jc=typeof Promise=="function"?Promise:void 0,Yh=typeof queueMicrotask=="function"?queueMicrotask:typeof jc<"u"?function(e){return jc.resolve(null).then(e).catch(Kh)}:Xl;function Kh(e){setTimeout(function(){throw e})}function ll(e,t){var r=t,s=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(s===0){e.removeChild(a),Bn(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=a}while(r);Bn(t)}function Zt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Nc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ln=Math.random().toString(36).slice(2),Nt="__reactFiber$"+ln,Qn="__reactProps$"+ln,It="__reactContainer$"+ln,Jl="__reactEvents$"+ln,Xh="__reactListeners$"+ln,Jh="__reactHandles$"+ln;function xr(e){var t=e[Nt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[It]||r[Nt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Nc(e);e!==null;){if(r=e[Nt])return r;e=Nc(e)}return t}e=r,r=e.parentNode}return null}function ss(e){return e=e[Nt]||e[It],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Rr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(z(33))}function Na(e){return e[Qn]||null}var Zl=[],zr=-1;function ir(e){return{current:e}}function ie(e){0>zr||(e.current=Zl[zr],Zl[zr]=null,zr--)}function se(e,t){zr++,Zl[zr]=e.current,e.current=t}var lr={},ze=ir(lr),He=ir(!1),jr=lr;function Xr(e,t){var r=e.type.contextTypes;if(!r)return lr;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in r)a[l]=t[l];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ve(e){return e=e.childContextTypes,e!=null}function Zs(){ie(He),ie(ze)}function wc(e,t,r){if(ze.current!==lr)throw Error(z(168));se(ze,t),se(He,r)}function Qd(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(z(108,If(e)||"Unknown",a));return fe({},r,s)}function qs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||lr,jr=ze.current,se(ze,e),se(He,He.current),!0}function kc(e,t,r){var s=e.stateNode;if(!s)throw Error(z(169));r?(e=Qd(e,t,jr),s.__reactInternalMemoizedMergedChildContext=e,ie(He),ie(ze),se(ze,e)):ie(He),se(He,r)}var Ft=null,wa=!1,ol=!1;function Gd(e){Ft===null?Ft=[e]:Ft.push(e)}function Zh(e){wa=!0,Gd(e)}function cr(){if(!ol&&Ft!==null){ol=!0;var e=0,t=re;try{var r=Ft;for(re=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}Ft=null,wa=!1}catch(a){throw Ft!==null&&(Ft=Ft.slice(e+1)),vd(zo,cr),a}finally{re=t,ol=!1}}return null}var Or=[],Dr=0,ea=null,ta=0,rt=[],nt=0,Nr=null,Tt=1,Pt="";function fr(e,t){Or[Dr++]=ta,Or[Dr++]=ea,ea=e,ta=t}function Yd(e,t,r){rt[nt++]=Tt,rt[nt++]=Pt,rt[nt++]=Nr,Nr=e;var s=Tt;e=Pt;var a=32-ht(s)-1;s&=~(1<<a),r+=1;var l=32-ht(t)+a;if(30<l){var o=a-a%5;l=(s&(1<<o)-1).toString(32),s>>=o,a-=o,Tt=1<<32-ht(t)+a|r<<a|s,Pt=l+e}else Tt=1<<l|r<<a|s,Pt=e}function Qo(e){e.return!==null&&(fr(e,1),Yd(e,1,0))}function Go(e){for(;e===ea;)ea=Or[--Dr],Or[Dr]=null,ta=Or[--Dr],Or[Dr]=null;for(;e===Nr;)Nr=rt[--nt],rt[nt]=null,Pt=rt[--nt],rt[nt]=null,Tt=rt[--nt],rt[nt]=null}var Xe=null,Ke=null,ue=!1,ft=null;function Kd(e,t){var r=at(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Sc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Xe=e,Ke=Zt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Xe=e,Ke=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Nr!==null?{id:Tt,overflow:Pt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=at(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Xe=e,Ke=null,!0):!1;default:return!1}}function ql(e){return(e.mode&1)!==0&&(e.flags&128)===0}function eo(e){if(ue){var t=Ke;if(t){var r=t;if(!Sc(e,t)){if(ql(e))throw Error(z(418));t=Zt(r.nextSibling);var s=Xe;t&&Sc(e,t)?Kd(s,r):(e.flags=e.flags&-4097|2,ue=!1,Xe=e)}}else{if(ql(e))throw Error(z(418));e.flags=e.flags&-4097|2,ue=!1,Xe=e}}}function Cc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Xe=e}function ys(e){if(e!==Xe)return!1;if(!ue)return Cc(e),ue=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Kl(e.type,e.memoizedProps)),t&&(t=Ke)){if(ql(e))throw Xd(),Error(z(418));for(;t;)Kd(e,t),t=Zt(t.nextSibling)}if(Cc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ke=Zt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ke=null}}else Ke=Xe?Zt(e.stateNode.nextSibling):null;return!0}function Xd(){for(var e=Ke;e;)e=Zt(e.nextSibling)}function Jr(){Ke=Xe=null,ue=!1}function Yo(e){ft===null?ft=[e]:ft.push(e)}var qh=Ot.ReactCurrentBatchConfig;function yn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(z(309));var s=r.stateNode}if(!s)throw Error(z(147,e));var a=s,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(o){var i=a.refs;o===null?delete i[l]:i[l]=o},t._stringRef=l,t)}if(typeof e!="string")throw Error(z(284));if(!r._owner)throw Error(z(290,e))}return e}function js(e,t){throw e=Object.prototype.toString.call(t),Error(z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ec(e){var t=e._init;return t(e._payload)}function Jd(e){function t(x,h){if(e){var g=x.deletions;g===null?(x.deletions=[h],x.flags|=16):g.push(h)}}function r(x,h){if(!e)return null;for(;h!==null;)t(x,h),h=h.sibling;return null}function s(x,h){for(x=new Map;h!==null;)h.key!==null?x.set(h.key,h):x.set(h.index,h),h=h.sibling;return x}function a(x,h){return x=rr(x,h),x.index=0,x.sibling=null,x}function l(x,h,g){return x.index=g,e?(g=x.alternate,g!==null?(g=g.index,g<h?(x.flags|=2,h):g):(x.flags|=2,h)):(x.flags|=1048576,h)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function i(x,h,g,w){return h===null||h.tag!==6?(h=fl(g,x.mode,w),h.return=x,h):(h=a(h,g),h.return=x,h)}function c(x,h,g,w){var S=g.type;return S===_r?p(x,h,g.props.children,w,g.key):h!==null&&(h.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ut&&Ec(S)===h.type)?(w=a(h,g.props),w.ref=yn(x,h,g),w.return=x,w):(w=$s(g.type,g.key,g.props,null,x.mode,w),w.ref=yn(x,h,g),w.return=x,w)}function u(x,h,g,w){return h===null||h.tag!==4||h.stateNode.containerInfo!==g.containerInfo||h.stateNode.implementation!==g.implementation?(h=hl(g,x.mode,w),h.return=x,h):(h=a(h,g.children||[]),h.return=x,h)}function p(x,h,g,w,S){return h===null||h.tag!==7?(h=yr(g,x.mode,w,S),h.return=x,h):(h=a(h,g),h.return=x,h)}function d(x,h,g){if(typeof h=="string"&&h!==""||typeof h=="number")return h=fl(""+h,x.mode,g),h.return=x,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case us:return g=$s(h.type,h.key,h.props,null,x.mode,g),g.ref=yn(x,null,h),g.return=x,g;case Lr:return h=hl(h,x.mode,g),h.return=x,h;case Ut:var w=h._init;return d(x,w(h._payload),g)}if(kn(h)||hn(h))return h=yr(h,x.mode,g,null),h.return=x,h;js(x,h)}return null}function f(x,h,g,w){var S=h!==null?h.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return S!==null?null:i(x,h,""+g,w);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case us:return g.key===S?c(x,h,g,w):null;case Lr:return g.key===S?u(x,h,g,w):null;case Ut:return S=g._init,f(x,h,S(g._payload),w)}if(kn(g)||hn(g))return S!==null?null:p(x,h,g,w,null);js(x,g)}return null}function N(x,h,g,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return x=x.get(g)||null,i(h,x,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case us:return x=x.get(w.key===null?g:w.key)||null,c(h,x,w,S);case Lr:return x=x.get(w.key===null?g:w.key)||null,u(h,x,w,S);case Ut:var F=w._init;return N(x,h,g,F(w._payload),S)}if(kn(w)||hn(w))return x=x.get(g)||null,p(h,x,w,S,null);js(h,w)}return null}function b(x,h,g,w){for(var S=null,F=null,M=h,B=h=0,T=null;M!==null&&B<g.length;B++){M.index>B?(T=M,M=null):T=M.sibling;var _=f(x,M,g[B],w);if(_===null){M===null&&(M=T);break}e&&M&&_.alternate===null&&t(x,M),h=l(_,h,B),F===null?S=_:F.sibling=_,F=_,M=T}if(B===g.length)return r(x,M),ue&&fr(x,B),S;if(M===null){for(;B<g.length;B++)M=d(x,g[B],w),M!==null&&(h=l(M,h,B),F===null?S=M:F.sibling=M,F=M);return ue&&fr(x,B),S}for(M=s(x,M);B<g.length;B++)T=N(M,x,B,g[B],w),T!==null&&(e&&T.alternate!==null&&M.delete(T.key===null?B:T.key),h=l(T,h,B),F===null?S=T:F.sibling=T,F=T);return e&&M.forEach(function(I){return t(x,I)}),ue&&fr(x,B),S}function j(x,h,g,w){var S=hn(g);if(typeof S!="function")throw Error(z(150));if(g=S.call(g),g==null)throw Error(z(151));for(var F=S=null,M=h,B=h=0,T=null,_=g.next();M!==null&&!_.done;B++,_=g.next()){M.index>B?(T=M,M=null):T=M.sibling;var I=f(x,M,_.value,w);if(I===null){M===null&&(M=T);break}e&&M&&I.alternate===null&&t(x,M),h=l(I,h,B),F===null?S=I:F.sibling=I,F=I,M=T}if(_.done)return r(x,M),ue&&fr(x,B),S;if(M===null){for(;!_.done;B++,_=g.next())_=d(x,_.value,w),_!==null&&(h=l(_,h,B),F===null?S=_:F.sibling=_,F=_);return ue&&fr(x,B),S}for(M=s(x,M);!_.done;B++,_=g.next())_=N(M,x,B,_.value,w),_!==null&&(e&&_.alternate!==null&&M.delete(_.key===null?B:_.key),h=l(_,h,B),F===null?S=_:F.sibling=_,F=_);return e&&M.forEach(function(L){return t(x,L)}),ue&&fr(x,B),S}function k(x,h,g,w){if(typeof g=="object"&&g!==null&&g.type===_r&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case us:e:{for(var S=g.key,F=h;F!==null;){if(F.key===S){if(S=g.type,S===_r){if(F.tag===7){r(x,F.sibling),h=a(F,g.props.children),h.return=x,x=h;break e}}else if(F.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ut&&Ec(S)===F.type){r(x,F.sibling),h=a(F,g.props),h.ref=yn(x,F,g),h.return=x,x=h;break e}r(x,F);break}else t(x,F);F=F.sibling}g.type===_r?(h=yr(g.props.children,x.mode,w,g.key),h.return=x,x=h):(w=$s(g.type,g.key,g.props,null,x.mode,w),w.ref=yn(x,h,g),w.return=x,x=w)}return o(x);case Lr:e:{for(F=g.key;h!==null;){if(h.key===F)if(h.tag===4&&h.stateNode.containerInfo===g.containerInfo&&h.stateNode.implementation===g.implementation){r(x,h.sibling),h=a(h,g.children||[]),h.return=x,x=h;break e}else{r(x,h);break}else t(x,h);h=h.sibling}h=hl(g,x.mode,w),h.return=x,x=h}return o(x);case Ut:return F=g._init,k(x,h,F(g._payload),w)}if(kn(g))return b(x,h,g,w);if(hn(g))return j(x,h,g,w);js(x,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,h!==null&&h.tag===6?(r(x,h.sibling),h=a(h,g),h.return=x,x=h):(r(x,h),h=fl(g,x.mode,w),h.return=x,x=h),o(x)):r(x,h)}return k}var Zr=Jd(!0),Zd=Jd(!1),ra=ir(null),na=null,$r=null,Ko=null;function Xo(){Ko=$r=na=null}function Jo(e){var t=ra.current;ie(ra),e._currentValue=t}function to(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function Gr(e,t){na=e,Ko=$r=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(We=!0),e.firstContext=null)}function ot(e){var t=e._currentValue;if(Ko!==e)if(e={context:e,memoizedValue:t,next:null},$r===null){if(na===null)throw Error(z(308));$r=e,na.dependencies={lanes:0,firstContext:e}}else $r=$r.next=e;return t}var gr=null;function Zo(e){gr===null?gr=[e]:gr.push(e)}function qd(e,t,r,s){var a=t.interleaved;return a===null?(r.next=r,Zo(t)):(r.next=a.next,a.next=r),t.interleaved=r,Rt(e,s)}function Rt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Wt=!1;function qo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ep(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Lt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function qt(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,q&2){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,Rt(e,r)}return a=s.interleaved,a===null?(t.next=t,Zo(s)):(t.next=a.next,a.next=t),s.interleaved=t,Rt(e,r)}function As(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Oo(e,r)}}function Fc(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var a=null,l=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};l===null?a=l=o:l=l.next=o,r=r.next}while(r!==null);l===null?a=l=t:l=l.next=t}else a=l=t;r={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function sa(e,t,r,s){var a=e.updateQueue;Wt=!1;var l=a.firstBaseUpdate,o=a.lastBaseUpdate,i=a.shared.pending;if(i!==null){a.shared.pending=null;var c=i,u=c.next;c.next=null,o===null?l=u:o.next=u,o=c;var p=e.alternate;p!==null&&(p=p.updateQueue,i=p.lastBaseUpdate,i!==o&&(i===null?p.firstBaseUpdate=u:i.next=u,p.lastBaseUpdate=c))}if(l!==null){var d=a.baseState;o=0,p=u=c=null,i=l;do{var f=i.lane,N=i.eventTime;if((s&f)===f){p!==null&&(p=p.next={eventTime:N,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var b=e,j=i;switch(f=t,N=r,j.tag){case 1:if(b=j.payload,typeof b=="function"){d=b.call(N,d,f);break e}d=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=j.payload,f=typeof b=="function"?b.call(N,d,f):b,f==null)break e;d=fe({},d,f);break e;case 2:Wt=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,f=a.effects,f===null?a.effects=[i]:f.push(i))}else N={eventTime:N,lane:f,tag:i.tag,payload:i.payload,callback:i.callback,next:null},p===null?(u=p=N,c=d):p=p.next=N,o|=f;if(i=i.next,i===null){if(i=a.shared.pending,i===null)break;f=i,i=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(!0);if(p===null&&(c=d),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=p,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else l===null&&(a.shared.lanes=0);kr|=o,e.lanes=o,e.memoizedState=d}}function Tc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=r,typeof a!="function")throw Error(z(191,a));a.call(s)}}}var as={},kt=ir(as),Gn=ir(as),Yn=ir(as);function vr(e){if(e===as)throw Error(z(174));return e}function ei(e,t){switch(se(Yn,t),se(Gn,e),se(kt,as),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Il(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Il(t,e)}ie(kt),se(kt,t)}function qr(){ie(kt),ie(Gn),ie(Yn)}function tp(e){vr(Yn.current);var t=vr(kt.current),r=Il(t,e.type);t!==r&&(se(Gn,e),se(kt,r))}function ti(e){Gn.current===e&&(ie(kt),ie(Gn))}var de=ir(0);function aa(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var il=[];function ri(){for(var e=0;e<il.length;e++)il[e]._workInProgressVersionPrimary=null;il.length=0}var Is=Ot.ReactCurrentDispatcher,cl=Ot.ReactCurrentBatchConfig,wr=0,pe=null,Ne=null,Se=null,la=!1,_n=!1,Kn=0,ex=0;function Ae(){throw Error(z(321))}function ni(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!gt(e[r],t[r]))return!1;return!0}function si(e,t,r,s,a,l){if(wr=l,pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Is.current=e===null||e.memoizedState===null?sx:ax,e=r(s,a),_n){l=0;do{if(_n=!1,Kn=0,25<=l)throw Error(z(301));l+=1,Se=Ne=null,t.updateQueue=null,Is.current=lx,e=r(s,a)}while(_n)}if(Is.current=oa,t=Ne!==null&&Ne.next!==null,wr=0,Se=Ne=pe=null,la=!1,t)throw Error(z(300));return e}function ai(){var e=Kn!==0;return Kn=0,e}function yt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?pe.memoizedState=Se=e:Se=Se.next=e,Se}function it(){if(Ne===null){var e=pe.alternate;e=e!==null?e.memoizedState:null}else e=Ne.next;var t=Se===null?pe.memoizedState:Se.next;if(t!==null)Se=t,Ne=e;else{if(e===null)throw Error(z(310));Ne=e,e={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},Se===null?pe.memoizedState=Se=e:Se=Se.next=e}return Se}function Xn(e,t){return typeof t=="function"?t(e):t}function ul(e){var t=it(),r=t.queue;if(r===null)throw Error(z(311));r.lastRenderedReducer=e;var s=Ne,a=s.baseQueue,l=r.pending;if(l!==null){if(a!==null){var o=a.next;a.next=l.next,l.next=o}s.baseQueue=a=l,r.pending=null}if(a!==null){l=a.next,s=s.baseState;var i=o=null,c=null,u=l;do{var p=u.lane;if((wr&p)===p)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:e(s,u.action);else{var d={lane:p,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(i=c=d,o=s):c=c.next=d,pe.lanes|=p,kr|=p}u=u.next}while(u!==null&&u!==l);c===null?o=s:c.next=i,gt(s,t.memoizedState)||(We=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,r.lastRenderedState=s}if(e=r.interleaved,e!==null){a=e;do l=a.lane,pe.lanes|=l,kr|=l,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function dl(e){var t=it(),r=t.queue;if(r===null)throw Error(z(311));r.lastRenderedReducer=e;var s=r.dispatch,a=r.pending,l=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do l=e(l,o.action),o=o.next;while(o!==a);gt(l,t.memoizedState)||(We=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),r.lastRenderedState=l}return[l,s]}function rp(){}function np(e,t){var r=pe,s=it(),a=t(),l=!gt(s.memoizedState,a);if(l&&(s.memoizedState=a,We=!0),s=s.queue,li(lp.bind(null,r,s,e),[e]),s.getSnapshot!==t||l||Se!==null&&Se.memoizedState.tag&1){if(r.flags|=2048,Jn(9,ap.bind(null,r,s,a,t),void 0,null),Ce===null)throw Error(z(349));wr&30||sp(r,t,a)}return a}function sp(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=pe.updateQueue,t===null?(t={lastEffect:null,stores:null},pe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function ap(e,t,r,s){t.value=r,t.getSnapshot=s,op(t)&&ip(e)}function lp(e,t,r){return r(function(){op(t)&&ip(e)})}function op(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!gt(e,r)}catch{return!0}}function ip(e){var t=Rt(e,1);t!==null&&xt(t,e,1,-1)}function Pc(e){var t=yt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xn,lastRenderedState:e},t.queue=e,e=e.dispatch=nx.bind(null,pe,e),[t.memoizedState,e]}function Jn(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=pe.updateQueue,t===null?(t={lastEffect:null,stores:null},pe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function cp(){return it().memoizedState}function Rs(e,t,r,s){var a=yt();pe.flags|=e,a.memoizedState=Jn(1|t,r,void 0,s===void 0?null:s)}function ka(e,t,r,s){var a=it();s=s===void 0?null:s;var l=void 0;if(Ne!==null){var o=Ne.memoizedState;if(l=o.destroy,s!==null&&ni(s,o.deps)){a.memoizedState=Jn(t,r,l,s);return}}pe.flags|=e,a.memoizedState=Jn(1|t,r,l,s)}function Lc(e,t){return Rs(8390656,8,e,t)}function li(e,t){return ka(2048,8,e,t)}function up(e,t){return ka(4,2,e,t)}function dp(e,t){return ka(4,4,e,t)}function pp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function mp(e,t,r){return r=r!=null?r.concat([e]):null,ka(4,4,pp.bind(null,t,e),r)}function oi(){}function fp(e,t){var r=it();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&ni(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function hp(e,t){var r=it();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&ni(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function xp(e,t,r){return wr&21?(gt(r,t)||(r=jd(),pe.lanes|=r,kr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,We=!0),e.memoizedState=r)}function tx(e,t){var r=re;re=r!==0&&4>r?r:4,e(!0);var s=cl.transition;cl.transition={};try{e(!1),t()}finally{re=r,cl.transition=s}}function gp(){return it().memoizedState}function rx(e,t,r){var s=tr(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},vp(e))bp(t,r);else if(r=qd(e,t,r,s),r!==null){var a=De();xt(r,e,s,a),yp(r,t,s)}}function nx(e,t,r){var s=tr(e),a={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(vp(e))bp(t,a);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var o=t.lastRenderedState,i=l(o,r);if(a.hasEagerState=!0,a.eagerState=i,gt(i,o)){var c=t.interleaved;c===null?(a.next=a,Zo(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=qd(e,t,a,s),r!==null&&(a=De(),xt(r,e,s,a),yp(r,t,s))}}function vp(e){var t=e.alternate;return e===pe||t!==null&&t===pe}function bp(e,t){_n=la=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function yp(e,t,r){if(r&4194240){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Oo(e,r)}}var oa={readContext:ot,useCallback:Ae,useContext:Ae,useEffect:Ae,useImperativeHandle:Ae,useInsertionEffect:Ae,useLayoutEffect:Ae,useMemo:Ae,useReducer:Ae,useRef:Ae,useState:Ae,useDebugValue:Ae,useDeferredValue:Ae,useTransition:Ae,useMutableSource:Ae,useSyncExternalStore:Ae,useId:Ae,unstable_isNewReconciler:!1},sx={readContext:ot,useCallback:function(e,t){return yt().memoizedState=[e,t===void 0?null:t],e},useContext:ot,useEffect:Lc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Rs(4194308,4,pp.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Rs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Rs(4,2,e,t)},useMemo:function(e,t){var r=yt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=yt();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=rx.bind(null,pe,e),[s.memoizedState,e]},useRef:function(e){var t=yt();return e={current:e},t.memoizedState=e},useState:Pc,useDebugValue:oi,useDeferredValue:function(e){return yt().memoizedState=e},useTransition:function(){var e=Pc(!1),t=e[0];return e=tx.bind(null,e[1]),yt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=pe,a=yt();if(ue){if(r===void 0)throw Error(z(407));r=r()}else{if(r=t(),Ce===null)throw Error(z(349));wr&30||sp(s,t,r)}a.memoizedState=r;var l={value:r,getSnapshot:t};return a.queue=l,Lc(lp.bind(null,s,l,e),[e]),s.flags|=2048,Jn(9,ap.bind(null,s,l,r,t),void 0,null),r},useId:function(){var e=yt(),t=Ce.identifierPrefix;if(ue){var r=Pt,s=Tt;r=(s&~(1<<32-ht(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=Kn++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=ex++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ax={readContext:ot,useCallback:fp,useContext:ot,useEffect:li,useImperativeHandle:mp,useInsertionEffect:up,useLayoutEffect:dp,useMemo:hp,useReducer:ul,useRef:cp,useState:function(){return ul(Xn)},useDebugValue:oi,useDeferredValue:function(e){var t=it();return xp(t,Ne.memoizedState,e)},useTransition:function(){var e=ul(Xn)[0],t=it().memoizedState;return[e,t]},useMutableSource:rp,useSyncExternalStore:np,useId:gp,unstable_isNewReconciler:!1},lx={readContext:ot,useCallback:fp,useContext:ot,useEffect:li,useImperativeHandle:mp,useInsertionEffect:up,useLayoutEffect:dp,useMemo:hp,useReducer:dl,useRef:cp,useState:function(){return dl(Xn)},useDebugValue:oi,useDeferredValue:function(e){var t=it();return Ne===null?t.memoizedState=e:xp(t,Ne.memoizedState,e)},useTransition:function(){var e=dl(Xn)[0],t=it().memoizedState;return[e,t]},useMutableSource:rp,useSyncExternalStore:np,useId:gp,unstable_isNewReconciler:!1};function pt(e,t){if(e&&e.defaultProps){t=fe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ro(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:fe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Sa={isMounted:function(e){return(e=e._reactInternals)?Er(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=De(),a=tr(e),l=Lt(s,a);l.payload=t,r!=null&&(l.callback=r),t=qt(e,l,a),t!==null&&(xt(t,e,a,s),As(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=De(),a=tr(e),l=Lt(s,a);l.tag=1,l.payload=t,r!=null&&(l.callback=r),t=qt(e,l,a),t!==null&&(xt(t,e,a,s),As(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=De(),s=tr(e),a=Lt(r,s);a.tag=2,t!=null&&(a.callback=t),t=qt(e,a,s),t!==null&&(xt(t,e,s,r),As(t,e,s))}};function _c(e,t,r,s,a,l,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,l,o):t.prototype&&t.prototype.isPureReactComponent?!Wn(r,s)||!Wn(a,l):!0}function jp(e,t,r){var s=!1,a=lr,l=t.contextType;return typeof l=="object"&&l!==null?l=ot(l):(a=Ve(t)?jr:ze.current,s=t.contextTypes,l=(s=s!=null)?Xr(e,a):lr),t=new t(r,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Sa,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=l),t}function Mc(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&Sa.enqueueReplaceState(t,t.state,null)}function no(e,t,r,s){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},qo(e);var l=t.contextType;typeof l=="object"&&l!==null?a.context=ot(l):(l=Ve(t)?jr:ze.current,a.context=Xr(e,l)),a.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(ro(e,t,l,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Sa.enqueueReplaceState(a,a.state,null),sa(e,r,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function en(e,t){try{var r="",s=t;do r+=Af(s),s=s.return;while(s);var a=r}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:a,digest:null}}function pl(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function so(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var ox=typeof WeakMap=="function"?WeakMap:Map;function Np(e,t,r){r=Lt(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){ca||(ca=!0,ho=s),so(e,t)},r}function wp(e,t,r){r=Lt(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;r.payload=function(){return s(a)},r.callback=function(){so(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(r.callback=function(){so(e,t),typeof s!="function"&&(er===null?er=new Set([this]):er.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Ac(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new ox;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(r)||(a.add(r),e=jx.bind(null,e,t,r),t.then(e,e))}function Ic(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Rc(e,t,r,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Lt(-1,1),t.tag=2,qt(r,t,1))),r.lanes|=1),e)}var ix=Ot.ReactCurrentOwner,We=!1;function Oe(e,t,r,s){t.child=e===null?Zd(t,null,r,s):Zr(t,e.child,r,s)}function zc(e,t,r,s,a){r=r.render;var l=t.ref;return Gr(t,a),s=si(e,t,r,s,l,a),r=ai(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,zt(e,t,a)):(ue&&r&&Qo(t),t.flags|=1,Oe(e,t,s,a),t.child)}function Oc(e,t,r,s,a){if(e===null){var l=r.type;return typeof l=="function"&&!hi(l)&&l.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=l,kp(e,t,l,s,a)):(e=$s(r.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&a)){var o=l.memoizedProps;if(r=r.compare,r=r!==null?r:Wn,r(o,s)&&e.ref===t.ref)return zt(e,t,a)}return t.flags|=1,e=rr(l,s),e.ref=t.ref,e.return=t,t.child=e}function kp(e,t,r,s,a){if(e!==null){var l=e.memoizedProps;if(Wn(l,s)&&e.ref===t.ref)if(We=!1,t.pendingProps=s=l,(e.lanes&a)!==0)e.flags&131072&&(We=!0);else return t.lanes=e.lanes,zt(e,t,a)}return ao(e,t,r,s,a)}function Sp(e,t,r){var s=t.pendingProps,a=s.children,l=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},se(Ur,Ye),Ye|=r;else{if(!(r&1073741824))return e=l!==null?l.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,se(Ur,Ye),Ye|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=l!==null?l.baseLanes:r,se(Ur,Ye),Ye|=s}else l!==null?(s=l.baseLanes|r,t.memoizedState=null):s=r,se(Ur,Ye),Ye|=s;return Oe(e,t,a,r),t.child}function Cp(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ao(e,t,r,s,a){var l=Ve(r)?jr:ze.current;return l=Xr(t,l),Gr(t,a),r=si(e,t,r,s,l,a),s=ai(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,zt(e,t,a)):(ue&&s&&Qo(t),t.flags|=1,Oe(e,t,r,a),t.child)}function Dc(e,t,r,s,a){if(Ve(r)){var l=!0;qs(t)}else l=!1;if(Gr(t,a),t.stateNode===null)zs(e,t),jp(t,r,s),no(t,r,s,a),s=!0;else if(e===null){var o=t.stateNode,i=t.memoizedProps;o.props=i;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=ot(u):(u=Ve(r)?jr:ze.current,u=Xr(t,u));var p=r.getDerivedStateFromProps,d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(i!==s||c!==u)&&Mc(t,o,s,u),Wt=!1;var f=t.memoizedState;o.state=f,sa(t,s,o,a),c=t.memoizedState,i!==s||f!==c||He.current||Wt?(typeof p=="function"&&(ro(t,r,p,s),c=t.memoizedState),(i=Wt||_c(t,r,i,s,f,c,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=u,s=i):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,ep(e,t),i=t.memoizedProps,u=t.type===t.elementType?i:pt(t.type,i),o.props=u,d=t.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=ot(c):(c=Ve(r)?jr:ze.current,c=Xr(t,c));var N=r.getDerivedStateFromProps;(p=typeof N=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(i!==d||f!==c)&&Mc(t,o,s,c),Wt=!1,f=t.memoizedState,o.state=f,sa(t,s,o,a);var b=t.memoizedState;i!==d||f!==b||He.current||Wt?(typeof N=="function"&&(ro(t,r,N,s),b=t.memoizedState),(u=Wt||_c(t,r,u,s,f,b,c)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,b,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,b,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=b),o.props=s,o.state=b,o.context=c,s=u):(typeof o.componentDidUpdate!="function"||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),s=!1)}return lo(e,t,r,s,l,a)}function lo(e,t,r,s,a,l){Cp(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return a&&kc(t,r,!1),zt(e,t,l);s=t.stateNode,ix.current=t;var i=o&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=Zr(t,e.child,null,l),t.child=Zr(t,null,i,l)):Oe(e,t,i,l),t.memoizedState=s.state,a&&kc(t,r,!0),t.child}function Ep(e){var t=e.stateNode;t.pendingContext?wc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&wc(e,t.context,!1),ei(e,t.containerInfo)}function $c(e,t,r,s,a){return Jr(),Yo(a),t.flags|=256,Oe(e,t,r,s),t.child}var oo={dehydrated:null,treeContext:null,retryLane:0};function io(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fp(e,t,r){var s=t.pendingProps,a=de.current,l=!1,o=(t.flags&128)!==0,i;if((i=o)||(i=e!==null&&e.memoizedState===null?!1:(a&2)!==0),i?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),se(de,a&1),e===null)return eo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,l?(s=t.mode,l=t.child,o={mode:"hidden",children:o},!(s&1)&&l!==null?(l.childLanes=0,l.pendingProps=o):l=Fa(o,s,0,null),e=yr(e,s,r,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=io(r),t.memoizedState=oo,e):ii(t,o));if(a=e.memoizedState,a!==null&&(i=a.dehydrated,i!==null))return cx(e,t,o,s,i,a,r);if(l){l=s.fallback,o=t.mode,a=e.child,i=a.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=rr(a,c),s.subtreeFlags=a.subtreeFlags&14680064),i!==null?l=rr(i,l):(l=yr(l,o,r,null),l.flags|=2),l.return=t,s.return=t,s.sibling=l,t.child=s,s=l,l=t.child,o=e.child.memoizedState,o=o===null?io(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=e.childLanes&~r,t.memoizedState=oo,s}return l=e.child,e=l.sibling,s=rr(l,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function ii(e,t){return t=Fa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ns(e,t,r,s){return s!==null&&Yo(s),Zr(t,e.child,null,r),e=ii(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function cx(e,t,r,s,a,l,o){if(r)return t.flags&256?(t.flags&=-257,s=pl(Error(z(422))),Ns(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=s.fallback,a=t.mode,s=Fa({mode:"visible",children:s.children},a,0,null),l=yr(l,a,o,null),l.flags|=2,s.return=t,l.return=t,s.sibling=l,t.child=s,t.mode&1&&Zr(t,e.child,null,o),t.child.memoizedState=io(o),t.memoizedState=oo,l);if(!(t.mode&1))return Ns(e,t,o,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var i=s.dgst;return s=i,l=Error(z(419)),s=pl(l,s,void 0),Ns(e,t,o,s)}if(i=(o&e.childLanes)!==0,We||i){if(s=Ce,s!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|o)?0:a,a!==0&&a!==l.retryLane&&(l.retryLane=a,Rt(e,a),xt(s,e,a,-1))}return fi(),s=pl(Error(z(421))),Ns(e,t,o,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Nx.bind(null,e),a._reactRetry=t,null):(e=l.treeContext,Ke=Zt(a.nextSibling),Xe=t,ue=!0,ft=null,e!==null&&(rt[nt++]=Tt,rt[nt++]=Pt,rt[nt++]=Nr,Tt=e.id,Pt=e.overflow,Nr=t),t=ii(t,s.children),t.flags|=4096,t)}function Bc(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),to(e.return,t,r)}function ml(e,t,r,s,a){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:a}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=s,l.tail=r,l.tailMode=a)}function Tp(e,t,r){var s=t.pendingProps,a=s.revealOrder,l=s.tail;if(Oe(e,t,s.children,r),s=de.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Bc(e,r,t);else if(e.tag===19)Bc(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(se(de,s),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&aa(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),ml(t,!1,a,r,l);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&aa(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}ml(t,!0,r,null,l);break;case"together":ml(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),kr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(z(153));if(t.child!==null){for(e=t.child,r=rr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=rr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function ux(e,t,r){switch(t.tag){case 3:Ep(t),Jr();break;case 5:tp(t);break;case 1:Ve(t.type)&&qs(t);break;case 4:ei(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;se(ra,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(se(de,de.current&1),t.flags|=128,null):r&t.child.childLanes?Fp(e,t,r):(se(de,de.current&1),e=zt(e,t,r),e!==null?e.sibling:null);se(de,de.current&1);break;case 19:if(s=(r&t.childLanes)!==0,e.flags&128){if(s)return Tp(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),se(de,de.current),s)break;return null;case 22:case 23:return t.lanes=0,Sp(e,t,r)}return zt(e,t,r)}var Pp,co,Lp,_p;Pp=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};co=function(){};Lp=function(e,t,r,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,vr(kt.current);var l=null;switch(r){case"input":a=Ll(e,a),s=Ll(e,s),l=[];break;case"select":a=fe({},a,{value:void 0}),s=fe({},s,{value:void 0}),l=[];break;case"textarea":a=Al(e,a),s=Al(e,s),l=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Js)}Rl(r,s);var o;r=null;for(u in a)if(!s.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var i=a[u];for(o in i)i.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Rn.hasOwnProperty(u)?l||(l=[]):(l=l||[]).push(u,null));for(u in s){var c=s[u];if(i=a!=null?a[u]:void 0,s.hasOwnProperty(u)&&c!==i&&(c!=null||i!=null))if(u==="style")if(i){for(o in i)!i.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&i[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(l||(l=[]),l.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,i=i?i.__html:void 0,c!=null&&i!==c&&(l=l||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(l=l||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Rn.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&le("scroll",e),l||i===c||(l=[])):(l=l||[]).push(u,c))}r&&(l=l||[]).push("style",r);var u=l;(t.updateQueue=u)&&(t.flags|=4)}};_p=function(e,t,r,s){r!==s&&(t.flags|=4)};function jn(e,t){if(!ue)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ie(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function dx(e,t,r){var s=t.pendingProps;switch(Go(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ie(t),null;case 1:return Ve(t.type)&&Zs(),Ie(t),null;case 3:return s=t.stateNode,qr(),ie(He),ie(ze),ri(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ys(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ft!==null&&(vo(ft),ft=null))),co(e,t),Ie(t),null;case 5:ti(t);var a=vr(Yn.current);if(r=t.type,e!==null&&t.stateNode!=null)Lp(e,t,r,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(z(166));return Ie(t),null}if(e=vr(kt.current),ys(t)){s=t.stateNode,r=t.type;var l=t.memoizedProps;switch(s[Nt]=t,s[Qn]=l,e=(t.mode&1)!==0,r){case"dialog":le("cancel",s),le("close",s);break;case"iframe":case"object":case"embed":le("load",s);break;case"video":case"audio":for(a=0;a<Cn.length;a++)le(Cn[a],s);break;case"source":le("error",s);break;case"img":case"image":case"link":le("error",s),le("load",s);break;case"details":le("toggle",s);break;case"input":Xi(s,l),le("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!l.multiple},le("invalid",s);break;case"textarea":Zi(s,l),le("invalid",s)}Rl(r,l),a=null;for(var o in l)if(l.hasOwnProperty(o)){var i=l[o];o==="children"?typeof i=="string"?s.textContent!==i&&(l.suppressHydrationWarning!==!0&&bs(s.textContent,i,e),a=["children",i]):typeof i=="number"&&s.textContent!==""+i&&(l.suppressHydrationWarning!==!0&&bs(s.textContent,i,e),a=["children",""+i]):Rn.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&le("scroll",s)}switch(r){case"input":ds(s),Ji(s,l,!0);break;case"textarea":ds(s),qi(s);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(s.onclick=Js)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ld(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(r,{is:s.is}):(e=o.createElement(r),r==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,r),e[Nt]=t,e[Qn]=s,Pp(e,t,!1,!1),t.stateNode=e;e:{switch(o=zl(r,s),r){case"dialog":le("cancel",e),le("close",e),a=s;break;case"iframe":case"object":case"embed":le("load",e),a=s;break;case"video":case"audio":for(a=0;a<Cn.length;a++)le(Cn[a],e);a=s;break;case"source":le("error",e),a=s;break;case"img":case"image":case"link":le("error",e),le("load",e),a=s;break;case"details":le("toggle",e),a=s;break;case"input":Xi(e,s),a=Ll(e,s),le("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=fe({},s,{value:void 0}),le("invalid",e);break;case"textarea":Zi(e,s),a=Al(e,s),le("invalid",e);break;default:a=s}Rl(r,a),i=a;for(l in i)if(i.hasOwnProperty(l)){var c=i[l];l==="style"?cd(e,c):l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&od(e,c)):l==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&zn(e,c):typeof c=="number"&&zn(e,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Rn.hasOwnProperty(l)?c!=null&&l==="onScroll"&&le("scroll",e):c!=null&&_o(e,l,c,o))}switch(r){case"input":ds(e),Ji(e,s,!1);break;case"textarea":ds(e),qi(e);break;case"option":s.value!=null&&e.setAttribute("value",""+ar(s.value));break;case"select":e.multiple=!!s.multiple,l=s.value,l!=null?Wr(e,!!s.multiple,l,!1):s.defaultValue!=null&&Wr(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Js)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ie(t),null;case 6:if(e&&t.stateNode!=null)_p(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(z(166));if(r=vr(Yn.current),vr(kt.current),ys(t)){if(s=t.stateNode,r=t.memoizedProps,s[Nt]=t,(l=s.nodeValue!==r)&&(e=Xe,e!==null))switch(e.tag){case 3:bs(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&bs(s.nodeValue,r,(e.mode&1)!==0)}l&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[Nt]=t,t.stateNode=s}return Ie(t),null;case 13:if(ie(de),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ue&&Ke!==null&&t.mode&1&&!(t.flags&128))Xd(),Jr(),t.flags|=98560,l=!1;else if(l=ys(t),s!==null&&s.dehydrated!==null){if(e===null){if(!l)throw Error(z(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(z(317));l[Nt]=t}else Jr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ie(t),l=!1}else ft!==null&&(vo(ft),ft=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||de.current&1?we===0&&(we=3):fi())),t.updateQueue!==null&&(t.flags|=4),Ie(t),null);case 4:return qr(),co(e,t),e===null&&Hn(t.stateNode.containerInfo),Ie(t),null;case 10:return Jo(t.type._context),Ie(t),null;case 17:return Ve(t.type)&&Zs(),Ie(t),null;case 19:if(ie(de),l=t.memoizedState,l===null)return Ie(t),null;if(s=(t.flags&128)!==0,o=l.rendering,o===null)if(s)jn(l,!1);else{if(we!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=aa(e),o!==null){for(t.flags|=128,jn(l,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)l=r,e=s,l.flags&=14680066,o=l.alternate,o===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,e=o.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return se(de,de.current&1|2),t.child}e=e.sibling}l.tail!==null&&ge()>tn&&(t.flags|=128,s=!0,jn(l,!1),t.lanes=4194304)}else{if(!s)if(e=aa(o),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),jn(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!ue)return Ie(t),null}else 2*ge()-l.renderingStartTime>tn&&r!==1073741824&&(t.flags|=128,s=!0,jn(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(r=l.last,r!==null?r.sibling=o:t.child=o,l.last=o)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=ge(),t.sibling=null,r=de.current,se(de,s?r&1|2:r&1),t):(Ie(t),null);case 22:case 23:return mi(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Ye&1073741824&&(Ie(t),t.subtreeFlags&6&&(t.flags|=8192)):Ie(t),null;case 24:return null;case 25:return null}throw Error(z(156,t.tag))}function px(e,t){switch(Go(t),t.tag){case 1:return Ve(t.type)&&Zs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return qr(),ie(He),ie(ze),ri(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ti(t),null;case 13:if(ie(de),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(z(340));Jr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ie(de),null;case 4:return qr(),null;case 10:return Jo(t.type._context),null;case 22:case 23:return mi(),null;case 24:return null;default:return null}}var ws=!1,Re=!1,mx=typeof WeakSet=="function"?WeakSet:Set,U=null;function Br(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){he(e,t,s)}else r.current=null}function uo(e,t,r){try{r()}catch(s){he(e,t,s)}}var Uc=!1;function fx(e,t){if(Gl=Ys,e=zd(),Vo(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var a=s.anchorOffset,l=s.focusNode;s=s.focusOffset;try{r.nodeType,l.nodeType}catch{r=null;break e}var o=0,i=-1,c=-1,u=0,p=0,d=e,f=null;t:for(;;){for(var N;d!==r||a!==0&&d.nodeType!==3||(i=o+a),d!==l||s!==0&&d.nodeType!==3||(c=o+s),d.nodeType===3&&(o+=d.nodeValue.length),(N=d.firstChild)!==null;)f=d,d=N;for(;;){if(d===e)break t;if(f===r&&++u===a&&(i=o),f===l&&++p===s&&(c=o),(N=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=N}r=i===-1||c===-1?null:{start:i,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Yl={focusedElem:e,selectionRange:r},Ys=!1,U=t;U!==null;)if(t=U,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,U=e;else for(;U!==null;){t=U;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var j=b.memoizedProps,k=b.memoizedState,x=t.stateNode,h=x.getSnapshotBeforeUpdate(t.elementType===t.type?j:pt(t.type,j),k);x.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(w){he(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,U=e;break}U=t.return}return b=Uc,Uc=!1,b}function Mn(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var l=a.destroy;a.destroy=void 0,l!==void 0&&uo(t,r,l)}a=a.next}while(a!==s)}}function Ca(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function po(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Mp(e){var t=e.alternate;t!==null&&(e.alternate=null,Mp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Nt],delete t[Qn],delete t[Jl],delete t[Xh],delete t[Jh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ap(e){return e.tag===5||e.tag===3||e.tag===4}function Wc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ap(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function mo(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Js));else if(s!==4&&(e=e.child,e!==null))for(mo(e,t,r),e=e.sibling;e!==null;)mo(e,t,r),e=e.sibling}function fo(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(fo(e,t,r),e=e.sibling;e!==null;)fo(e,t,r),e=e.sibling}var Fe=null,mt=!1;function Bt(e,t,r){for(r=r.child;r!==null;)Ip(e,t,r),r=r.sibling}function Ip(e,t,r){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(va,r)}catch{}switch(r.tag){case 5:Re||Br(r,t);case 6:var s=Fe,a=mt;Fe=null,Bt(e,t,r),Fe=s,mt=a,Fe!==null&&(mt?(e=Fe,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Fe.removeChild(r.stateNode));break;case 18:Fe!==null&&(mt?(e=Fe,r=r.stateNode,e.nodeType===8?ll(e.parentNode,r):e.nodeType===1&&ll(e,r),Bn(e)):ll(Fe,r.stateNode));break;case 4:s=Fe,a=mt,Fe=r.stateNode.containerInfo,mt=!0,Bt(e,t,r),Fe=s,mt=a;break;case 0:case 11:case 14:case 15:if(!Re&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var l=a,o=l.destroy;l=l.tag,o!==void 0&&(l&2||l&4)&&uo(r,t,o),a=a.next}while(a!==s)}Bt(e,t,r);break;case 1:if(!Re&&(Br(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(i){he(r,t,i)}Bt(e,t,r);break;case 21:Bt(e,t,r);break;case 22:r.mode&1?(Re=(s=Re)||r.memoizedState!==null,Bt(e,t,r),Re=s):Bt(e,t,r);break;default:Bt(e,t,r)}}function Hc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new mx),t.forEach(function(s){var a=wx.bind(null,e,s);r.has(s)||(r.add(s),s.then(a,a))})}}function dt(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var a=r[s];try{var l=e,o=t,i=o;e:for(;i!==null;){switch(i.tag){case 5:Fe=i.stateNode,mt=!1;break e;case 3:Fe=i.stateNode.containerInfo,mt=!0;break e;case 4:Fe=i.stateNode.containerInfo,mt=!0;break e}i=i.return}if(Fe===null)throw Error(z(160));Ip(l,o,a),Fe=null,mt=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){he(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Rp(t,e),t=t.sibling}function Rp(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(dt(t,e),bt(e),s&4){try{Mn(3,e,e.return),Ca(3,e)}catch(j){he(e,e.return,j)}try{Mn(5,e,e.return)}catch(j){he(e,e.return,j)}}break;case 1:dt(t,e),bt(e),s&512&&r!==null&&Br(r,r.return);break;case 5:if(dt(t,e),bt(e),s&512&&r!==null&&Br(r,r.return),e.flags&32){var a=e.stateNode;try{zn(a,"")}catch(j){he(e,e.return,j)}}if(s&4&&(a=e.stateNode,a!=null)){var l=e.memoizedProps,o=r!==null?r.memoizedProps:l,i=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{i==="input"&&l.type==="radio"&&l.name!=null&&sd(a,l),zl(i,o);var u=zl(i,l);for(o=0;o<c.length;o+=2){var p=c[o],d=c[o+1];p==="style"?cd(a,d):p==="dangerouslySetInnerHTML"?od(a,d):p==="children"?zn(a,d):_o(a,p,d,u)}switch(i){case"input":_l(a,l);break;case"textarea":ad(a,l);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var N=l.value;N!=null?Wr(a,!!l.multiple,N,!1):f!==!!l.multiple&&(l.defaultValue!=null?Wr(a,!!l.multiple,l.defaultValue,!0):Wr(a,!!l.multiple,l.multiple?[]:"",!1))}a[Qn]=l}catch(j){he(e,e.return,j)}}break;case 6:if(dt(t,e),bt(e),s&4){if(e.stateNode===null)throw Error(z(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(j){he(e,e.return,j)}}break;case 3:if(dt(t,e),bt(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{Bn(t.containerInfo)}catch(j){he(e,e.return,j)}break;case 4:dt(t,e),bt(e);break;case 13:dt(t,e),bt(e),a=e.child,a.flags&8192&&(l=a.memoizedState!==null,a.stateNode.isHidden=l,!l||a.alternate!==null&&a.alternate.memoizedState!==null||(di=ge())),s&4&&Hc(e);break;case 22:if(p=r!==null&&r.memoizedState!==null,e.mode&1?(Re=(u=Re)||p,dt(t,e),Re=u):dt(t,e),bt(e),s&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!p&&e.mode&1)for(U=e,p=e.child;p!==null;){for(d=U=p;U!==null;){switch(f=U,N=f.child,f.tag){case 0:case 11:case 14:case 15:Mn(4,f,f.return);break;case 1:Br(f,f.return);var b=f.stateNode;if(typeof b.componentWillUnmount=="function"){s=f,r=f.return;try{t=s,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(j){he(s,r,j)}}break;case 5:Br(f,f.return);break;case 22:if(f.memoizedState!==null){Qc(d);continue}}N!==null?(N.return=f,U=N):Qc(d)}p=p.sibling}e:for(p=null,d=e;;){if(d.tag===5){if(p===null){p=d;try{a=d.stateNode,u?(l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(i=d.stateNode,c=d.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,i.style.display=id("display",o))}catch(j){he(e,e.return,j)}}}else if(d.tag===6){if(p===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(j){he(e,e.return,j)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;p===d&&(p=null),d=d.return}p===d&&(p=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:dt(t,e),bt(e),s&4&&Hc(e);break;case 21:break;default:dt(t,e),bt(e)}}function bt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Ap(r)){var s=r;break e}r=r.return}throw Error(z(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(zn(a,""),s.flags&=-33);var l=Wc(e);fo(e,l,a);break;case 3:case 4:var o=s.stateNode.containerInfo,i=Wc(e);mo(e,i,o);break;default:throw Error(z(161))}}catch(c){he(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hx(e,t,r){U=e,zp(e)}function zp(e,t,r){for(var s=(e.mode&1)!==0;U!==null;){var a=U,l=a.child;if(a.tag===22&&s){var o=a.memoizedState!==null||ws;if(!o){var i=a.alternate,c=i!==null&&i.memoizedState!==null||Re;i=ws;var u=Re;if(ws=o,(Re=c)&&!u)for(U=a;U!==null;)o=U,c=o.child,o.tag===22&&o.memoizedState!==null?Gc(a):c!==null?(c.return=o,U=c):Gc(a);for(;l!==null;)U=l,zp(l),l=l.sibling;U=a,ws=i,Re=u}Vc(e)}else a.subtreeFlags&8772&&l!==null?(l.return=a,U=l):Vc(e)}}function Vc(e){for(;U!==null;){var t=U;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Re||Ca(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Re)if(r===null)s.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:pt(t.type,r.memoizedProps);s.componentDidUpdate(a,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&Tc(t,l,s);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Tc(t,o,r)}break;case 5:var i=t.stateNode;if(r===null&&t.flags&4){r=i;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var p=u.memoizedState;if(p!==null){var d=p.dehydrated;d!==null&&Bn(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Re||t.flags&512&&po(t)}catch(f){he(t,t.return,f)}}if(t===e){U=null;break}if(r=t.sibling,r!==null){r.return=t.return,U=r;break}U=t.return}}function Qc(e){for(;U!==null;){var t=U;if(t===e){U=null;break}var r=t.sibling;if(r!==null){r.return=t.return,U=r;break}U=t.return}}function Gc(e){for(;U!==null;){var t=U;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ca(4,t)}catch(c){he(t,r,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(c){he(t,a,c)}}var l=t.return;try{po(t)}catch(c){he(t,l,c)}break;case 5:var o=t.return;try{po(t)}catch(c){he(t,o,c)}}}catch(c){he(t,t.return,c)}if(t===e){U=null;break}var i=t.sibling;if(i!==null){i.return=t.return,U=i;break}U=t.return}}var xx=Math.ceil,ia=Ot.ReactCurrentDispatcher,ci=Ot.ReactCurrentOwner,lt=Ot.ReactCurrentBatchConfig,q=0,Ce=null,be=null,Pe=0,Ye=0,Ur=ir(0),we=0,Zn=null,kr=0,Ea=0,ui=0,An=null,Ue=null,di=0,tn=1/0,Et=null,ca=!1,ho=null,er=null,ks=!1,Gt=null,ua=0,In=0,xo=null,Os=-1,Ds=0;function De(){return q&6?ge():Os!==-1?Os:Os=ge()}function tr(e){return e.mode&1?q&2&&Pe!==0?Pe&-Pe:qh.transition!==null?(Ds===0&&(Ds=jd()),Ds):(e=re,e!==0||(e=window.event,e=e===void 0?16:Fd(e.type)),e):1}function xt(e,t,r,s){if(50<In)throw In=0,xo=null,Error(z(185));rs(e,r,s),(!(q&2)||e!==Ce)&&(e===Ce&&(!(q&2)&&(Ea|=r),we===4&&Vt(e,Pe)),Qe(e,s),r===1&&q===0&&!(t.mode&1)&&(tn=ge()+500,wa&&cr()))}function Qe(e,t){var r=e.callbackNode;qf(e,t);var s=Gs(e,e===Ce?Pe:0);if(s===0)r!==null&&rc(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&rc(r),t===1)e.tag===0?Zh(Yc.bind(null,e)):Gd(Yc.bind(null,e)),Yh(function(){!(q&6)&&cr()}),r=null;else{switch(Nd(s)){case 1:r=zo;break;case 4:r=bd;break;case 16:r=Qs;break;case 536870912:r=yd;break;default:r=Qs}r=Vp(r,Op.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Op(e,t){if(Os=-1,Ds=0,q&6)throw Error(z(327));var r=e.callbackNode;if(Yr()&&e.callbackNode!==r)return null;var s=Gs(e,e===Ce?Pe:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=da(e,s);else{t=s;var a=q;q|=2;var l=$p();(Ce!==e||Pe!==t)&&(Et=null,tn=ge()+500,br(e,t));do try{bx();break}catch(i){Dp(e,i)}while(!0);Xo(),ia.current=l,q=a,be!==null?t=0:(Ce=null,Pe=0,t=we)}if(t!==0){if(t===2&&(a=Ul(e),a!==0&&(s=a,t=go(e,a))),t===1)throw r=Zn,br(e,0),Vt(e,s),Qe(e,ge()),r;if(t===6)Vt(e,s);else{if(a=e.current.alternate,!(s&30)&&!gx(a)&&(t=da(e,s),t===2&&(l=Ul(e),l!==0&&(s=l,t=go(e,l))),t===1))throw r=Zn,br(e,0),Vt(e,s),Qe(e,ge()),r;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(z(345));case 2:hr(e,Ue,Et);break;case 3:if(Vt(e,s),(s&130023424)===s&&(t=di+500-ge(),10<t)){if(Gs(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){De(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Xl(hr.bind(null,e,Ue,Et),t);break}hr(e,Ue,Et);break;case 4:if(Vt(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var o=31-ht(s);l=1<<o,o=t[o],o>a&&(a=o),s&=~l}if(s=a,s=ge()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*xx(s/1960))-s,10<s){e.timeoutHandle=Xl(hr.bind(null,e,Ue,Et),s);break}hr(e,Ue,Et);break;case 5:hr(e,Ue,Et);break;default:throw Error(z(329))}}}return Qe(e,ge()),e.callbackNode===r?Op.bind(null,e):null}function go(e,t){var r=An;return e.current.memoizedState.isDehydrated&&(br(e,t).flags|=256),e=da(e,t),e!==2&&(t=Ue,Ue=r,t!==null&&vo(t)),e}function vo(e){Ue===null?Ue=e:Ue.push.apply(Ue,e)}function gx(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var a=r[s],l=a.getSnapshot;a=a.value;try{if(!gt(l(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vt(e,t){for(t&=~ui,t&=~Ea,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ht(t),s=1<<r;e[r]=-1,t&=~s}}function Yc(e){if(q&6)throw Error(z(327));Yr();var t=Gs(e,0);if(!(t&1))return Qe(e,ge()),null;var r=da(e,t);if(e.tag!==0&&r===2){var s=Ul(e);s!==0&&(t=s,r=go(e,s))}if(r===1)throw r=Zn,br(e,0),Vt(e,t),Qe(e,ge()),r;if(r===6)throw Error(z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,hr(e,Ue,Et),Qe(e,ge()),null}function pi(e,t){var r=q;q|=1;try{return e(t)}finally{q=r,q===0&&(tn=ge()+500,wa&&cr())}}function Sr(e){Gt!==null&&Gt.tag===0&&!(q&6)&&Yr();var t=q;q|=1;var r=lt.transition,s=re;try{if(lt.transition=null,re=1,e)return e()}finally{re=s,lt.transition=r,q=t,!(q&6)&&cr()}}function mi(){Ye=Ur.current,ie(Ur)}function br(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Gh(r)),be!==null)for(r=be.return;r!==null;){var s=r;switch(Go(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Zs();break;case 3:qr(),ie(He),ie(ze),ri();break;case 5:ti(s);break;case 4:qr();break;case 13:ie(de);break;case 19:ie(de);break;case 10:Jo(s.type._context);break;case 22:case 23:mi()}r=r.return}if(Ce=e,be=e=rr(e.current,null),Pe=Ye=t,we=0,Zn=null,ui=Ea=kr=0,Ue=An=null,gr!==null){for(t=0;t<gr.length;t++)if(r=gr[t],s=r.interleaved,s!==null){r.interleaved=null;var a=s.next,l=r.pending;if(l!==null){var o=l.next;l.next=a,s.next=o}r.pending=s}gr=null}return e}function Dp(e,t){do{var r=be;try{if(Xo(),Is.current=oa,la){for(var s=pe.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}la=!1}if(wr=0,Se=Ne=pe=null,_n=!1,Kn=0,ci.current=null,r===null||r.return===null){we=1,Zn=t,be=null;break}e:{var l=e,o=r.return,i=r,c=t;if(t=Pe,i.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,p=i,d=p.tag;if(!(p.mode&1)&&(d===0||d===11||d===15)){var f=p.alternate;f?(p.updateQueue=f.updateQueue,p.memoizedState=f.memoizedState,p.lanes=f.lanes):(p.updateQueue=null,p.memoizedState=null)}var N=Ic(o);if(N!==null){N.flags&=-257,Rc(N,o,i,l,t),N.mode&1&&Ac(l,u,t),t=N,c=u;var b=t.updateQueue;if(b===null){var j=new Set;j.add(c),t.updateQueue=j}else b.add(c);break e}else{if(!(t&1)){Ac(l,u,t),fi();break e}c=Error(z(426))}}else if(ue&&i.mode&1){var k=Ic(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Rc(k,o,i,l,t),Yo(en(c,i));break e}}l=c=en(c,i),we!==4&&(we=2),An===null?An=[l]:An.push(l),l=o;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var x=Np(l,c,t);Fc(l,x);break e;case 1:i=c;var h=l.type,g=l.stateNode;if(!(l.flags&128)&&(typeof h.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(er===null||!er.has(g)))){l.flags|=65536,t&=-t,l.lanes|=t;var w=wp(l,i,t);Fc(l,w);break e}}l=l.return}while(l!==null)}Up(r)}catch(S){t=S,be===r&&r!==null&&(be=r=r.return);continue}break}while(!0)}function $p(){var e=ia.current;return ia.current=oa,e===null?oa:e}function fi(){(we===0||we===3||we===2)&&(we=4),Ce===null||!(kr&268435455)&&!(Ea&268435455)||Vt(Ce,Pe)}function da(e,t){var r=q;q|=2;var s=$p();(Ce!==e||Pe!==t)&&(Et=null,br(e,t));do try{vx();break}catch(a){Dp(e,a)}while(!0);if(Xo(),q=r,ia.current=s,be!==null)throw Error(z(261));return Ce=null,Pe=0,we}function vx(){for(;be!==null;)Bp(be)}function bx(){for(;be!==null&&!Hf();)Bp(be)}function Bp(e){var t=Hp(e.alternate,e,Ye);e.memoizedProps=e.pendingProps,t===null?Up(e):be=t,ci.current=null}function Up(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=px(r,t),r!==null){r.flags&=32767,be=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{we=6,be=null;return}}else if(r=dx(r,t,Ye),r!==null){be=r;return}if(t=t.sibling,t!==null){be=t;return}be=t=e}while(t!==null);we===0&&(we=5)}function hr(e,t,r){var s=re,a=lt.transition;try{lt.transition=null,re=1,yx(e,t,r,s)}finally{lt.transition=a,re=s}return null}function yx(e,t,r,s){do Yr();while(Gt!==null);if(q&6)throw Error(z(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(z(177));e.callbackNode=null,e.callbackPriority=0;var l=r.lanes|r.childLanes;if(eh(e,l),e===Ce&&(be=Ce=null,Pe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ks||(ks=!0,Vp(Qs,function(){return Yr(),null})),l=(r.flags&15990)!==0,r.subtreeFlags&15990||l){l=lt.transition,lt.transition=null;var o=re;re=1;var i=q;q|=4,ci.current=null,fx(e,r),Rp(r,e),$h(Yl),Ys=!!Gl,Yl=Gl=null,e.current=r,hx(r),Vf(),q=i,re=o,lt.transition=l}else e.current=r;if(ks&&(ks=!1,Gt=e,ua=a),l=e.pendingLanes,l===0&&(er=null),Yf(r.stateNode),Qe(e,ge()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],s(a.value,{componentStack:a.stack,digest:a.digest});if(ca)throw ca=!1,e=ho,ho=null,e;return ua&1&&e.tag!==0&&Yr(),l=e.pendingLanes,l&1?e===xo?In++:(In=0,xo=e):In=0,cr(),null}function Yr(){if(Gt!==null){var e=Nd(ua),t=lt.transition,r=re;try{if(lt.transition=null,re=16>e?16:e,Gt===null)var s=!1;else{if(e=Gt,Gt=null,ua=0,q&6)throw Error(z(331));var a=q;for(q|=4,U=e.current;U!==null;){var l=U,o=l.child;if(U.flags&16){var i=l.deletions;if(i!==null){for(var c=0;c<i.length;c++){var u=i[c];for(U=u;U!==null;){var p=U;switch(p.tag){case 0:case 11:case 15:Mn(8,p,l)}var d=p.child;if(d!==null)d.return=p,U=d;else for(;U!==null;){p=U;var f=p.sibling,N=p.return;if(Mp(p),p===u){U=null;break}if(f!==null){f.return=N,U=f;break}U=N}}}var b=l.alternate;if(b!==null){var j=b.child;if(j!==null){b.child=null;do{var k=j.sibling;j.sibling=null,j=k}while(j!==null)}}U=l}}if(l.subtreeFlags&2064&&o!==null)o.return=l,U=o;else e:for(;U!==null;){if(l=U,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Mn(9,l,l.return)}var x=l.sibling;if(x!==null){x.return=l.return,U=x;break e}U=l.return}}var h=e.current;for(U=h;U!==null;){o=U;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,U=g;else e:for(o=h;U!==null;){if(i=U,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:Ca(9,i)}}catch(S){he(i,i.return,S)}if(i===o){U=null;break e}var w=i.sibling;if(w!==null){w.return=i.return,U=w;break e}U=i.return}}if(q=a,cr(),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(va,e)}catch{}s=!0}return s}finally{re=r,lt.transition=t}}return!1}function Kc(e,t,r){t=en(r,t),t=Np(e,t,1),e=qt(e,t,1),t=De(),e!==null&&(rs(e,1,t),Qe(e,t))}function he(e,t,r){if(e.tag===3)Kc(e,e,r);else for(;t!==null;){if(t.tag===3){Kc(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(er===null||!er.has(s))){e=en(r,e),e=wp(t,e,1),t=qt(t,e,1),e=De(),t!==null&&(rs(t,1,e),Qe(t,e));break}}t=t.return}}function jx(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=De(),e.pingedLanes|=e.suspendedLanes&r,Ce===e&&(Pe&r)===r&&(we===4||we===3&&(Pe&130023424)===Pe&&500>ge()-di?br(e,0):ui|=r),Qe(e,t)}function Wp(e,t){t===0&&(e.mode&1?(t=fs,fs<<=1,!(fs&130023424)&&(fs=4194304)):t=1);var r=De();e=Rt(e,t),e!==null&&(rs(e,t,r),Qe(e,r))}function Nx(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Wp(e,r)}function wx(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(z(314))}s!==null&&s.delete(t),Wp(e,r)}var Hp;Hp=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||He.current)We=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return We=!1,ux(e,t,r);We=!!(e.flags&131072)}else We=!1,ue&&t.flags&1048576&&Yd(t,ta,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;zs(e,t),e=t.pendingProps;var a=Xr(t,ze.current);Gr(t,r),a=si(null,t,s,e,a,r);var l=ai();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ve(s)?(l=!0,qs(t)):l=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,qo(t),a.updater=Sa,t.stateNode=a,a._reactInternals=t,no(t,s,e,r),t=lo(null,t,s,!0,l,r)):(t.tag=0,ue&&l&&Qo(t),Oe(null,t,a,r),t=t.child),t;case 16:s=t.elementType;e:{switch(zs(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=Sx(s),e=pt(s,e),a){case 0:t=ao(null,t,s,e,r);break e;case 1:t=Dc(null,t,s,e,r);break e;case 11:t=zc(null,t,s,e,r);break e;case 14:t=Oc(null,t,s,pt(s.type,e),r);break e}throw Error(z(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:pt(s,a),ao(e,t,s,a,r);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:pt(s,a),Dc(e,t,s,a,r);case 3:e:{if(Ep(t),e===null)throw Error(z(387));s=t.pendingProps,l=t.memoizedState,a=l.element,ep(e,t),sa(t,s,null,r);var o=t.memoizedState;if(s=o.element,l.isDehydrated)if(l={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){a=en(Error(z(423)),t),t=$c(e,t,s,r,a);break e}else if(s!==a){a=en(Error(z(424)),t),t=$c(e,t,s,r,a);break e}else for(Ke=Zt(t.stateNode.containerInfo.firstChild),Xe=t,ue=!0,ft=null,r=Zd(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Jr(),s===a){t=zt(e,t,r);break e}Oe(e,t,s,r)}t=t.child}return t;case 5:return tp(t),e===null&&eo(t),s=t.type,a=t.pendingProps,l=e!==null?e.memoizedProps:null,o=a.children,Kl(s,a)?o=null:l!==null&&Kl(s,l)&&(t.flags|=32),Cp(e,t),Oe(e,t,o,r),t.child;case 6:return e===null&&eo(t),null;case 13:return Fp(e,t,r);case 4:return ei(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Zr(t,null,s,r):Oe(e,t,s,r),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:pt(s,a),zc(e,t,s,a,r);case 7:return Oe(e,t,t.pendingProps,r),t.child;case 8:return Oe(e,t,t.pendingProps.children,r),t.child;case 12:return Oe(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,l=t.memoizedProps,o=a.value,se(ra,s._currentValue),s._currentValue=o,l!==null)if(gt(l.value,o)){if(l.children===a.children&&!He.current){t=zt(e,t,r);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var i=l.dependencies;if(i!==null){o=l.child;for(var c=i.firstContext;c!==null;){if(c.context===s){if(l.tag===1){c=Lt(-1,r&-r),c.tag=2;var u=l.updateQueue;if(u!==null){u=u.shared;var p=u.pending;p===null?c.next=c:(c.next=p.next,p.next=c),u.pending=c}}l.lanes|=r,c=l.alternate,c!==null&&(c.lanes|=r),to(l.return,r,t),i.lanes|=r;break}c=c.next}}else if(l.tag===10)o=l.type===t.type?null:l.child;else if(l.tag===18){if(o=l.return,o===null)throw Error(z(341));o.lanes|=r,i=o.alternate,i!==null&&(i.lanes|=r),to(o,r,t),o=l.sibling}else o=l.child;if(o!==null)o.return=l;else for(o=l;o!==null;){if(o===t){o=null;break}if(l=o.sibling,l!==null){l.return=o.return,o=l;break}o=o.return}l=o}Oe(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,Gr(t,r),a=ot(a),s=s(a),t.flags|=1,Oe(e,t,s,r),t.child;case 14:return s=t.type,a=pt(s,t.pendingProps),a=pt(s.type,a),Oc(e,t,s,a,r);case 15:return kp(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:pt(s,a),zs(e,t),t.tag=1,Ve(s)?(e=!0,qs(t)):e=!1,Gr(t,r),jp(t,s,a),no(t,s,a,r),lo(null,t,s,!0,e,r);case 19:return Tp(e,t,r);case 22:return Sp(e,t,r)}throw Error(z(156,t.tag))};function Vp(e,t){return vd(e,t)}function kx(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function at(e,t,r,s){return new kx(e,t,r,s)}function hi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Sx(e){if(typeof e=="function")return hi(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ao)return 11;if(e===Io)return 14}return 2}function rr(e,t){var r=e.alternate;return r===null?(r=at(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function $s(e,t,r,s,a,l){var o=2;if(s=e,typeof e=="function")hi(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case _r:return yr(r.children,a,l,t);case Mo:o=8,a|=8;break;case El:return e=at(12,r,t,a|2),e.elementType=El,e.lanes=l,e;case Fl:return e=at(13,r,t,a),e.elementType=Fl,e.lanes=l,e;case Tl:return e=at(19,r,t,a),e.elementType=Tl,e.lanes=l,e;case td:return Fa(r,a,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case qu:o=10;break e;case ed:o=9;break e;case Ao:o=11;break e;case Io:o=14;break e;case Ut:o=16,s=null;break e}throw Error(z(130,e==null?e:typeof e,""))}return t=at(o,r,t,a),t.elementType=e,t.type=s,t.lanes=l,t}function yr(e,t,r,s){return e=at(7,e,s,t),e.lanes=r,e}function Fa(e,t,r,s){return e=at(22,e,s,t),e.elementType=td,e.lanes=r,e.stateNode={isHidden:!1},e}function fl(e,t,r){return e=at(6,e,null,t),e.lanes=r,e}function hl(e,t,r){return t=at(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Cx(e,t,r,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ka(0),this.expirationTimes=Ka(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ka(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function xi(e,t,r,s,a,l,o,i,c){return e=new Cx(e,t,r,i,c),t===1?(t=1,l===!0&&(t|=8)):t=0,l=at(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},qo(l),e}function Ex(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Lr,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function Qp(e){if(!e)return lr;e=e._reactInternals;e:{if(Er(e)!==e||e.tag!==1)throw Error(z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ve(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(z(171))}if(e.tag===1){var r=e.type;if(Ve(r))return Qd(e,r,t)}return t}function Gp(e,t,r,s,a,l,o,i,c){return e=xi(r,s,!0,e,a,l,o,i,c),e.context=Qp(null),r=e.current,s=De(),a=tr(r),l=Lt(s,a),l.callback=t??null,qt(r,l,a),e.current.lanes=a,rs(e,a,s),Qe(e,s),e}function Ta(e,t,r,s){var a=t.current,l=De(),o=tr(a);return r=Qp(r),t.context===null?t.context=r:t.pendingContext=r,t=Lt(l,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=qt(a,t,o),e!==null&&(xt(e,a,o,l),As(e,a,o)),o}function pa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Xc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function gi(e,t){Xc(e,t),(e=e.alternate)&&Xc(e,t)}function Fx(){return null}var Yp=typeof reportError=="function"?reportError:function(e){console.error(e)};function vi(e){this._internalRoot=e}Pa.prototype.render=vi.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(z(409));Ta(e,t,null,null)};Pa.prototype.unmount=vi.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Sr(function(){Ta(null,e,null,null)}),t[It]=null}};function Pa(e){this._internalRoot=e}Pa.prototype.unstable_scheduleHydration=function(e){if(e){var t=Sd();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ht.length&&t!==0&&t<Ht[r].priority;r++);Ht.splice(r,0,e),r===0&&Ed(e)}};function bi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function La(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Jc(){}function Tx(e,t,r,s,a){if(a){if(typeof s=="function"){var l=s;s=function(){var u=pa(o);l.call(u)}}var o=Gp(t,s,e,0,null,!1,!1,"",Jc);return e._reactRootContainer=o,e[It]=o.current,Hn(e.nodeType===8?e.parentNode:e),Sr(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var i=s;s=function(){var u=pa(c);i.call(u)}}var c=xi(e,0,!1,null,null,!1,!1,"",Jc);return e._reactRootContainer=c,e[It]=c.current,Hn(e.nodeType===8?e.parentNode:e),Sr(function(){Ta(t,c,r,s)}),c}function _a(e,t,r,s,a){var l=r._reactRootContainer;if(l){var o=l;if(typeof a=="function"){var i=a;a=function(){var c=pa(o);i.call(c)}}Ta(t,o,e,a)}else o=Tx(r,t,e,a,s);return pa(o)}wd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Sn(t.pendingLanes);r!==0&&(Oo(t,r|1),Qe(t,ge()),!(q&6)&&(tn=ge()+500,cr()))}break;case 13:Sr(function(){var s=Rt(e,1);if(s!==null){var a=De();xt(s,e,1,a)}}),gi(e,1)}};Do=function(e){if(e.tag===13){var t=Rt(e,134217728);if(t!==null){var r=De();xt(t,e,134217728,r)}gi(e,134217728)}};kd=function(e){if(e.tag===13){var t=tr(e),r=Rt(e,t);if(r!==null){var s=De();xt(r,e,t,s)}gi(e,t)}};Sd=function(){return re};Cd=function(e,t){var r=re;try{return re=e,t()}finally{re=r}};Dl=function(e,t,r){switch(t){case"input":if(_l(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var a=Na(s);if(!a)throw Error(z(90));nd(s),_l(s,a)}}}break;case"textarea":ad(e,r);break;case"select":t=r.value,t!=null&&Wr(e,!!r.multiple,t,!1)}};pd=pi;md=Sr;var Px={usingClientEntryPoint:!1,Events:[ss,Rr,Na,ud,dd,pi]},Nn={findFiberByHostInstance:xr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Lx={bundleType:Nn.bundleType,version:Nn.version,rendererPackageName:Nn.rendererPackageName,rendererConfig:Nn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ot.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=xd(e),e===null?null:e.stateNode},findFiberByHostInstance:Nn.findFiberByHostInstance||Fx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ss=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ss.isDisabled&&Ss.supportsFiber)try{va=Ss.inject(Lx),wt=Ss}catch{}}Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Px;Ze.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bi(t))throw Error(z(200));return Ex(e,t,null,r)};Ze.createRoot=function(e,t){if(!bi(e))throw Error(z(299));var r=!1,s="",a=Yp;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=xi(e,1,!1,null,null,r,!1,s,a),e[It]=t.current,Hn(e.nodeType===8?e.parentNode:e),new vi(t)};Ze.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(z(188)):(e=Object.keys(e).join(","),Error(z(268,e)));return e=xd(t),e=e===null?null:e.stateNode,e};Ze.flushSync=function(e){return Sr(e)};Ze.hydrate=function(e,t,r){if(!La(t))throw Error(z(200));return _a(null,e,t,!0,r)};Ze.hydrateRoot=function(e,t,r){if(!bi(e))throw Error(z(405));var s=r!=null&&r.hydratedSources||null,a=!1,l="",o=Yp;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Gp(t,null,e,1,r??null,a,!1,l,o),e[It]=t.current,Hn(e),s)for(e=0;e<s.length;e++)r=s[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Pa(t)};Ze.render=function(e,t,r){if(!La(t))throw Error(z(200));return _a(null,e,t,!1,r)};Ze.unmountComponentAtNode=function(e){if(!La(e))throw Error(z(40));return e._reactRootContainer?(Sr(function(){_a(null,null,e,!1,function(){e._reactRootContainer=null,e[It]=null})}),!0):!1};Ze.unstable_batchedUpdates=pi;Ze.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!La(r))throw Error(z(200));if(e==null||e._reactInternals===void 0)throw Error(z(38));return _a(e,t,r,!1,s)};Ze.version="18.3.1-next-f1338f8080-20240426";function Kp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Kp)}catch(e){console.error(e)}}Kp(),Ku.exports=Ze;var _x=Ku.exports,Zc=_x;Sl.createRoot=Zc.createRoot,Sl.hydrateRoot=Zc.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qn(){return qn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},qn.apply(this,arguments)}var Yt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Yt||(Yt={}));const qc="popstate";function Mx(e){e===void 0&&(e={});function t(s,a){let{pathname:l,search:o,hash:i}=s.location;return bo("",{pathname:l,search:o,hash:i},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(s,a){return typeof a=="string"?a:ma(a)}return Ix(t,r,null,e)}function me(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function yi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Ax(){return Math.random().toString(36).substr(2,8)}function eu(e,t){return{usr:e.state,key:e.key,idx:t}}function bo(e,t,r,s){return r===void 0&&(r=null),qn({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?on(t):t,{state:r,key:t&&t.key||s||Ax()})}function ma(e){let{pathname:t="/",search:r="",hash:s=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function on(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function Ix(e,t,r,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:l=!1}=s,o=a.history,i=Yt.Pop,c=null,u=p();u==null&&(u=0,o.replaceState(qn({},o.state,{idx:u}),""));function p(){return(o.state||{idx:null}).idx}function d(){i=Yt.Pop;let k=p(),x=k==null?null:k-u;u=k,c&&c({action:i,location:j.location,delta:x})}function f(k,x){i=Yt.Push;let h=bo(j.location,k,x);u=p()+1;let g=eu(h,u),w=j.createHref(h);try{o.pushState(g,"",w)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(w)}l&&c&&c({action:i,location:j.location,delta:1})}function N(k,x){i=Yt.Replace;let h=bo(j.location,k,x);u=p();let g=eu(h,u),w=j.createHref(h);o.replaceState(g,"",w),l&&c&&c({action:i,location:j.location,delta:0})}function b(k){let x=a.location.origin!=="null"?a.location.origin:a.location.href,h=typeof k=="string"?k:ma(k);return h=h.replace(/ $/,"%20"),me(x,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,x)}let j={get action(){return i},get location(){return e(a,o)},listen(k){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(qc,d),c=k,()=>{a.removeEventListener(qc,d),c=null}},createHref(k){return t(a,k)},createURL:b,encodeLocation(k){let x=b(k);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:f,replace:N,go(k){return o.go(k)}};return j}var tu;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(tu||(tu={}));function Rx(e,t,r){return r===void 0&&(r="/"),zx(e,t,r)}function zx(e,t,r,s){let a=typeof t=="string"?on(t):t,l=rn(a.pathname||"/",r);if(l==null)return null;let o=Xp(e);Ox(o);let i=null;for(let c=0;i==null&&c<o.length;++c){let u=Kx(l);i=Gx(o[c],u)}return i}function Xp(e,t,r,s){t===void 0&&(t=[]),r===void 0&&(r=[]),s===void 0&&(s="");let a=(l,o,i)=>{let c={relativePath:i===void 0?l.path||"":i,caseSensitive:l.caseSensitive===!0,childrenIndex:o,route:l};c.relativePath.startsWith("/")&&(me(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let u=nr([s,c.relativePath]),p=r.concat(c);l.children&&l.children.length>0&&(me(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Xp(l.children,t,p,u)),!(l.path==null&&!l.index)&&t.push({path:u,score:Vx(u,l.index),routesMeta:p})};return e.forEach((l,o)=>{var i;if(l.path===""||!((i=l.path)!=null&&i.includes("?")))a(l,o);else for(let c of Jp(l.path))a(l,o,c)}),t}function Jp(e){let t=e.split("/");if(t.length===0)return[];let[r,...s]=t,a=r.endsWith("?"),l=r.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let o=Jp(s.join("/")),i=[];return i.push(...o.map(c=>c===""?l:[l,c].join("/"))),a&&i.push(...o),i.map(c=>e.startsWith("/")&&c===""?"/":c)}function Ox(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Qx(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}const Dx=/^:[\w-]+$/,$x=3,Bx=2,Ux=1,Wx=10,Hx=-2,ru=e=>e==="*";function Vx(e,t){let r=e.split("/"),s=r.length;return r.some(ru)&&(s+=Hx),t&&(s+=Bx),r.filter(a=>!ru(a)).reduce((a,l)=>a+(Dx.test(l)?$x:l===""?Ux:Wx),s)}function Qx(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function Gx(e,t,r){let{routesMeta:s}=e,a={},l="/",o=[];for(let i=0;i<s.length;++i){let c=s[i],u=i===s.length-1,p=l==="/"?t:t.slice(l.length)||"/",d=yo({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},p),f=c.route;if(!d)return null;Object.assign(a,d.params),o.push({params:a,pathname:nr([l,d.pathname]),pathnameBase:eg(nr([l,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(l=nr([l,d.pathnameBase]))}return o}function yo(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=Yx(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let l=a[0],o=l.replace(/(.)\/+$/,"$1"),i=a.slice(1);return{params:s.reduce((u,p,d)=>{let{paramName:f,isOptional:N}=p;if(f==="*"){let j=i[d]||"";o=l.slice(0,l.length-j.length).replace(/(.)\/+$/,"$1")}const b=i[d];return N&&!b?u[f]=void 0:u[f]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:l,pathnameBase:o,pattern:e}}function Yx(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),yi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,i,c)=>(s.push({paramName:i,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function Kx(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return yi(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function rn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&s!=="/"?null:e.slice(r)||"/"}const Xx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jx=e=>Xx.test(e);function Zx(e,t){t===void 0&&(t="/");let{pathname:r,search:s="",hash:a=""}=typeof e=="string"?on(e):e,l;if(r)if(Jx(r))l=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),yi(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?l=nu(r.substring(1),"/"):l=nu(r,t)}else l=t;return{pathname:l,search:tg(s),hash:rg(a)}}function nu(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function xl(e,t,r,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function qx(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function ji(e,t){let r=qx(e);return t?r.map((s,a)=>a===r.length-1?s.pathname:s.pathnameBase):r.map(s=>s.pathnameBase)}function Ni(e,t,r,s){s===void 0&&(s=!1);let a;typeof e=="string"?a=on(e):(a=qn({},e),me(!a.pathname||!a.pathname.includes("?"),xl("?","pathname","search",a)),me(!a.pathname||!a.pathname.includes("#"),xl("#","pathname","hash",a)),me(!a.search||!a.search.includes("#"),xl("#","search","hash",a)));let l=e===""||a.pathname==="",o=l?"/":a.pathname,i;if(o==null)i=r;else{let d=t.length-1;if(!s&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;a.pathname=f.join("/")}i=d>=0?t[d]:"/"}let c=Zx(a,i),u=o&&o!=="/"&&o.endsWith("/"),p=(l||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||p)&&(c.pathname+="/"),c}const nr=e=>e.join("/").replace(/\/\/+/g,"/"),eg=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),tg=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,rg=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ng(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Zp=["post","put","patch","delete"];new Set(Zp);const sg=["get",...Zp];new Set(sg);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function es(){return es=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},es.apply(this,arguments)}const Ma=m.createContext(null),qp=m.createContext(null),Dt=m.createContext(null),Aa=m.createContext(null),$t=m.createContext({outlet:null,matches:[],isDataRoute:!1}),em=m.createContext(null);function ag(e,t){let{relative:r}=t===void 0?{}:t;cn()||me(!1);let{basename:s,navigator:a}=m.useContext(Dt),{hash:l,pathname:o,search:i}=Ia(e,{relative:r}),c=o;return s!=="/"&&(c=o==="/"?s:nr([s,o])),a.createHref({pathname:c,search:i,hash:l})}function cn(){return m.useContext(Aa)!=null}function un(){return cn()||me(!1),m.useContext(Aa).location}function tm(e){m.useContext(Dt).static||m.useLayoutEffect(e)}function ur(){let{isDataRoute:e}=m.useContext($t);return e?yg():lg()}function lg(){cn()||me(!1);let e=m.useContext(Ma),{basename:t,future:r,navigator:s}=m.useContext(Dt),{matches:a}=m.useContext($t),{pathname:l}=un(),o=JSON.stringify(ji(a,r.v7_relativeSplatPath)),i=m.useRef(!1);return tm(()=>{i.current=!0}),m.useCallback(function(u,p){if(p===void 0&&(p={}),!i.current)return;if(typeof u=="number"){s.go(u);return}let d=Ni(u,JSON.parse(o),l,p.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:nr([t,d.pathname])),(p.replace?s.replace:s.push)(d,p.state,p)},[t,s,o,l,e])}const og=m.createContext(null);function ig(e){let t=m.useContext($t).outlet;return t&&m.createElement(og.Provider,{value:e},t)}function Ia(e,t){let{relative:r}=t===void 0?{}:t,{future:s}=m.useContext(Dt),{matches:a}=m.useContext($t),{pathname:l}=un(),o=JSON.stringify(ji(a,s.v7_relativeSplatPath));return m.useMemo(()=>Ni(e,JSON.parse(o),l,r==="path"),[e,o,l,r])}function cg(e,t){return ug(e,t)}function ug(e,t,r,s){cn()||me(!1);let{navigator:a}=m.useContext(Dt),{matches:l}=m.useContext($t),o=l[l.length-1],i=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=un(),p;if(t){var d;let k=typeof t=="string"?on(t):t;c==="/"||(d=k.pathname)!=null&&d.startsWith(c)||me(!1),p=k}else p=u;let f=p.pathname||"/",N=f;if(c!=="/"){let k=c.replace(/^\//,"").split("/");N="/"+f.replace(/^\//,"").split("/").slice(k.length).join("/")}let b=Rx(e,{pathname:N}),j=hg(b&&b.map(k=>Object.assign({},k,{params:Object.assign({},i,k.params),pathname:nr([c,a.encodeLocation?a.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?c:nr([c,a.encodeLocation?a.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),l,r,s);return t&&j?m.createElement(Aa.Provider,{value:{location:es({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Yt.Pop}},j):j}function dg(){let e=bg(),t=ng(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),r?m.createElement("pre",{style:a},r):null,null)}const pg=m.createElement(dg,null);class mg extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?m.createElement($t.Provider,{value:this.props.routeContext},m.createElement(em.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function fg(e){let{routeContext:t,match:r,children:s}=e,a=m.useContext(Ma);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),m.createElement($t.Provider,{value:t},s)}function hg(e,t,r,s){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),s===void 0&&(s=null),e==null){var l;if(!r)return null;if(r.errors)e=r.matches;else if((l=s)!=null&&l.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,i=(a=r)==null?void 0:a.errors;if(i!=null){let p=o.findIndex(d=>d.route.id&&(i==null?void 0:i[d.route.id])!==void 0);p>=0||me(!1),o=o.slice(0,Math.min(o.length,p+1))}let c=!1,u=-1;if(r&&s&&s.v7_partialHydration)for(let p=0;p<o.length;p++){let d=o[p];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=p),d.route.id){let{loaderData:f,errors:N}=r,b=d.route.loader&&f[d.route.id]===void 0&&(!N||N[d.route.id]===void 0);if(d.route.lazy||b){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((p,d,f)=>{let N,b=!1,j=null,k=null;r&&(N=i&&d.route.id?i[d.route.id]:void 0,j=d.route.errorElement||pg,c&&(u<0&&f===0?(jg("route-fallback"),b=!0,k=null):u===f&&(b=!0,k=d.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,f+1)),h=()=>{let g;return N?g=j:b?g=k:d.route.Component?g=m.createElement(d.route.Component,null):d.route.element?g=d.route.element:g=p,m.createElement(fg,{match:d,routeContext:{outlet:p,matches:x,isDataRoute:r!=null},children:g})};return r&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?m.createElement(mg,{location:r.location,revalidation:r.revalidation,component:j,error:N,children:h(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):h()},null)}var rm=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(rm||{}),nm=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(nm||{});function xg(e){let t=m.useContext(Ma);return t||me(!1),t}function gg(e){let t=m.useContext(qp);return t||me(!1),t}function vg(e){let t=m.useContext($t);return t||me(!1),t}function sm(e){let t=vg(),r=t.matches[t.matches.length-1];return r.route.id||me(!1),r.route.id}function bg(){var e;let t=m.useContext(em),r=gg(),s=sm();return t!==void 0?t:(e=r.errors)==null?void 0:e[s]}function yg(){let{router:e}=xg(rm.UseNavigateStable),t=sm(nm.UseNavigateStable),r=m.useRef(!1);return tm(()=>{r.current=!0}),m.useCallback(function(a,l){l===void 0&&(l={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,es({fromRouteId:t},l)))},[e,t])}const su={};function jg(e,t,r){su[e]||(su[e]=!0)}function Ng(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function _t(e){let{to:t,replace:r,state:s,relative:a}=e;cn()||me(!1);let{future:l,static:o}=m.useContext(Dt),{matches:i}=m.useContext($t),{pathname:c}=un(),u=ur(),p=Ni(t,ji(i,l.v7_relativeSplatPath),c,a==="path"),d=JSON.stringify(p);return m.useEffect(()=>u(JSON.parse(d),{replace:r,state:s,relative:a}),[u,d,a,r,s]),null}function wi(e){return ig(e.context)}function oe(e){me(!1)}function wg(e){let{basename:t="/",children:r=null,location:s,navigationType:a=Yt.Pop,navigator:l,static:o=!1,future:i}=e;cn()&&me(!1);let c=t.replace(/^\/*/,"/"),u=m.useMemo(()=>({basename:c,navigator:l,static:o,future:es({v7_relativeSplatPath:!1},i)}),[c,i,l,o]);typeof s=="string"&&(s=on(s));let{pathname:p="/",search:d="",hash:f="",state:N=null,key:b="default"}=s,j=m.useMemo(()=>{let k=rn(p,c);return k==null?null:{location:{pathname:k,search:d,hash:f,state:N,key:b},navigationType:a}},[c,p,d,f,N,b,a]);return j==null?null:m.createElement(Dt.Provider,{value:u},m.createElement(Aa.Provider,{children:r,value:j}))}function kg(e){let{children:t,location:r}=e;return cg(jo(t),r)}new Promise(()=>{});function jo(e,t){t===void 0&&(t=[]);let r=[];return m.Children.forEach(e,(s,a)=>{if(!m.isValidElement(s))return;let l=[...t,a];if(s.type===m.Fragment){r.push.apply(r,jo(s.props.children,l));return}s.type!==oe&&me(!1),!s.props.index||!s.props.children||me(!1);let o={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=jo(s.props.children,l)),r.push(o)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fa(){return fa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},fa.apply(this,arguments)}function am(e,t){if(e==null)return{};var r={},s=Object.keys(e),a,l;for(l=0;l<s.length;l++)a=s[l],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Sg(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Cg(e,t){return e.button===0&&(!t||t==="_self")&&!Sg(e)}const Eg=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Fg=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Tg="6";try{window.__reactRouterVersion=Tg}catch{}const Pg=m.createContext({isTransitioning:!1}),Lg="startTransition",au=jf[Lg];function _g(e){let{basename:t,children:r,future:s,window:a}=e,l=m.useRef();l.current==null&&(l.current=Mx({window:a,v5Compat:!0}));let o=l.current,[i,c]=m.useState({action:o.action,location:o.location}),{v7_startTransition:u}=s||{},p=m.useCallback(d=>{u&&au?au(()=>c(d)):c(d)},[c,u]);return m.useLayoutEffect(()=>o.listen(p),[o,p]),m.useEffect(()=>Ng(s),[s]),m.createElement(wg,{basename:t,children:r,location:i.location,navigationType:i.action,navigator:o,future:s})}const Mg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ag=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ig=m.forwardRef(function(t,r){let{onClick:s,relative:a,reloadDocument:l,replace:o,state:i,target:c,to:u,preventScrollReset:p,viewTransition:d}=t,f=am(t,Eg),{basename:N}=m.useContext(Dt),b,j=!1;if(typeof u=="string"&&Ag.test(u)&&(b=u,Mg))try{let g=new URL(window.location.href),w=u.startsWith("//")?new URL(g.protocol+u):new URL(u),S=rn(w.pathname,N);w.origin===g.origin&&S!=null?u=S+w.search+w.hash:j=!0}catch{}let k=ag(u,{relative:a}),x=Og(u,{replace:o,state:i,target:c,preventScrollReset:p,relative:a,viewTransition:d});function h(g){s&&s(g),g.defaultPrevented||x(g)}return m.createElement("a",fa({},f,{href:b||k,onClick:j||l?s:h,ref:r,target:c}))}),Rg=m.forwardRef(function(t,r){let{"aria-current":s="page",caseSensitive:a=!1,className:l="",end:o=!1,style:i,to:c,viewTransition:u,children:p}=t,d=am(t,Fg),f=Ia(c,{relative:d.relative}),N=un(),b=m.useContext(qp),{navigator:j,basename:k}=m.useContext(Dt),x=b!=null&&Dg(f)&&u===!0,h=j.encodeLocation?j.encodeLocation(f).pathname:f.pathname,g=N.pathname,w=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;a||(g=g.toLowerCase(),w=w?w.toLowerCase():null,h=h.toLowerCase()),w&&k&&(w=rn(w,k)||w);const S=h!=="/"&&h.endsWith("/")?h.length-1:h.length;let F=g===h||!o&&g.startsWith(h)&&g.charAt(S)==="/",M=w!=null&&(w===h||!o&&w.startsWith(h)&&w.charAt(h.length)==="/"),B={isActive:F,isPending:M,isTransitioning:x},T=F?s:void 0,_;typeof l=="function"?_=l(B):_=[l,F?"active":null,M?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let I=typeof i=="function"?i(B):i;return m.createElement(Ig,fa({},d,{"aria-current":T,className:_,ref:r,style:I,to:c,viewTransition:u}),typeof p=="function"?p(B):p)});var No;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(No||(No={}));var lu;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(lu||(lu={}));function zg(e){let t=m.useContext(Ma);return t||me(!1),t}function Og(e,t){let{target:r,replace:s,state:a,preventScrollReset:l,relative:o,viewTransition:i}=t===void 0?{}:t,c=ur(),u=un(),p=Ia(e,{relative:o});return m.useCallback(d=>{if(Cg(d,r)){d.preventDefault();let f=s!==void 0?s:ma(u)===ma(p);c(e,{replace:f,state:a,preventScrollReset:l,relative:o,viewTransition:i})}},[u,c,p,s,a,r,e,l,o,i])}function Dg(e,t){t===void 0&&(t={});let r=m.useContext(Pg);r==null&&me(!1);let{basename:s}=zg(No.useViewTransitionState),a=Ia(e,{relative:t.relative});if(!r.isTransitioning)return!1;let l=rn(r.currentLocation.pathname,s)||r.currentLocation.pathname,o=rn(r.nextLocation.pathname,s)||r.nextLocation.pathname;return yo(a.pathname,o)!=null||yo(a.pathname,l)!=null}const $g=e=>{const t=String(e||"").replace(/-/g,"+").replace(/_/g,"/"),r=t.padEnd(t.length+(4-t.length%4)%4,"=");try{const s=atob(r),a=Uint8Array.from(s,l=>l.charCodeAt(0));return new TextDecoder().decode(a)}catch{return null}},ls=e=>{const t=String(e||"").split(".");if(t.length<2)return null;const r=$g(t[1]);if(!r)return null;try{return JSON.parse(r)}catch{return null}},ha=e=>{const t=ls(e);if(!(t!=null&&t.exp))return!1;const r=Number(t.exp)*1e3;return Number.isFinite(r)?Date.now()>=r:!1},Bg=e=>{const t=ls(e);if(!(t!=null&&t.exp))return Number.POSITIVE_INFINITY;const r=Number(t.exp)*1e3-Date.now();return Number.isFinite(r)?r:0},ki="edu_bridge_auth_session",Ug="http://localhost:5000/api".replace(/\/$/,""),gl="api",Wg={admin:"/admin",teacher:"/teacher",student:"/student"},os=e=>Wg[String(e||"").toLowerCase()]||"/login";class Hg extends Error{constructor(t,r=0){super(t),this.name="AuthApiError",this.status=Number(r)}}const Vg=async e=>{try{return await e.json()}catch{return{}}},Si=async(e,{method:t="GET",body:r,token:s}={})=>{const a=await fetch(`${Ug}${e}`,{method:t,headers:{...r!==void 0?{"Content-Type":"application/json"}:{},...s?{Authorization:`Bearer ${s}`}:{}},body:r!==void 0?JSON.stringify(r):void 0}),l=await Vg(a);if(!a.ok)throw new Hg(l.message||"  .",a.status);return l},Qg=async({identifier:e,password:t,portal:r})=>Si("/auth/login",{method:"POST",body:{identifier:String(e||"").trim().toLowerCase(),password:String(t||""),portal:String(r||"").trim().toLowerCase()}}),Gg=async e=>Si("/auth/me",{token:e}),Yg=async e=>Si("/auth/logout",{method:"POST",token:e}),Ci=()=>typeof window>"u"?null:window.localStorage,vl=()=>{var e;try{const t=(e=Ci())==null?void 0:e.getItem(ki);return t?JSON.parse(t):null}catch{return null}},ou=e=>{var t;(t=Ci())==null||t.setItem(ki,JSON.stringify(e))},Cs=()=>{var e;(e=Ci())==null||e.removeItem(ki)},lm=m.createContext(null),Kg=e=>{var r;if((r=e==null?void 0:e.user)!=null&&r.role)return String(e.user.role).toLowerCase();const t=ls(e==null?void 0:e.token);return t!=null&&t.role?String(t.role).toLowerCase():null};function Xg({children:e}){const[t,r]=m.useState(()=>vl()),[s,a]=m.useState(!0),l=m.useCallback(async()=>{var u;const c=(t==null?void 0:t.token)||((u=vl())==null?void 0:u.token);if(c)try{await Yg(c)}catch{}Cs(),r(null)},[t==null?void 0:t.token]);m.useEffect(()=>{let c=!0;return(async()=>{const p=vl();if(p!=null&&p.authMode&&p.authMode!==gl){Cs(),c&&(r(null),a(!1));return}if(!(p!=null&&p.token)||ha(p.token)){Cs(),c&&(r(null),a(!1));return}try{const d=await Gg(p.token),f={token:p.token,user:d.user,authMode:gl};ou(f),c&&r(f)}catch{Cs(),c&&r(null)}finally{c&&a(!1)}})(),()=>{c=!1}},[]),m.useEffect(()=>{if(!(t!=null&&t.token))return;const c=Bg(t.token);if(!Number.isFinite(c))return;if(c<=0){l();return}const u=window.setTimeout(()=>{l()},c);return()=>{window.clearTimeout(u)}},[t==null?void 0:t.token,l]),m.useEffect(()=>{if(typeof window>"u")return;const c=()=>{l()};return window.addEventListener("auth:session-expired",c),()=>{window.removeEventListener("auth:session-expired",c)}},[l]);const o=m.useCallback(async({identifier:c,password:u,portal:p})=>{const d=await Qg({identifier:c,password:u,portal:p});if(!(d!=null&&d.token)||!(d!=null&&d.user)||ha(d.token))throw new Error("Unable to create a valid session.");const f={token:d.token,user:d.user,authMode:gl};return ou(f),r(f),f},[]),i=m.useMemo(()=>{const c=Kg(t);return{session:t,token:(t==null?void 0:t.token)||null,user:(t==null?void 0:t.user)||null,role:c,isLoading:s,isAuthenticated:!!(t!=null&&t.token&&(t!=null&&t.user)&&c),isAdmin:c==="admin",login:o,logout:l}},[t,s,o,l]);return n.jsx(lm.Provider,{value:i,children:e})}const xe=()=>{const e=m.useContext(lm);if(!e)throw new Error("useAuth must be used inside AuthProvider.");return e};function Ra({label:e="Checking session..."}){return n.jsx("main",{className:"flex min-h-screen items-center justify-center bg-background p-6",children:n.jsx("div",{className:"surface-card animate-fadeUp px-8 py-6",children:n.jsx("p",{className:"body-premium text-text-secondary",children:e})})})}function Jg({children:e}){var i;const{isLoading:t,isAuthenticated:r,token:s,role:a,logout:l}=xe(),o=(i=ls(s))==null?void 0:i.role;return t?n.jsx(Ra,{}):s&&ha(s)?(l(),n.jsx(_t,{to:"/login",replace:!0})):r?String(o||a||"").toLowerCase()!=="admin"?n.jsx(_t,{to:os(a),replace:!0}):e||n.jsx(wi,{}):n.jsx(_t,{to:"/login",replace:!0})}function iu({allow:e,children:t}){var c;const{isLoading:r,isAuthenticated:s,token:a,role:l,logout:o}=xe(),i=(c=ls(a))==null?void 0:c.role;return r?n.jsx(Ra,{}):a&&ha(a)?(o(),n.jsx(_t,{to:"/login",replace:!0})):s?String(i||l||"").toLowerCase()!==String(e||"").toLowerCase()?n.jsx(_t,{to:os(l),replace:!0}):t||n.jsx(wi,{}):n.jsx(_t,{to:"/login",replace:!0})}const Zg="/edu-bridge/assets/login-background-Cyj1D8FX.png",qg="/edu-bridge/assets/login-floating-CqAylRPF.png",cu=(e,t,r)=>Math.min(Math.max(e,t),r);function ev({backgroundSrc:e,floatingSrc:t}){const[r,s]=m.useState({x:0,y:0}),a=m.useMemo(()=>({transform:`translate3d(${r.x*-8}px, ${r.y*-8}px, 0) scale(1.02)`,transition:"transform 180ms ease-out"}),[r.x,r.y]),l=m.useMemo(()=>({transform:`translate3d(${r.x*12}px, ${r.y*12}px, 0) scale(1.03)`,transition:"transform 160ms ease-out"}),[r.x,r.y]),o=i=>{const c=i.currentTarget.getBoundingClientRect(),u=((i.clientX-c.left)/c.width-.5)*2,p=((i.clientY-c.top)/c.height-.5)*2;s({x:cu(u,-.8,.8),y:cu(p,-.8,.8)})};return n.jsxs("div",{onMouseMove:o,onMouseLeave:()=>s({x:0,y:0}),className:"absolute inset-0 overflow-hidden",children:[n.jsx("img",{src:e,alt:"","aria-hidden":"true",style:a,className:"absolute inset-0 h-full w-full object-cover"}),n.jsx("img",{src:t,alt:"","aria-hidden":"true",style:l,className:"absolute inset-0 h-full w-full object-cover"})]})}const tv=[{key:"student",label:"Student"},{key:"teacher",label:"Teacher"},{key:"admin",label:"Admin"}];function rv(){const e=ur(),{login:t,isLoading:r}=xe(),[s,a]=m.useState("student"),[l,o]=m.useState(""),[i,c]=m.useState(""),[u,p]=m.useState(""),[d,f]=m.useState(!1),N=m.useMemo(()=>r||d||!l.trim()||!i.trim(),[r,d,l,i]),b=async j=>{var k;j.preventDefault(),p(""),f(!0);try{const x=await t({identifier:l,password:i,portal:s});e(os((k=x==null?void 0:x.user)==null?void 0:k.role),{replace:!0})}catch(x){p((x==null?void 0:x.message)||"  .")}finally{f(!1)}};return n.jsx("main",{dir:"rtl",className:"min-h-screen bg-white [font-family:'IBM_Plex_Arabic',_'Segoe_UI',sans-serif]",style:{fontFamily:"'IBM Plex Arabic', 'Segoe UI', sans-serif"},children:n.jsxs("div",{className:"grid min-h-screen grid-cols-1 lg:grid-cols-[520px_1fr]",children:[n.jsx("section",{className:"relative flex items-center justify-center bg-white px-8 py-10 sm:px-12",children:n.jsxs("div",{className:"w-full max-w-[360px]",children:[n.jsx("h1",{className:"mb-2 text-[34px] font-semibold leading-[1.3] text-[#111]",style:{fontFamily:"'Noto Naskh Arabic', 'Amiri', serif"},children:" "}),n.jsx("p",{className:"mb-8 text-[13px] text-[#777]",children:" Hikmah School "}),n.jsx("div",{className:"mb-6 grid grid-cols-3 gap-1 rounded-[6px] border border-[#E5E7EB] bg-[#FAFAFA] p-1",children:tv.map(j=>n.jsx("button",{type:"button",onClick:()=>a(j.key),className:`h-9 rounded-[4px] text-[12px] font-medium transition-colors duration-150 ${s===j.key?"bg-white text-[#111] shadow-sm":"text-[#666] hover:bg-white"}`,children:j.label},j.key))}),n.jsxs("form",{onSubmit:b,className:"space-y-4",children:[n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[#555]",children:s==="admin"?" ":" "}),n.jsx("input",{type:"text",value:l,onChange:j=>o(j.target.value),autoComplete:"username",dir:"ltr",className:"h-11 w-full rounded-[4px] border border-[#E5E7EB] px-3 text-[14px] text-[#111] outline-none transition-colors duration-150 focus:border-[#1A3A6B]"})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[#555]",children:" "}),n.jsx("input",{type:"password",value:i,onChange:j=>c(j.target.value),autoComplete:"current-password",dir:"ltr",className:"h-11 w-full rounded-[4px] border border-[#E5E7EB] px-3 text-[14px] text-[#111] outline-none transition-colors duration-150 focus:border-[#1A3A6B]"})]}),u?n.jsx("p",{className:"rounded-[4px] border border-[#F3D4D2] bg-[#FDECEA] px-3 py-2 text-[12px] text-[#8B1A1A]",children:u}):null,n.jsx("button",{type:"submit",disabled:N,className:"h-11 w-full rounded-[4px] border border-[#1A3A6B] bg-[#1A3A6B] text-[14px] font-medium text-white transition duration-150 hover:bg-[#0D2449] active:scale-[0.98] disabled:cursor-not-allowed disabled:opacity-50",children:d?"  ...":" "})]})]})}),n.jsx("section",{className:"relative hidden overflow-hidden bg-[#F7F7F5] lg:block",children:n.jsx("div",{className:"absolute inset-8 overflow-hidden rounded-[6px] border border-[#E5E7EB] bg-white",children:n.jsx(ev,{backgroundSrc:Zg,floatingSrc:qg})})})]})})}const nv="http://localhost:5000/api".replace(/\/$/,""),om="edu_bridge_auth_session";class Bs extends Error{constructor(t,r=0){super(t),this.name="ApiError",this.status=Number(r)}}let Pr=null,wo=!1;const sv=()=>{typeof window>"u"||window.dispatchEvent(new CustomEvent("auth:session-expired"))},av=()=>{Pr=null,wo=!1},uu=()=>{wo||(wo=!0,sv())},lv=e=>{if(!e)return!0;try{const[,t]=String(e).split(".");if(!t)return!1;const r=atob(t.replace(/-/g,"+").replace(/_/g,"/")),s=JSON.parse(r);return s!=null&&s.exp?Date.now()>=Number(s.exp)*1e3:!1}catch{return!1}},im=()=>typeof window>"u"?null:window.localStorage,bl=()=>{var e;try{const t=(e=im())==null?void 0:e.getItem(om);return t?JSON.parse(t):null}catch{return null}},du=()=>{var e;(e=im())==null||e.removeItem(om)},dr=(e={})=>{const t=new URLSearchParams;Object.entries(e).forEach(([s,a])=>{a==null||a===""||t.append(s,String(a))});const r=t.toString();return r?`?${r}`:""},Y=async(e,{method:t="GET",token:r,body:s,auth:a=!1}={})=>{var u,p,d;const l={},o=r||((u=bl())==null?void 0:u.token);if(s!==void 0&&(l["Content-Type"]="application/json"),a){if(!o)throw new Bs(" .     .",401);if(Pr&&Pr!==o&&av(),Pr===o||lv(o)){const f=(p=bl())==null?void 0:p.token;throw Pr=o,f===o&&du(),uu(),new Bs(" .     .",401)}l.Authorization=`Bearer ${o}`}const i=await fetch(`${nv}${e}`,{method:t,headers:l,body:s!==void 0?JSON.stringify(s):void 0});let c={};try{c=await i.json()}catch{c={}}if(!i.ok){if(i.status===401){const f=(d=bl())==null?void 0:d.token;Pr=o||f||null,(!f||!o||f===o)&&(du(),uu())}throw new Bs(c.message||"  .",i.status)}return c},ov=(e,t,r={})=>Y(`/profile/${t}${dr(r)}`,{token:e,auth:!0}),iv=e=>Y("/student/portal",{token:e,auth:!0}),cm=(e,t={})=>Y(`/student/schedule${dr(t)}`,{token:e,auth:!0}),cv=(e,t={})=>Y(`/feedback/list${dr(t)}`,{token:e,auth:!0}),um=(e,t={})=>Y(`/teacher/exams${dr(t)}`,{token:e,auth:!0}),uv=(e,t)=>Y("/teacher/exams",{method:"PATCH",token:e,auth:!0,body:t}),dv=(e,t)=>Y("/teacher/grades/import/preview",{method:"POST",token:e,auth:!0,body:t}),pv=(e,t)=>Y("/teacher/grades/import/confirm",{method:"POST",token:e,auth:!0,body:t}),mv=(e,t,r)=>Y(`/teacher/students/${t}/feedback-draft`,{method:"POST",token:e,auth:!0,body:r}),fv=(e,t,r)=>Y(`/teacher/students/${t}/term-comment`,{method:"POST",token:e,auth:!0,body:r}),hv=(e,t)=>Y("/teacher/homework",{method:"POST",token:e,auth:!0,body:t}),xv=(e,t,r)=>Y(`/teacher/homework/${t}`,{method:"PATCH",token:e,auth:!0,body:r}),gv=(e,t,r)=>Y(`/teacher/homework/${t}/assignments`,{method:"PATCH",token:e,auth:!0,body:r}),vv=(e,t)=>Y(`/teacher/homework/${t}`,{method:"DELETE",token:e,auth:!0}),bv=(e,t={})=>Y(`/teacher/schedule${dr(t)}`,{token:e,auth:!0}),yv=(e,t)=>Y("/teacher/attendance",{method:"POST",token:e,auth:!0,body:t}),jv=(e,t)=>Y("/teacher/incidents",{method:"POST",token:e,auth:!0,body:t}),dm=e=>Y("/teacher/dashboard-insights",{token:e,auth:!0}),pm=(e,t)=>Y("/teacher/announcements",{method:"POST",token:e,auth:!0,body:t}),Nv=(e,t,r)=>Y(`/teacher/announcements/${t}`,{method:"PATCH",token:e,auth:!0,body:r}),wv=(e,t)=>Y(`/teacher/announcements/${t}`,{method:"DELETE",token:e,auth:!0}),dn=e=>Y("/admin/overview",{token:e,auth:!0}),mm=e=>Y("/admin/reports",{token:e,auth:!0}),Ei=e=>Y("/admin/intelligence",{token:e,auth:!0}),kv=(e,t={})=>Y(`/admin/schedule${dr(t)}`,{token:e,auth:!0}),Sv=(e,t)=>Y("/admin/schedule/entries",{method:"POST",token:e,auth:!0,body:t}),Cv=(e,t,r)=>Y(`/admin/schedule/entries/${t}`,{method:"PATCH",token:e,auth:!0,body:r}),Ev=(e,t)=>Y(`/admin/schedule/entries/${t}`,{method:"DELETE",token:e,auth:!0}),Fv=(e,t={})=>Y(`/admin/incidents${dr(t)}`,{token:e,auth:!0}),Tv=(e,t)=>Y("/admin/teachers",{method:"POST",token:e,auth:!0,body:t}),Pv=(e,t)=>Y("/admin/students",{method:"POST",token:e,auth:!0,body:t}),Lv=(e,t)=>Y("/admin/classes",{method:"POST",token:e,auth:!0,body:t}),_v=(e,t)=>Y(`/admin/classes/${t}`,{method:"DELETE",token:e,auth:!0}),Mv=(e,t,r)=>Y(`/admin/teachers/${t}/assignment`,{method:"PATCH",token:e,auth:!0,body:r}),fm=(e,t,r)=>Y(`/admin/users/${t}`,{method:"PATCH",token:e,auth:!0,body:r}),hm=(e,t,r)=>Y(`/admin/users/${t}/status`,{method:"PATCH",token:e,auth:!0,body:{active:r}}),xm=(e,t,r)=>Y(`/admin/users/${t}/reset-password`,{method:"POST",token:e,auth:!0,body:{newPassword:r}}),gm=(e,t)=>Y(`/admin/users/${t}`,{method:"DELETE",token:e,auth:!0}),Av=e=>Y("/admin/surveys",{token:e,auth:!0}),Iv=(e,t)=>Y("/admin/surveys",{method:"POST",token:e,auth:!0,body:t}),Rv=(e,t,r)=>Y(`/admin/surveys/${t}`,{method:"PATCH",token:e,auth:!0,body:r}),zv=(e,t)=>Y(`/admin/surveys/${t}`,{method:"DELETE",token:e,auth:!0}),pu=(e,t,r={})=>Y(`/admin/import-users${dr(r)}`,{method:"POST",token:e,auth:!0,body:t});function Ov({className:e="h-5 w-5"}){return n.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:e,children:n.jsx("path",{d:"M3 12h8V3H3v9zm10 9h8v-6h-8v6zM13 3v8h8V3h-8zM3 21h8v-6H3v6z"})})}function vm({className:e="h-5 w-5"}){return n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:e,children:[n.jsx("path",{d:"M16 19a4 4 0 0 0-8 0"}),n.jsx("circle",{cx:"12",cy:"10",r:"3"}),n.jsx("path",{d:"M20 19a4 4 0 0 0-3-3.87M4 19a4 4 0 0 1 3-3.87"})]})}function bm({className:e="h-5 w-5"}){return n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:e,children:[n.jsx("path",{d:"M12 3 2 8l10 5 10-5-10-5Z"}),n.jsx("path",{d:"m6 10 0 4c0 2.2 2.7 4 6 4s6-1.8 6-4v-4"})]})}function Fi({className:e="h-5 w-5"}){return n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:e,children:[n.jsx("rect",{x:"3",y:"5",width:"18",height:"14",rx:"2"}),n.jsx("path",{d:"M7 9h10M7 13h6"})]})}function ym({className:e="h-5 w-5"}){return n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:e,children:[n.jsx("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),n.jsx("path",{d:"M6.5 2H20v15H6.5A2.5 2.5 0 0 0 4 19.5V4.5A2.5 2.5 0 0 1 6.5 2z"})]})}function ko({className:e="h-5 w-5"}){return n.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:e,children:n.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H8l-5 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v10z"})})}function jm({className:e="h-5 w-5"}){return n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:e,children:[n.jsx("path",{d:"M9 11l3 3L22 4"}),n.jsx("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"})]})}function Dv({className:e="h-5 w-5"}){return n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:e,children:[n.jsx("rect",{x:"3",y:"4",width:"18",height:"17",rx:"2"}),n.jsx("path",{d:"M8 2v4M16 2v4M3 10h18"}),n.jsx("path",{d:"M8 14h3M13 14h3M8 18h3M13 18h3"})]})}function $v({className:e="h-5 w-5"}){return n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:e,children:[n.jsx("path",{d:"M12 3v12"}),n.jsx("path",{d:"m7 10 5 5 5-5"}),n.jsx("path",{d:"M5 21h14a2 2 0 0 0 2-2v-3"}),n.jsx("path",{d:"M3 16v3a2 2 0 0 0 2 2"})]})}function Nm({className:e="h-5 w-5"}){return n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:e,children:[n.jsx("path",{d:"M15 17h5l-1.4-1.4A2 2 0 0 1 18 14.2V11a6 6 0 1 0-12 0v3.2a2 2 0 0 1-.6 1.4L4 17h5"}),n.jsx("path",{d:"M10 17a2 2 0 0 0 4 0"})]})}function Bv({className:e="h-5 w-5"}){return n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:e,children:[n.jsx("path",{d:"M4 20h16"}),n.jsx("path",{d:"M7 16v-6M12 16V8M17 16v-3"})]})}function Uv({className:e="h-5 w-5"}){return n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:e,children:[n.jsx("path",{d:"M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"}),n.jsx("path",{d:"M19.4 15a1.7 1.7 0 0 0 .34 1.87l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06a1.7 1.7 0 0 0-1.87-.34 1.7 1.7 0 0 0-1 1.55V22a2 2 0 1 1-4 0v-.09a1.7 1.7 0 0 0-1-1.55 1.7 1.7 0 0 0-1.87.34l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06a1.7 1.7 0 0 0 .34-1.87 1.7 1.7 0 0 0-1.55-1H2a2 2 0 1 1 0-4h.09a1.7 1.7 0 0 0 1.55-1 1.7 1.7 0 0 0-.34-1.87l-.06-.06a2 2 0 1 1 2.83-2.83l.06.06a1.7 1.7 0 0 0 1.87.34h0a1.7 1.7 0 0 0 1-1.55V2a2 2 0 1 1 4 0v.09a1.7 1.7 0 0 0 1 1.55h0a1.7 1.7 0 0 0 1.87-.34l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06a1.7 1.7 0 0 0-.34 1.87v0a1.7 1.7 0 0 0 1.55 1H22a2 2 0 1 1 0 4h-.09a1.7 1.7 0 0 0-1.55 1z"})]})}function Wv({className:e="h-5 w-5"}){return n.jsx(Nm,{className:e})}function Hv({className:e="h-4 w-4"}){return n.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:e,children:n.jsx("path",{d:"m15 18-6-6 6-6"})})}function wm({className:e="h-5 w-5"}){return n.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:e,children:n.jsx("path",{d:"M3 6h18M3 12h18M3 18h18"})})}function Vv({className:e="h-4 w-4"}){return n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:e,children:[n.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),n.jsx("path",{d:"M16 17l5-5-5-5"}),n.jsx("path",{d:"M21 12H9"})]})}const Qv=(e="")=>String(e).trim().split(" ").filter(Boolean).slice(0,2).map(t=>t[0]).join("");function Gv({collapsed:e,onOpenMobileMenu:t,notificationsCount:r=0}){const{user:s,logout:a}=xe(),l=(s==null?void 0:s.name)||" ";return n.jsx("header",{className:`fixed left-0 right-0 top-0 z-20 border-b border-border bg-surface/92 backdrop-blur-md premium-transition ${e?"lg:right-[92px]":"lg:right-[288px]"}`,children:n.jsxs("div",{className:"flex h-[80px] items-center justify-between px-4 md:px-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("button",{type:"button",onClick:t,className:"focus-ring premium-transition inline-flex h-10 w-10 items-center justify-center rounded-md border border-border text-text-secondary hover:border-primary hover:text-primary lg:hidden","aria-label":" ",children:n.jsx(wm,{className:"h-5 w-5"})}),n.jsxs("div",{className:"hidden items-center gap-2 sm:flex",children:[n.jsx("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-md bg-card-gradient text-lg font-bold text-primary",children:""}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-text-primary",children:"Hikmah School"}),n.jsx("p",{className:"text-xs text-text-secondary",children:" "})]})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("button",{type:"button",className:"focus-ring premium-transition relative inline-flex h-11 w-11 items-center justify-center rounded-full border border-border bg-surface text-text-secondary hover:-translate-y-px hover:border-primary hover:text-primary hover:shadow-[0_0_0_3px_rgba(44,123,229,0.12)]","aria-label":"",children:[n.jsx(Wv,{className:"h-[22px] w-[22px]"}),r>0&&n.jsx("span",{className:"absolute -left-1 -top-1 inline-flex h-5 min-w-[20px] items-center justify-center rounded-full bg-danger px-1 text-xs font-bold text-white",children:r})]}),n.jsxs("div",{className:"flex items-center gap-2 rounded-md border border-border bg-surface px-2 py-1 shadow-sm",children:[n.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-full border border-primary/30 bg-primary/12 text-sm font-bold text-primary",children:Qv(l)||""}),n.jsxs("div",{className:"hidden sm:block",children:[n.jsx("p",{className:"text-sm font-semibold text-text-primary",children:l}),n.jsx("p",{className:"text-xs text-text-secondary",children:""})]})]}),n.jsxs("button",{type:"button",onClick:a,className:"action-btn",children:[n.jsx(Vv,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden md:inline",children:""})]})]})]})})}const Yv=[{key:"dashboard",label:" ",to:"/admin",icon:Ov},{key:"students",label:"",to:"/admin/students",icon:vm},{key:"teachers",label:"",to:"/admin/teachers",icon:bm},{key:"classes",label:"",to:"/admin/classes",icon:Fi},{key:"subjects",label:"",to:"/admin/subjects",icon:ym},{key:"feedback",label:" ",to:"/admin/feedback",icon:ko},{key:"import-users",label:" ",to:"/admin/import-users",icon:$v},{key:"surveys",label:"",to:"/admin/surveys",icon:jm},{key:"schedule",label:" ",to:"/admin/schedule",icon:Dv},{key:"notifications",label:"",to:"/admin/notifications",icon:Nm},{key:"reports",label:"",to:"/admin/reports",icon:Bv},{key:"settings",label:"",to:"/admin/settings",icon:Uv}];function Kv({collapsed:e,mobileOpen:t,onToggleCollapse:r,onCloseMobile:s}){return n.jsxs(n.Fragment,{children:[t?n.jsx("button",{type:"button",onClick:s,className:"fixed inset-0 z-30 bg-slate-900/25 lg:hidden","aria-label":" "}):null,n.jsx("aside",{className:`fixed right-0 top-0 z-40 h-screen border-l border-border bg-surface/95 backdrop-blur-md premium-transition ${e?"w-[92px]":"w-[288px]"} ${t?"translate-x-0":"translate-x-full"} lg:translate-x-0`,children:n.jsxs("div",{className:"flex h-full flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between border-b border-border px-3 py-4",children:[n.jsxs("div",{className:`flex items-center gap-2 ${e?"justify-center":""}`,children:[n.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-md bg-card-gradient text-base font-bold text-primary",children:""}),e?null:n.jsxs("div",{className:"space-y-0",children:[n.jsx("p",{className:"text-sm font-semibold text-text-primary",children:"Hikmah School"}),n.jsx("p",{className:"text-xs text-text-secondary",children:" "})]})]}),n.jsx("button",{type:"button",onClick:r,className:"focus-ring premium-transition hidden rounded-sm border border-border p-2 text-text-secondary hover:border-primary hover:text-primary lg:inline-flex","aria-label":" ",children:e?n.jsx(wm,{className:"h-4 w-4"}):n.jsx(Hv,{className:"h-4 w-4"})})]}),n.jsx("nav",{className:"flex-1 overflow-y-auto px-2 py-3",children:n.jsx("ul",{className:"space-y-1",children:Yv.map((a,l)=>{const o=a.icon;return n.jsx("li",{className:"animate-fadeUp",style:{animationDelay:`${l*22}ms`},children:n.jsx(Rg,{to:a.to,end:a.to==="/admin",onClick:s,className:({isActive:i})=>`group relative flex items-center gap-3 overflow-hidden rounded-sm py-3 text-sm font-semibold premium-transition pressable ${i?"bg-sidebar-active text-primary shadow-sm":"text-text-secondary hover:bg-background hover:text-primary"} ${e?"justify-center px-2":"px-3"}`,children:({isActive:i})=>n.jsxs(n.Fragment,{children:[n.jsx("span",{className:`premium-transition absolute right-0 top-2 h-[calc(100%-16px)] w-1 rounded-l-full bg-primary ${i?"scale-y-100 opacity-100":"scale-y-75 opacity-0"}`}),n.jsx(o,{className:"h-4 w-4 shrink-0"}),e?null:n.jsx("span",{children:a.label})]})})},a.key)})})})]})})]})}function Xv(){const{token:e}=xe(),[t,r]=m.useState(!1),[s,a]=m.useState(!1),[l,o]=m.useState(0);m.useEffect(()=>{if(!e){o(0);return}let c=!0;return(async()=>{var p;try{const d=await Ei(e);if(!c)return;let f=0;Number((d==null?void 0:d.pendingResponses)||0)>0&&(f+=1),Number((d==null?void 0:d.flaggedParents)||0)>0&&(f+=1),Number(((p=d==null?void 0:d.riskIndex)==null?void 0:p.High)||0)>0&&(f+=1),o(f)}catch{c&&o(0)}})(),()=>{c=!1}},[e]);const i=()=>r(c=>!c);return n.jsxs("div",{className:"min-h-screen bg-background",dir:"rtl",children:[n.jsx(Kv,{collapsed:t,mobileOpen:s,onToggleCollapse:i,onCloseMobile:()=>a(!1)}),n.jsxs("div",{className:`premium-transition ${t?"lg:pr-[92px]":"lg:pr-[288px]"}`,children:[n.jsx(Gv,{collapsed:t,onOpenMobileMenu:()=>a(!0),notificationsCount:l}),n.jsx("main",{className:"px-4 pb-6 pt-[94px] md:px-6",children:n.jsx("div",{className:"h-[calc(100vh-112px)] overflow-y-auto rounded-lg",children:n.jsx(wi,{})})})]})]})}function ct({title:e,subtitle:t,action:r}){return n.jsxs("header",{className:"mb-6 flex flex-wrap items-center justify-between gap-3",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("h1",{className:"h2-premium",children:e}),t?n.jsx("p",{className:"caption-premium",children:t}):null]}),r]})}function Jv({label:e,description:t,onClick:r}){return n.jsxs("button",{type:"button",onClick:r,className:"panel-card-hover pressable w-full text-right",children:[n.jsx("p",{className:"body-premium font-semibold",children:e}),n.jsx("p",{className:"caption-premium mt-1",children:t||" "})]})}const Zv={students:vm,teachers:bm,classes:Fi,subjects:ym,surveys:jm,feedbacks:ko,feedbackToday:ko};function qv({item:e}){const t=Zv[e.id]||Fi,r=String(e.trendDirection||"").toLowerCase()!=="down";return n.jsxs("article",{className:"panel-card-hover",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"caption-premium",children:e.label}),n.jsx("p",{className:"text-3xl font-bold leading-none text-text-primary",children:Number(e.value||0).toLocaleString("en-US")})]}),n.jsx("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-md bg-card-gradient text-primary",children:n.jsx(t,{className:"h-5 w-5"})})]}),n.jsx("p",{className:`mt-3 inline-flex rounded-full border px-2 py-1 text-xs font-semibold ${r?"border-success/25 bg-success/10 text-success":"border-danger/25 bg-danger/10 text-danger"}`,children:e.trend||"0%"})]})}const e0=[{id:"students",label:" ",description:"  ",to:"/admin/students"},{id:"teachers",label:" ",description:"  ",to:"/admin/teachers"},{id:"classes",label:" ",description:"  ",to:"/admin/classes"},{id:"schedule",label:" ",description:"  ",to:"/admin/schedule"},{id:"surveys",label:"",description:"  ",to:"/admin/surveys"},{id:"reports",label:"",description:"  ",to:"/admin/reports"}];function t0(){var N,b,j,k,x,h,g;const e=ur(),{token:t}=xe(),[r,s]=m.useState(!0),[a,l]=m.useState(""),[o,i]=m.useState(null),[c,u]=m.useState(null),[p,d]=m.useState(null);m.useEffect(()=>{let w=!0;return(async()=>{try{s(!0),l("");const[F,M,B]=await Promise.all([dn(t),mm(t),Ei(t)]);if(!w)return;i(F),u(M),d(B)}catch(F){w&&l((F==null?void 0:F.message)||"    .")}finally{w&&s(!1)}})(),()=>{w=!1}},[t]);const f=m.useMemo(()=>c!=null&&c.totals?[{id:"students",label:" ",value:c.totals.students||0,trend:"",trendDirection:"up"},{id:"teachers",label:" ",value:c.totals.teachers||0,trend:"",trendDirection:"up"},{id:"classes",label:"",value:c.totals.classes||0,trend:"",trendDirection:"up"},{id:"subjects",label:"",value:c.totals.subjects||0,trend:"",trendDirection:"up"},{id:"feedbacks",label:" ",value:c.totals.feedbacks||0,trend:"",trendDirection:"up"},{id:"homeworks",label:"",value:c.totals.homeworks||0,trend:"",trendDirection:"up"}]:[],[c]);return n.jsxs("div",{className:"page-enter space-y-6 p-1",children:[n.jsx(ct,{title:" ",subtitle:"     ."}),a?n.jsx("p",{className:"rounded-sm border border-danger/25 bg-danger/5 px-3 py-2 text-sm text-danger",children:a}):null,n.jsx("section",{className:"grid gap-4 sm:grid-cols-2 xl:grid-cols-3",children:r?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"skeleton h-[132px]"}),n.jsx("div",{className:"skeleton h-[132px]"}),n.jsx("div",{className:"skeleton h-[132px]"}),n.jsx("div",{className:"skeleton h-[132px]"}),n.jsx("div",{className:"skeleton h-[132px]"}),n.jsx("div",{className:"skeleton h-[132px]"})]}):f.map(w=>n.jsx(qv,{item:w},w.id))}),n.jsxs("section",{className:"panel-card",children:[n.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[n.jsx("h2",{className:"h3-premium",children:" "}),n.jsx("p",{className:"caption-premium",children:"  "})]}),n.jsx("div",{className:"grid gap-3 sm:grid-cols-2 xl:grid-cols-3",children:e0.map((w,S)=>n.jsx("div",{className:"animate-fadeUp",style:{animationDelay:`${S*28}ms`},children:n.jsx(Jv,{label:w.label,description:w.description,onClick:()=>e(w.to)})},w.id))})]}),n.jsxs("section",{className:"panel-card",children:[n.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[n.jsx("h2",{className:"h3-premium",children:" "}),n.jsxs("p",{className:"caption-premium",children:[" : ",p!=null&&p.generatedAt?new Date(p.generatedAt).toLocaleString("en-US"):"-"]})]}),r?n.jsxs("div",{className:"grid gap-3 md:grid-cols-2 xl:grid-cols-3",children:[n.jsx("div",{className:"skeleton h-20"}),n.jsx("div",{className:"skeleton h-20"}),n.jsx("div",{className:"skeleton h-20"})]}):n.jsxs("div",{className:"grid gap-3 md:grid-cols-2 xl:grid-cols-3",children:[n.jsxs("article",{className:"panel-card-hover",children:[n.jsx("p",{className:"caption-premium",children:"Risk Index"}),n.jsxs("p",{className:"mt-2 text-sm text-text-primary",children:["Low: ",Number(((N=p==null?void 0:p.riskIndex)==null?void 0:N.Low)||0).toLocaleString("en-US")," | Medium:"," ",Number(((b=p==null?void 0:p.riskIndex)==null?void 0:b.Medium)||0).toLocaleString("en-US")," | High:"," ",Number(((j=p==null?void 0:p.riskIndex)==null?void 0:j.High)||0).toLocaleString("en-US")]})]}),n.jsxs("article",{className:"panel-card-hover",children:[n.jsx("p",{className:"caption-premium",children:"Pending responses"}),n.jsx("p",{className:"mt-2 text-lg font-semibold text-text-primary",children:Number((p==null?void 0:p.pendingResponses)||0).toLocaleString("en-US")})]}),n.jsxs("article",{className:"panel-card-hover",children:[n.jsx("p",{className:"caption-premium",children:"Flagged parents / repeated incidents"}),n.jsxs("p",{className:"mt-2 text-sm text-text-primary",children:[Number((p==null?void 0:p.flaggedParents)||0).toLocaleString("en-US")," /"," ",Number((p==null?void 0:p.repeatedIncidents)||0).toLocaleString("en-US")]})]}),n.jsxs("article",{className:"panel-card-hover",children:[n.jsx("p",{className:"caption-premium",children:"Smart class alerts"}),n.jsx("p",{className:"mt-2 text-lg font-semibold text-text-primary",children:Number(((k=p==null?void 0:p.classAnalysis)==null?void 0:k.length)||0).toLocaleString("en-US")})]})]})]}),n.jsxs("section",{className:"panel-card",children:[n.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[n.jsx("h2",{className:"h3-premium",children:"Weekly AI Summary"}),n.jsx("p",{className:"caption-premium",children:"     "})]}),r?n.jsxs("div",{className:"grid gap-2",children:[n.jsx("div",{className:"skeleton h-12"}),n.jsx("div",{className:"skeleton h-12"})]}):((p==null?void 0:p.weeklySnapshots)||[]).length?n.jsx("div",{className:"space-y-2",children:((p==null?void 0:p.weeklySnapshots)||[]).slice(0,8).map(w=>n.jsxs("article",{className:"rounded-sm border border-border bg-background px-3 py-2",children:[n.jsxs("p",{className:"text-sm text-text-primary",children:[w.studentName,": ",w.academicDirection," / ",w.riskStatus," risk"]}),n.jsx("p",{className:"mt-1 text-xs text-text-secondary",children:w.attendancePattern})]},`${w.studentId}-${w.className}`))}):((p==null?void 0:p.weeklySummary)||[]).length?n.jsx("div",{className:"space-y-2",children:((p==null?void 0:p.weeklySummary)||[]).slice(0,8).map((w,S)=>n.jsx("article",{className:"rounded-sm border border-border bg-background px-3 py-2",children:n.jsx("p",{className:"text-sm text-text-primary",children:w})},`${w}-${S}`))}):n.jsx("p",{className:"text-sm text-text-secondary",children:"      ."})]}),n.jsxs("section",{className:"panel-card",children:[n.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[n.jsx("h2",{className:"h3-premium",children:"Smart Class Analysis"}),n.jsx("p",{className:"caption-premium",children:"Suggestions only - no automatic actions"})]}),((p==null?void 0:p.classAnalysis)||[]).length?n.jsx("div",{className:"space-y-2",children:((p==null?void 0:p.classAnalysis)||[]).slice(0,8).map((w,S)=>n.jsxs("article",{className:"rounded-sm border border-border bg-background px-3 py-2",children:[n.jsx("p",{className:"text-sm text-text-primary",children:w.message}),n.jsx("p",{className:"mt-1 text-xs text-text-secondary",children:w.suggestion})]},`${w.type}-${w.className}-${S}`))}):n.jsx("p",{className:"text-sm text-text-secondary",children:"No significant class-level alerts this week."})]}),n.jsx("section",{className:"panel-card",children:n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[n.jsx("h2",{className:"h3-premium",children:" "}),n.jsxs("p",{className:"caption-premium",children:[": ",Number(((x=o==null?void 0:o.classes)==null?void 0:x.length)||0).toLocaleString("en-US")," | :"," ",Number(((h=o==null?void 0:o.teachers)==null?void 0:h.length)||0).toLocaleString("en-US")," | :"," ",Number(((g=o==null?void 0:o.students)==null?void 0:g.length)||0).toLocaleString("en-US")]})]})})]})}const mu={name:"",grade:"",section:""};function r0(){const{token:e}=xe(),[t,r]=m.useState(!0),[s,a]=m.useState(!1),[l,o]=m.useState([]),[i,c]=m.useState([]),[u,p]=m.useState([]),[d,f]=m.useState(mu),[N,b]=m.useState(""),[j,k]=m.useState(""),x=async()=>{try{r(!0),b("");const S=await dn(e);o(S.classes||[]),c(S.teachers||[]),p(S.students||[])}catch(S){b(S.message||"   .")}finally{r(!1)}};m.useEffect(()=>{x()},[]);const h=m.useMemo(()=>l.map(S=>{const F=S.name,M=i.filter(T=>(T.classes||[]).includes(F)),B=u.filter(T=>{var _;return(T.className||((_=T.classes)==null?void 0:_[0])||"")===F}).length;return{...S,studentsCount:B,teachers:M}}),[l,i,u]),g=async S=>{if(S.preventDefault(),!d.name.trim()){b("  .");return}try{a(!0),b(""),k(""),await Lv(e,{name:d.name,grade:d.grade,section:d.section}),f(mu),k("   ."),await x()}catch(F){b(F.message||"  .")}finally{a(!1)}},w=async S=>{if(window.confirm(`   ${S.name}`))try{a(!0),b(""),k(""),await _v(e,S.id),k("   ."),await x()}catch(F){b(F.message||"  .")}finally{a(!1)}};return n.jsxs("div",{className:"page-enter space-y-5 p-1",children:[n.jsx(ct,{title:" ",subtitle:"     ."}),N?n.jsx("p",{className:"rounded-sm border border-danger/25 bg-danger/5 px-3 py-2 text-sm text-danger",children:N}):null,j?n.jsx("p",{className:"rounded-sm border border-success/25 bg-success/10 px-3 py-2 text-sm text-success",children:j}):null,n.jsxs("section",{className:"panel-card",children:[n.jsx("h2",{className:"mb-3 text-base font-semibold text-text-primary",children:"  "}),n.jsxs("form",{className:"grid gap-3 md:grid-cols-4",onSubmit:g,children:[n.jsx("input",{value:d.name,onChange:S=>f(F=>({...F,name:S.target.value})),className:"focus-ring rounded-sm border border-border px-3 py-2 text-sm",placeholder:" ",required:!0}),n.jsx("input",{value:d.grade,onChange:S=>f(F=>({...F,grade:S.target.value})),className:"focus-ring rounded-sm border border-border px-3 py-2 text-sm",placeholder:"/  ()"}),n.jsx("input",{value:d.section,onChange:S=>f(F=>({...F,section:S.target.value})),className:"focus-ring rounded-sm border border-border px-3 py-2 text-sm",placeholder:" ()"}),n.jsx("button",{type:"submit",className:"action-btn-primary",disabled:s,children:""})]})]}),n.jsxs("section",{className:"panel-card",children:[n.jsx("h2",{className:"mb-3 text-base font-semibold text-text-primary",children:" "}),t?n.jsxs("div",{className:"grid gap-3 sm:grid-cols-2 xl:grid-cols-3",children:[n.jsx("div",{className:"skeleton h-[186px]"}),n.jsx("div",{className:"skeleton h-[186px]"}),n.jsx("div",{className:"skeleton h-[186px]"})]}):n.jsxs("div",{className:"grid gap-3 sm:grid-cols-2 xl:grid-cols-3",children:[h.map(S=>{var F;return n.jsxs("article",{className:"panel-card-hover",children:[n.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold text-text-primary",children:S.name}),n.jsxs("span",{className:"rounded-full border border-primary/20 bg-primary/10 px-3 py-1 text-xs font-semibold text-primary",children:[Number(S.studentsCount||0).toLocaleString("en-US")," "]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("p",{className:"caption-premium",children:[": ",Number((S.teachers||[]).length).toLocaleString("en-US")]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[(S.teachers||[]).slice(0,4).map(M=>n.jsx("span",{className:"rounded-full border border-border bg-background px-2 py-1 text-xs font-semibold text-text-secondary",children:M.name},`${S.id}-${M.id}`)),((F=S.teachers)==null?void 0:F.length)>4?n.jsxs("span",{className:"rounded-full border border-border bg-background px-2 py-1 text-xs font-semibold text-text-secondary",children:["+",Number(S.teachers.length-4).toLocaleString("en-US")]}):null]})]}),n.jsx("div",{className:"mt-3",children:n.jsx("button",{type:"button",className:"action-btn",onClick:()=>w(S),disabled:s,children:" "})})]},S.id)}),h.length?null:n.jsx("p",{className:"text-sm text-text-secondary",children:"     ."})]})]})]})}const n0={academic:"",behavior:"",homework:"",general:""};function s0(){const{token:e}=xe(),[t,r]=m.useState(!0),[s,a]=m.useState(""),[l,o]=m.useState([]),[i,c]=m.useState("all");m.useEffect(()=>{let d=!0;return(async()=>{try{r(!0),a("");const N=await cv(e,{limit:300});if(!d)return;o(N.feedbacks||[])}catch(N){d&&a(N.message||"    .")}finally{d&&r(!1)}})(),()=>{d=!1}},[e]);const u=m.useMemo(()=>{const d=new Set((l||[]).map(f=>f.category).filter(Boolean));return["all",...Array.from(d)]},[l]),p=m.useMemo(()=>i==="all"?l:l.filter(d=>d.category===i),[i,l]);return n.jsxs("div",{className:"page-enter space-y-5 p-1",children:[n.jsx(ct,{title:" ",subtitle:"      ."}),s?n.jsx("p",{className:"rounded-sm border border-danger/25 bg-danger/5 px-3 py-2 text-sm text-danger",children:s}):null,n.jsxs("section",{className:"panel-card space-y-4",children:[n.jsx("div",{className:"flex flex-wrap gap-2",children:u.map(d=>{const f=i===d,N=d==="all"?"":n0[d]||d;return n.jsx("button",{type:"button",onClick:()=>c(d),className:`action-btn rounded-full px-3 py-1 text-xs ${f?"border-transparent bg-primary text-white":""}`,children:N},d)})}),t?n.jsxs("div",{className:"grid gap-3",children:[n.jsx("div",{className:"skeleton h-16"}),n.jsx("div",{className:"skeleton h-16"}),n.jsx("div",{className:"skeleton h-16"})]}):n.jsxs("div",{className:"space-y-3",children:[p.map(d=>n.jsxs("article",{className:"rounded-sm border border-border bg-background p-3",children:[n.jsxs("div",{className:"mb-2 flex flex-wrap items-center justify-between gap-2",children:[n.jsx("h2",{className:"text-sm font-semibold text-text-primary",children:d.studentName||""}),n.jsx("p",{className:"text-xs font-semibold text-primary",dir:"ltr",children:d.createdAt?new Date(d.createdAt).toLocaleString("en-US"):""})]}),n.jsxs("p",{className:"text-xs text-text-secondary",children:[": ",d.teacherName||"-"," | : ",d.className||"-"," | : ",d.subject||"-"]}),n.jsx("p",{className:"mt-2 text-sm leading-7 text-text-primary",children:d.message||d.content||d.text||"  ."})]},d._id)),p.length?null:n.jsx("p",{className:"text-sm text-text-secondary",children:"   ."})]})]})]})}const fu={students:[],teachers:[]},a0=e=>JSON.stringify(e,null,2),l0=e=>{const t=e&&typeof e=="object"?e:{};return{students:Array.isArray(t.students)?t.students:[],teachers:Array.isArray(t.teachers)?t.teachers:[]}},o0=e=>{try{return{parsed:JSON.parse(e),error:""}}catch{return{parsed:null,error:" JSON  ."}}},i0=e=>{const t=[],r=new Set;let s=0;return e.students.forEach((a,l)=>{const o=String((a==null?void 0:a.email)||"").trim().toLowerCase(),i=String((a==null?void 0:a.className)||"").trim();String((a==null?void 0:a.fullName)||"").trim()||(s+=1,t.push(`  ${l+1}:   .`)),o?r.has(o)?(s+=1,t.push(`  ${l+1}:     .`)):r.add(o):(s+=1,t.push(`  ${l+1}:   .`)),i||(s+=1,t.push(`  ${l+1}:      className.`))}),e.teachers.forEach((a,l)=>{const o=String((a==null?void 0:a.email)||"").trim().toLowerCase(),i=String((a==null?void 0:a.subject)||"").trim(),c=Array.isArray(a==null?void 0:a.classes)?a.classes.filter(Boolean):[];String((a==null?void 0:a.fullName)||"").trim()||(s+=1,t.push(`  ${l+1}:   .`)),o?r.has(o)?(s+=1,t.push(`  ${l+1}:     .`)):r.add(o):(s+=1,t.push(`  ${l+1}:   .`)),i||(s+=1,t.push(`  ${l+1}:       .`)),c.length||(s+=1,t.push(`  ${l+1}:        classes[].`))}),{errors:t,skipped:s,validCount:e.students.length+e.teachers.length-s}};function c0(){const{token:e}=xe(),[t,r]=m.useState(fu),[s,a]=m.useState(a0(fu)),[l,o]=m.useState(""),[i,c]=m.useState(!0),[u,p]=m.useState(!1),[d,f]=m.useState(""),[N,b]=m.useState(""),[j,k]=m.useState(null),[x,h]=m.useState(null),[g,w]=m.useState(!1),S=m.useMemo(()=>i0(t),[t]),F=I=>{a(I),b(""),h(null);const{parsed:L,error:E}=o0(I);if(E){f(E);return}f(""),r(l0(L))},M=async I=>{var P;const L=(P=I.target.files)==null?void 0:P[0];if(!L)return;const E=await L.text();o(L.name),F(E)},B=async()=>{if(!d)try{p(!0),b(""),h(null);const I=await pu(e,t,{dryRun:!0,autoCreateClasses:i});k(I),b("    .     .")}catch(I){f(I.message||"   .")}finally{p(!1)}},T=async()=>{try{p(!0),f("");const I=await pu(e,t,{autoCreateClasses:i});h(I),w(!1),b("   .")}catch(I){f(I.message||"  .")}finally{p(!1)}},_=!d&&(j||S.errors.length===0);return n.jsxs("div",{className:"page-enter space-y-5 p-1",children:[n.jsx(ct,{title:" ",subtitle:"  JSON       ."}),d?n.jsx("p",{className:"rounded-sm border border-danger/25 bg-danger/5 px-3 py-2 text-sm text-danger",children:d}):null,N?n.jsx("p",{className:"rounded-sm border border-success/25 bg-success/10 px-3 py-2 text-sm text-success",children:N}):null,n.jsxs("section",{className:"panel-card space-y-4",children:[n.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[n.jsxs("label",{className:"action-btn cursor-pointer",children:["  JSON",n.jsx("input",{type:"file",accept:"application/json,.json",className:"hidden",onChange:M})]}),n.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-text-secondary",children:[n.jsx("input",{type:"checkbox",checked:i,onChange:I=>c(I.target.checked)}),"    "]}),l?n.jsxs("span",{className:"caption-premium",children:[": ",l]}):null]}),n.jsxs("label",{className:"space-y-2",children:[n.jsx("span",{className:"caption-premium font-semibold text-text-primary",children:" JSON"}),n.jsx("textarea",{value:s,onChange:I=>F(I.target.value),className:"focus-ring min-h-[220px] w-full rounded-sm border border-border bg-white px-3 py-2 text-sm",dir:"ltr",spellCheck:!1})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("button",{type:"button",className:"action-btn",onClick:B,disabled:u||!!d,children:"  "}),n.jsx("button",{type:"button",className:"action-btn-primary",onClick:()=>w(!0),disabled:u||!_,children:" "})]})]}),n.jsxs("section",{className:"panel-card space-y-3",children:[n.jsx("h2",{className:"text-base font-semibold text-text-primary",children:" "}),n.jsxs("div",{className:"grid gap-3 md:grid-cols-3",children:[n.jsxs("article",{className:"rounded-sm border border-border bg-background px-3 py-2",children:[n.jsx("p",{className:"caption-premium",children:" "}),n.jsx("p",{className:"text-lg font-semibold text-text-primary",children:Number(t.students.length).toLocaleString("en-US")})]}),n.jsxs("article",{className:"rounded-sm border border-border bg-background px-3 py-2",children:[n.jsx("p",{className:"caption-premium",children:" "}),n.jsx("p",{className:"text-lg font-semibold text-text-primary",children:Number(t.teachers.length).toLocaleString("en-US")})]}),n.jsxs("article",{className:"rounded-sm border border-border bg-background px-3 py-2",children:[n.jsx("p",{className:"caption-premium",children:" "}),n.jsx("p",{className:"text-lg font-semibold text-text-primary",children:Number(Math.max(0,S.validCount)).toLocaleString("en-US")})]})]}),S.errors.length?n.jsxs("div",{className:"rounded-sm border border-warning/25 bg-warning/10 p-3",children:[n.jsx("p",{className:"mb-2 text-sm font-semibold text-warning",children:"  "}),n.jsx("ul",{className:"space-y-1 text-sm text-text-secondary",children:S.errors.slice(0,12).map(I=>n.jsxs("li",{children:["- ",I]},I))}),S.errors.length>12?n.jsxs("p",{className:"mt-2 text-xs text-text-secondary",children:["+",Number(S.errors.length-12).toLocaleString("en-US"),"  "]}):null]}):null]}),j?n.jsxs("section",{className:"panel-card space-y-2",children:[n.jsx("h2",{className:"text-base font-semibold text-text-primary",children:"   "}),n.jsxs("div",{className:"grid gap-3 md:grid-cols-4",children:[n.jsxs("article",{className:"rounded-sm border border-border bg-background px-3 py-2",children:[n.jsx("p",{className:"caption-premium",children:" "}),n.jsx("p",{className:"text-lg font-semibold text-text-primary",children:Number(j.importedStudents||0).toLocaleString("en-US")})]}),n.jsxs("article",{className:"rounded-sm border border-border bg-background px-3 py-2",children:[n.jsx("p",{className:"caption-premium",children:" "}),n.jsx("p",{className:"text-lg font-semibold text-text-primary",children:Number(j.importedTeachers||0).toLocaleString("en-US")})]}),n.jsxs("article",{className:"rounded-sm border border-border bg-background px-3 py-2",children:[n.jsx("p",{className:"caption-premium",children:" "}),n.jsx("p",{className:"text-lg font-semibold text-text-primary",children:Number(j.skipped||0).toLocaleString("en-US")})]}),n.jsxs("article",{className:"rounded-sm border border-border bg-background px-3 py-2",children:[n.jsx("p",{className:"caption-premium",children:""}),n.jsx("p",{className:"text-lg font-semibold text-text-primary",children:Number((j.errors||[]).length).toLocaleString("en-US")})]})]}),(j.errors||[]).length?n.jsxs("div",{className:"rounded-sm border border-warning/25 bg-warning/10 p-3",children:[n.jsx("p",{className:"mb-2 text-sm font-semibold text-warning",children:"  "}),n.jsx("ul",{className:"space-y-1 text-sm text-text-secondary",children:(j.errors||[]).slice(0,12).map(I=>n.jsxs("li",{children:["- [",I.role,"] #",I.index," ",I.email||"",": ",I.message]},`${I.role}-${I.index}-${I.email}-${I.code}`))})]}):null]}):null,x?n.jsxs("section",{className:"panel-card space-y-2",children:[n.jsx("h2",{className:"text-base font-semibold text-text-primary",children:"  "}),n.jsxs("div",{className:"grid gap-3 md:grid-cols-4",children:[n.jsxs("article",{className:"rounded-sm border border-border bg-background px-3 py-2",children:[n.jsx("p",{className:"caption-premium",children:" "}),n.jsx("p",{className:"text-lg font-semibold text-text-primary",children:Number(x.importedStudents||0).toLocaleString("en-US")})]}),n.jsxs("article",{className:"rounded-sm border border-border bg-background px-3 py-2",children:[n.jsx("p",{className:"caption-premium",children:" "}),n.jsx("p",{className:"text-lg font-semibold text-text-primary",children:Number(x.importedTeachers||0).toLocaleString("en-US")})]}),n.jsxs("article",{className:"rounded-sm border border-border bg-background px-3 py-2",children:[n.jsx("p",{className:"caption-premium",children:" "}),n.jsx("p",{className:"text-lg font-semibold text-text-primary",children:Number(x.skipped||0).toLocaleString("en-US")})]}),n.jsxs("article",{className:"rounded-sm border border-border bg-background px-3 py-2",children:[n.jsx("p",{className:"caption-premium",children:""}),n.jsx("p",{className:"text-lg font-semibold text-text-primary",children:Number(x.skippedDuplicates||0).toLocaleString("en-US")})]})]}),(x.errors||[]).length?n.jsxs("div",{className:"rounded-sm border border-warning/25 bg-warning/10 p-3",children:[n.jsx("p",{className:"mb-2 text-sm font-semibold text-warning",children:"  "}),n.jsx("ul",{className:"space-y-1 text-sm text-text-secondary",children:(x.errors||[]).slice(0,12).map(I=>n.jsxs("li",{children:["- [",I.role,"] #",I.index," ",I.email||"",": ",I.message]},`${I.role}-${I.index}-${I.email}-${I.code}`))})]}):null]}):null,g?n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/35 p-4",children:n.jsxs("div",{className:"animate-fadeUp w-full max-w-lg rounded-md border border-border bg-surface p-5 shadow-lg",children:[n.jsx("h3",{className:"text-lg font-semibold text-text-primary",children:"  "}),n.jsx("p",{className:"mt-2 text-sm text-text-secondary",children:"         ."}),n.jsxs("div",{className:"mt-3 grid gap-2 sm:grid-cols-2",children:[n.jsxs("p",{className:"rounded-sm border border-border bg-background px-3 py-2 text-sm",children:[": ",Number(t.students.length).toLocaleString("en-US")]}),n.jsxs("p",{className:"rounded-sm border border-border bg-background px-3 py-2 text-sm",children:[": ",Number(t.teachers.length).toLocaleString("en-US")]})]}),n.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[n.jsx("button",{type:"button",className:"action-btn",onClick:()=>w(!1),children:""}),n.jsx("button",{type:"button",className:"action-btn-primary",onClick:T,disabled:u,children:u?" ...":""})]})]})}):null]})}const u0={info:"bg-primary/10 text-primary border-primary/30",warning:"bg-warning/10 text-warning border-warning/30",danger:"bg-danger/10 text-danger border-danger/30"};function d0(){const{token:e}=xe(),[t,r]=m.useState(!0),[s,a]=m.useState(""),[l,o]=m.useState(null),[i,c]=m.useState([]);m.useEffect(()=>{let d=!0;return(async()=>{try{r(!0),a("");const[N,b]=await Promise.all([Ei(e),Fv(e)]);if(!d)return;o(N),c(b.incidents||[])}catch(N){d&&a((N==null?void 0:N.message)||"  .")}finally{d&&r(!1)}})(),()=>{d=!1}},[e]);const u=m.useMemo(()=>{var d,f;return l?[{id:"risk-high",level:Number(((d=l==null?void 0:l.riskIndex)==null?void 0:d.High)||0)>0?"danger":"info",title:"  ",description:`${Number(((f=l==null?void 0:l.riskIndex)==null?void 0:f.High)||0).toLocaleString("en-US")} `},{id:"pending-parent",level:Number((l==null?void 0:l.pendingResponses)||0)>0?"warning":"info",title:"   ",description:`${Number((l==null?void 0:l.pendingResponses)||0).toLocaleString("en-US")} `},{id:"flagged-parents",level:Number((l==null?void 0:l.flaggedParents)||0)>0?"warning":"info",title:"   ",description:`${Number((l==null?void 0:l.flaggedParents)||0).toLocaleString("en-US")} `},{id:"repeated-incidents",level:Number((l==null?void 0:l.repeatedIncidents)||0)>0?"warning":"info",title:"  ",description:`${Number((l==null?void 0:l.repeatedIncidents)||0).toLocaleString("en-US")} `}]:[]},[l]),p=m.useMemo(()=>(i||[]).filter(d=>d.severity==="high").slice(0,6),[i]);return n.jsxs("div",{className:"page-enter space-y-5 p-1",children:[n.jsx(ct,{title:"",subtitle:"       ."}),s?n.jsx("p",{className:"rounded-sm border border-danger/25 bg-danger/5 px-3 py-2 text-sm text-danger",children:s}):null,n.jsx("section",{className:"panel-card",children:t?n.jsxs("div",{className:"grid gap-3",children:[n.jsx("div",{className:"skeleton h-16"}),n.jsx("div",{className:"skeleton h-16"}),n.jsx("div",{className:"skeleton h-16"})]}):n.jsx("ol",{className:"relative mr-3 space-y-4 border-r border-border pr-6",children:u.map(d=>n.jsxs("li",{className:"relative",children:[n.jsx("span",{className:"absolute -right-[30px] top-1 h-3 w-3 rounded-full border-2 border-surface bg-primary"}),n.jsxs("article",{className:"rounded-sm border border-border bg-background p-4",children:[n.jsxs("div",{className:"mb-2 flex flex-wrap items-center justify-between gap-2",children:[n.jsx("h2",{className:"text-base font-semibold text-text-primary",children:d.title}),n.jsx("span",{className:`rounded-full border px-3 py-1 text-xs font-semibold ${u0[d.level]||"border-border bg-background text-text-secondary"}`,children:d.level})]}),n.jsx("p",{className:"text-sm text-text-secondary",children:d.description})]})]},d.id))})}),n.jsxs("section",{className:"panel-card",children:[n.jsx("h2",{className:"mb-3 text-base font-semibold text-text-primary",children:"   ()"}),t?n.jsxs("div",{className:"grid gap-2",children:[n.jsx("div",{className:"skeleton h-12"}),n.jsx("div",{className:"skeleton h-12"})]}):p.length?n.jsx("div",{className:"space-y-2",children:p.map(d=>n.jsxs("article",{className:"rounded-sm border border-border bg-background px-3 py-2",children:[n.jsxs("p",{className:"text-sm font-semibold text-text-primary",children:[d.studentName,"  ",d.className]}),n.jsxs("p",{className:"text-xs text-text-secondary",children:[d.subject,"  ",new Date(d.createdAt).toLocaleString("en-US")]})]},d.id))}):n.jsx("p",{className:"text-sm text-text-secondary",children:"     ."})]})]})}function p0(){var c;const{token:e}=xe(),[t,r]=m.useState(!0),[s,a]=m.useState(""),[l,o]=m.useState(null);m.useEffect(()=>{let u=!0;return(async()=>{try{r(!0),a("");const d=await mm(e);if(!u)return;o(d)}catch(d){u&&a(d.message||"  .")}finally{u&&r(!1)}})(),()=>{u=!1}},[e]);const i=m.useMemo(()=>l!=null&&l.totals?[{key:"students",title:" ",value:l.totals.students||0},{key:"teachers",title:" ",value:l.totals.teachers||0},{key:"classes",title:" ",value:l.totals.classes||0},{key:"subjects",title:" ",value:l.totals.subjects||0},{key:"feedbacks",title:"  ",value:l.totals.feedbacks||0},{key:"homeworks",title:" ",value:l.totals.homeworks||0}]:[],[l]);return n.jsxs("div",{className:"page-enter space-y-5 p-1",children:[n.jsx(ct,{title:"",subtitle:"       ."}),s?n.jsx("p",{className:"rounded-sm border border-danger/25 bg-danger/5 px-3 py-2 text-sm text-danger",children:s}):null,n.jsx("section",{className:"panel-card",children:t?n.jsxs("div",{className:"grid gap-3 sm:grid-cols-2 xl:grid-cols-3",children:[n.jsx("div",{className:"skeleton h-[112px]"}),n.jsx("div",{className:"skeleton h-[112px]"}),n.jsx("div",{className:"skeleton h-[112px]"}),n.jsx("div",{className:"skeleton h-[112px]"}),n.jsx("div",{className:"skeleton h-[112px]"}),n.jsx("div",{className:"skeleton h-[112px]"})]}):n.jsx("div",{className:"grid gap-3 sm:grid-cols-2 xl:grid-cols-3",children:i.map(u=>n.jsxs("article",{className:"panel-card-hover",children:[n.jsx("p",{className:"caption-premium",children:u.title}),n.jsx("p",{className:"mt-2 text-3xl font-bold text-text-primary",children:Number(u.value||0).toLocaleString("en-US")})]},u.key))})}),n.jsxs("section",{className:"panel-card",children:[n.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[n.jsx("h2",{className:"text-base font-semibold text-text-primary",children:" "}),n.jsx("p",{className:"caption-premium",children:l!=null&&l.generatedAt?` : ${new Date(l.generatedAt).toLocaleString("en-US")}`:""})]}),t?n.jsxs("div",{className:"grid gap-2",children:[n.jsx("div",{className:"skeleton h-12"}),n.jsx("div",{className:"skeleton h-12"})]}):n.jsxs("div",{className:"space-y-2",children:[((l==null?void 0:l.surveys)||[]).slice(0,8).map(u=>n.jsxs("article",{className:"rounded-sm border border-border bg-background p-3",children:[n.jsx("p",{className:"text-sm font-semibold text-text-primary",children:u.name}),n.jsxs("p",{className:"text-xs text-text-secondary",children:[": ",(u.audience||[]).join(", ")||"-"," | :"," ",Number(u.totalResponses||0).toLocaleString("en-US")]})]},u.id)),(c=l==null?void 0:l.surveys)!=null&&c.length?null:n.jsx("p",{className:"text-sm text-text-secondary",children:"   ."})]})]})]})}const yl={1:"",2:"",3:"",4:"",5:""},km={id:"",className:"",teacherId:"",subject:"",dayOfWeek:"1",startTime:"08:00",endTime:"08:45",room:""},hu=({classes:e,teachers:t,subjects:r})=>{var i,c;const s=((i=e[0])==null?void 0:i.name)||"",a=t[0]||null,o=(a==null?void 0:a.subject)||((c=a==null?void 0:a.subjects)==null?void 0:c[0])||""||r[0]||"";return{...km,className:s,teacherId:(a==null?void 0:a.id)||"",subject:o}};function m0(){const{token:e}=xe(),[t,r]=m.useState(!0),[s,a]=m.useState(!1),[l,o]=m.useState(""),[i,c]=m.useState(""),[u,p]=m.useState([]),[d,f]=m.useState([]),[N,b]=m.useState([]),[j,k]=m.useState([]),[x,h]=m.useState([]),[g,w]=m.useState({grade:"",teacherId:"",day:""}),[S,F]=m.useState(km),[M,B]=m.useState(""),T=m.useMemo(()=>d.find(C=>C.id===S.teacherId)||null,[d,S.teacherId]),_=m.useMemo(()=>{var R;if(!((R=T==null?void 0:T.classes)!=null&&R.length))return N;const C=new Set(T.classes);return N.filter(Z=>C.has(Z.name))},[N,T]),I=m.useMemo(()=>{const C=[T==null?void 0:T.subject,...Array.isArray(T==null?void 0:T.subjects)?T.subjects:[]].map(Z=>String(Z||"").trim()).filter(Boolean),R=[...new Set(C)];return R.length?R:j},[T,j]);m.useEffect(()=>{F(C=>{var K;const R=_.some(ce=>ce.name===C.className),Z=I.includes(C.subject),ee=R?C.className:((K=_[0])==null?void 0:K.name)||C.className,je=Z?C.subject:I[0]||C.subject;return ee===C.className&&je===C.subject?C:{...C,className:ee,subject:je}})},[_,I]);const L=async()=>{const C=await dn(e),R=C.teachers||[],Z=C.classes||[],ee=C.availableSubjects||[];f(R),b(Z),k(ee);const je=[...new Set(Z.map(K=>String(K.grade||"").trim()).filter(Boolean))].sort((K,ce)=>K.localeCompare(ce));h(je),F(K=>{var ve;const ce=new Set(R.map(Ee=>Ee.id)),te=new Set(Z.map(Ee=>Ee.name)),ut=hu({classes:Z,teachers:R,subjects:ee}),et=R.find(Ee=>Ee.id===K.teacherId),pr=(et==null?void 0:et.subject)||((ve=et==null?void 0:et.subjects)==null?void 0:ve[0])||"";return{...ut,...K,className:te.has(K.className)?K.className:ut.className,teacherId:ce.has(K.teacherId)?K.teacherId:ut.teacherId,subject:K.subject||pr||ut.subject}})},E=async(C=g)=>{const R=await kv(e,C);p(R.entries||[])};m.useEffect(()=>{let C=!0;return(async()=>{try{if(r(!0),o(""),c(""),await L(),!C)return;await E()}catch(Z){C&&o((Z==null?void 0:Z.message)||"   .")}finally{C&&r(!1)}})(),()=>{C=!1}},[e]);const P=async C=>{const R={...g,...C};w(R);try{r(!0),o(""),c(""),await E(R)}catch(Z){o((Z==null?void 0:Z.message)||"  .")}finally{r(!1)}},W=C=>{var K;const R=d.find(ce=>ce.id===C),Z=(R==null?void 0:R.subject)||((K=R==null?void 0:R.subjects)==null?void 0:K[0])||"",ee=Array.isArray(R==null?void 0:R.classes)?R.classes:[],je=ee.includes(S.className)?S.className:ee[0]||S.className;F(ce=>({...ce,teacherId:C,className:je,subject:Z||ce.subject}))},Q=()=>{B(""),F(hu({classes:N,teachers:d,subjects:j}))},ye=async C=>{if(C.preventDefault(),!S.className||!S.teacherId||!S.subject||!S.dayOfWeek||!S.startTime||!S.endTime){o("      .");return}try{a(!0),o(""),c("");const R={className:S.className,teacherId:S.teacherId,subject:S.subject,dayOfWeek:Number(S.dayOfWeek),startTime:S.startTime,endTime:S.endTime,room:S.room};M?(await Cv(e,M,R),c("   .")):(await Sv(e,R),c("   .")),await E(g),Q()}catch(R){o((R==null?void 0:R.message)||"   .")}finally{a(!1)}},D=C=>{B(C.id),o(""),c(""),F({id:C.id,className:C.className||"",teacherId:C.teacherId||"",subject:C.subject||"",dayOfWeek:String(C.dayOfWeek||""),startTime:C.startTime||"",endTime:C.endTime||"",room:C.room||""})},H=async C=>{if(window.confirm(`  : ${C.className} - ${C.subject}`))try{a(!0),o(""),c(""),await Ev(e,C.id),c("   ."),await E(g),M===C.id&&Q()}catch(R){o((R==null?void 0:R.message)||"  .")}finally{a(!1)}},V=m.useMemo(()=>u.slice().sort((C,R)=>C.dayOfWeek!==R.dayOfWeek?Number(C.dayOfWeek||0)-Number(R.dayOfWeek||0):String(C.startTime||"").localeCompare(String(R.startTime||""))),[u]);return n.jsxs("div",{className:"page-enter space-y-5 p-1",children:[n.jsx(ct,{title:" ",subtitle:"      ."}),l?n.jsx("p",{className:"rounded-sm border border-danger/25 bg-danger/5 px-3 py-2 text-sm text-danger",children:l}):null,i?n.jsx("p",{className:"rounded-sm border border-success/25 bg-success/10 px-3 py-2 text-sm text-success",children:i}):null,n.jsx("section",{className:"panel-card",children:n.jsxs("div",{className:"mb-3 grid gap-3 md:grid-cols-3",children:[n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-1 block text-xs text-text-secondary",children:""}),n.jsxs("select",{value:g.grade,onChange:C=>P({grade:C.target.value}),className:"focus-ring h-10 w-full rounded-sm border border-border bg-white px-3 text-sm",children:[n.jsx("option",{value:"",children:" "}),x.map(C=>n.jsx("option",{value:C,children:C},C))]})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-1 block text-xs text-text-secondary",children:""}),n.jsxs("select",{value:g.teacherId,onChange:C=>P({teacherId:C.target.value}),className:"focus-ring h-10 w-full rounded-sm border border-border bg-white px-3 text-sm",children:[n.jsx("option",{value:"",children:" "}),d.map(C=>n.jsx("option",{value:C.id,children:C.name},C.id))]})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-1 block text-xs text-text-secondary",children:""}),n.jsxs("select",{value:g.day,onChange:C=>P({day:C.target.value}),className:"focus-ring h-10 w-full rounded-sm border border-border bg-white px-3 text-sm",children:[n.jsx("option",{value:"",children:" "}),Object.entries(yl).map(([C,R])=>n.jsx("option",{value:C,children:R},C))]})]})]})}),n.jsxs("section",{className:"panel-card",children:[n.jsxs("div",{className:"mb-3 flex flex-wrap items-center justify-between gap-2",children:[n.jsx("h2",{className:"text-base font-semibold text-text-primary",children:M?" ":"  "}),M?n.jsx("button",{type:"button",className:"action-btn",onClick:Q,disabled:s,children:" "}):null]}),n.jsxs("form",{className:"grid gap-3 lg:grid-cols-4",onSubmit:ye,children:[n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-1 block text-xs text-text-secondary",children:""}),n.jsx("select",{value:S.className,onChange:C=>F(R=>({...R,className:C.target.value})),className:"focus-ring h-10 w-full rounded-sm border border-border bg-white px-3 text-sm",children:_.map(C=>n.jsx("option",{value:C.name,children:C.name},C.id))})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-1 block text-xs text-text-secondary",children:""}),n.jsx("select",{value:S.teacherId,onChange:C=>W(C.target.value),className:"focus-ring h-10 w-full rounded-sm border border-border bg-white px-3 text-sm",children:d.map(C=>n.jsx("option",{value:C.id,children:C.name},C.id))})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-1 block text-xs text-text-secondary",children:""}),n.jsx("select",{value:S.subject,onChange:C=>F(R=>({...R,subject:C.target.value})),className:"focus-ring h-10 w-full rounded-sm border border-border bg-white px-3 text-sm",children:I.map(C=>n.jsx("option",{value:C,children:C},C))})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-1 block text-xs text-text-secondary",children:""}),n.jsx("select",{value:S.dayOfWeek,onChange:C=>F(R=>({...R,dayOfWeek:C.target.value})),className:"focus-ring h-10 w-full rounded-sm border border-border bg-white px-3 text-sm",children:Object.entries(yl).map(([C,R])=>n.jsx("option",{value:C,children:R},`form-day-${C}`))})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-1 block text-xs text-text-secondary",children:" "}),n.jsx("input",{type:"time",value:S.startTime,onChange:C=>F(R=>({...R,startTime:C.target.value})),className:"focus-ring h-10 w-full rounded-sm border border-border px-3 text-sm"})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-1 block text-xs text-text-secondary",children:" "}),n.jsx("input",{type:"time",value:S.endTime,onChange:C=>F(R=>({...R,endTime:C.target.value})),className:"focus-ring h-10 w-full rounded-sm border border-border px-3 text-sm"})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-1 block text-xs text-text-secondary",children:""}),n.jsx("input",{type:"text",value:S.room,onChange:C=>F(R=>({...R,room:C.target.value})),className:"focus-ring h-10 w-full rounded-sm border border-border px-3 text-sm",placeholder:"A-12"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{type:"submit",className:"action-btn-primary h-10",disabled:s,children:M?" ":" "})})]})]}),n.jsx("section",{className:"panel-card",children:t?n.jsxs("div",{className:"grid gap-2",children:[n.jsx("div",{className:"skeleton h-12"}),n.jsx("div",{className:"skeleton h-12"}),n.jsx("div",{className:"skeleton h-12"})]}):V.length?n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full border-collapse text-right",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-border bg-background",children:[n.jsx("th",{className:"px-3 py-2 text-xs font-semibold text-text-secondary",children:""}),n.jsx("th",{className:"px-3 py-2 text-xs font-semibold text-text-secondary",children:""}),n.jsx("th",{className:"px-3 py-2 text-xs font-semibold text-text-secondary",children:""}),n.jsx("th",{className:"px-3 py-2 text-xs font-semibold text-text-secondary",children:""}),n.jsx("th",{className:"px-3 py-2 text-xs font-semibold text-text-secondary",children:""}),n.jsx("th",{className:"px-3 py-2 text-xs font-semibold text-text-secondary",children:""}),n.jsx("th",{className:"px-3 py-2 text-xs font-semibold text-text-secondary",children:""})]})}),n.jsx("tbody",{children:V.map(C=>n.jsxs("tr",{className:"border-b border-border/60",children:[n.jsx("td",{className:"px-3 py-3 text-sm text-text-primary",children:yl[C.dayOfWeek]||C.dayName}),n.jsxs("td",{className:"px-3 py-3 text-sm text-text-primary",children:[C.startTime," - ",C.endTime]}),n.jsx("td",{className:"px-3 py-3 text-sm text-text-primary",children:C.className}),n.jsx("td",{className:"px-3 py-3 text-sm text-text-primary",children:C.subject}),n.jsx("td",{className:"px-3 py-3 text-sm text-text-primary",children:C.teacherName||"-"}),n.jsx("td",{className:"px-3 py-3 text-sm text-text-secondary",children:C.room||"-"}),n.jsx("td",{className:"px-3 py-3 text-sm text-text-primary",children:n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("button",{type:"button",className:"action-btn",onClick:()=>D(C),disabled:s,children:""}),n.jsx("button",{type:"button",className:"action-btn",onClick:()=>H(C),disabled:s,children:""})]})})]},C.id))})]})}):n.jsx("p",{className:"text-sm text-text-secondary",children:"Schedule not yet assigned."})})]})}const Sm="edu_bridge_admin_settings",Us={schoolName:" ",schoolEmail:"info@hikmah.school",sessionTimeoutMinutes:120},f0=()=>{if(typeof window>"u")return Us;try{const e=window.localStorage.getItem(Sm),t=e?JSON.parse(e):{};return{...Us,...t}}catch{return Us}},h0=e=>{typeof window>"u"||window.localStorage.setItem(Sm,JSON.stringify(e))};function x0(){const[e,t]=m.useState(Us),[r,s]=m.useState(""),[a,l]=m.useState("");m.useEffect(()=>{t(f0())},[]);const o=i=>{if(i.preventDefault(),!e.schoolName.trim()){l("  .");return}if(!e.schoolEmail.trim()){l("  .");return}h0(e),l(""),s("  .")};return n.jsxs("div",{className:"page-enter space-y-5 p-1",children:[n.jsx(ct,{title:"",subtitle:"    ."}),a?n.jsx("p",{className:"rounded-sm border border-danger/25 bg-danger/5 px-3 py-2 text-sm text-danger",children:a}):null,r?n.jsx("p",{className:"rounded-sm border border-success/25 bg-success/10 px-3 py-2 text-sm text-success",children:r}):null,n.jsxs("section",{className:"grid gap-4 lg:grid-cols-2",children:[n.jsxs("article",{className:"panel-card",children:[n.jsx("h2",{className:"mb-3 text-base font-semibold text-text-primary",children:" "}),n.jsxs("form",{className:"space-y-3",onSubmit:o,children:[n.jsxs("label",{className:"space-y-1",children:[n.jsx("span",{className:"caption-premium",children:" "}),n.jsx("input",{value:e.schoolName,onChange:i=>t(c=>({...c,schoolName:i.target.value})),className:"focus-ring w-full rounded-sm border border-border px-3 py-2 text-sm"})]}),n.jsxs("label",{className:"space-y-1",children:[n.jsx("span",{className:"caption-premium",children:" "}),n.jsx("input",{value:e.schoolEmail,onChange:i=>t(c=>({...c,schoolEmail:i.target.value})),className:"focus-ring w-full rounded-sm border border-border px-3 py-2 text-sm",dir:"ltr"})]}),n.jsxs("label",{className:"space-y-1",children:[n.jsx("span",{className:"caption-premium",children:"   ()"}),n.jsx("input",{type:"number",min:15,max:720,value:e.sessionTimeoutMinutes,onChange:i=>t(c=>({...c,sessionTimeoutMinutes:Number(i.target.value||120)})),className:"focus-ring w-full rounded-sm border border-border px-3 py-2 text-sm"})]}),n.jsx("button",{type:"submit",className:"action-btn-primary",children:" "})]})]}),n.jsxs("article",{className:"panel-card",children:[n.jsx("h2",{className:"mb-3 text-base font-semibold text-text-primary",children:" "}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"rounded-sm border border-border bg-background p-3",children:[n.jsx("p",{className:"text-sm font-semibold text-text-primary",children:"JWT "}),n.jsx("p",{className:"text-xs text-text-secondary",children:"       ."})]}),n.jsxs("div",{className:"rounded-sm border border-border bg-background p-3",children:[n.jsx("p",{className:"text-sm font-semibold text-text-primary",children:"  "}),n.jsx("p",{className:"text-xs text-text-secondary",children:"       ."})]}),n.jsxs("div",{className:"rounded-sm border border-border bg-background p-3",children:[n.jsx("p",{className:"text-sm font-semibold text-text-primary",children:" "}),n.jsx("p",{className:"text-xs text-text-secondary",children:"        ."})]})]})]})]})]})}const xu={fullName:"",email:"",password:"",className:""};function g0(){const{token:e}=xe(),[t,r]=m.useState(!0),[s,a]=m.useState(!1),[l,o]=m.useState(""),[i,c]=m.useState([]),[u,p]=m.useState([]),[d,f]=m.useState(xu),[N,b]=m.useState(""),[j,k]=m.useState(""),x=async()=>{try{r(!0),b("");const T=await dn(e);c(T.students||[]),p(T.classes||[]),f(_=>{var I,L;return{..._,className:_.className||((L=(I=T.classes)==null?void 0:I[0])==null?void 0:L.name)||""}})}catch(T){b(T.message||"   .")}finally{r(!1)}};m.useEffect(()=>{x()},[]);const h=m.useMemo(()=>{const T=l.trim().toLowerCase();return T?i.filter(_=>{var I;return String(_.name||"").toLowerCase().includes(T)||String(_.email||"").toLowerCase().includes(T)||String(_.className||((I=_.classes)==null?void 0:I[0])||"").toLowerCase().includes(T)}):i},[l,i]),g=(T,_)=>{c(I=>I.map(L=>L.id===T?{...L,..._}:L))},w=async T=>{var _;T.preventDefault();try{a(!0),b(""),k(""),await Pv(e,{fullName:d.fullName,email:d.email,password:d.password,className:d.className}),f({...xu,className:((_=u[0])==null?void 0:_.name)||d.className}),k("   ."),await x()}catch(I){b(I.message||"  .")}finally{a(!1)}},S=async T=>{var _;try{a(!0),b(""),k(""),await fm(e,T.id,{fullName:T.name,email:T.email,className:T.className||((_=T.classes)==null?void 0:_[0])||""}),k("   ."),await x()}catch(I){b(I.message||"  .")}finally{a(!1)}},F=async T=>{const _=window.prompt(`     ${T.name}`,"");if(_)try{a(!0),b(""),k(""),await xm(e,T.id,_),k("    .")}catch(I){b(I.message||"    .")}finally{a(!1)}},M=async T=>{try{a(!0),b(""),k(""),await hm(e,T.id,!T.isActive),k(T.isActive?"  .":"  ."),g(T.id,{isActive:!T.isActive})}catch(_){b(_.message||"   .")}finally{a(!1)}},B=async T=>{if(window.confirm(`   ${T.name}`))try{a(!0),b(""),k(""),await gm(e,T.id),k("  ."),c(_=>_.filter(I=>I.id!==T.id))}catch(_){b(_.message||"  .")}finally{a(!1)}};return n.jsxs("div",{className:"page-enter space-y-5 p-1",children:[n.jsx(ct,{title:" ",subtitle:"       ."}),N?n.jsx("p",{className:"rounded-sm border border-danger/25 bg-danger/5 px-3 py-2 text-sm text-danger",children:N}):null,j?n.jsx("p",{className:"rounded-sm border border-success/25 bg-success/10 px-3 py-2 text-sm text-success",children:j}):null,n.jsxs("section",{className:"panel-card",children:[n.jsx("h2",{className:"mb-3 text-base font-semibold text-text-primary",children:"  "}),n.jsxs("form",{className:"grid gap-3 md:grid-cols-4",onSubmit:w,children:[n.jsx("input",{value:d.fullName,onChange:T=>f(_=>({..._,fullName:T.target.value})),className:"focus-ring rounded-sm border border-border px-3 py-2 text-sm",placeholder:" ",required:!0}),n.jsx("input",{value:d.email,onChange:T=>f(_=>({..._,email:T.target.value})),className:"focus-ring rounded-sm border border-border px-3 py-2 text-sm",placeholder:" ",dir:"ltr",required:!0}),n.jsx("input",{value:d.password,onChange:T=>f(_=>({..._,password:T.target.value})),className:"focus-ring rounded-sm border border-border px-3 py-2 text-sm",placeholder:" ",type:"password",required:!0}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("select",{value:d.className,onChange:T=>f(_=>({..._,className:T.target.value})),className:"focus-ring w-full rounded-sm border border-border bg-white px-3 py-2 text-sm",required:!0,children:u.map(T=>n.jsx("option",{value:T.name,children:T.name},T.id))}),n.jsx("button",{type:"submit",className:"action-btn-primary min-w-[96px]",disabled:s,children:""})]})]})]}),n.jsxs("section",{className:"panel-card space-y-4",children:[n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[n.jsx("h2",{className:"text-base font-semibold text-text-primary",children:" "}),n.jsx("input",{value:l,onChange:T=>o(T.target.value),className:"focus-ring min-w-[240px] rounded-sm border border-border px-3 py-2 text-sm",placeholder:"     "})]}),t?n.jsxs("div",{className:"grid gap-3",children:[n.jsx("div",{className:"skeleton h-16"}),n.jsx("div",{className:"skeleton h-16"}),n.jsx("div",{className:"skeleton h-16"})]}):n.jsxs("div",{className:"space-y-3",children:[h.length?null:n.jsx("p",{className:"text-sm text-text-secondary",children:"   ."}),h.map(T=>{var _;return n.jsx("article",{className:"rounded-sm border border-border bg-background p-3",children:n.jsxs("div",{className:"grid gap-2 lg:grid-cols-[1.2fr_1.5fr_1fr_auto]",children:[n.jsx("input",{value:T.name||"",onChange:I=>g(T.id,{name:I.target.value}),className:"focus-ring rounded-sm border border-border px-3 py-2 text-sm",placeholder:""}),n.jsx("input",{value:T.email||"",onChange:I=>g(T.id,{email:I.target.value}),className:"focus-ring rounded-sm border border-border px-3 py-2 text-sm",dir:"ltr",placeholder:""}),n.jsx("select",{value:T.className||((_=T.classes)==null?void 0:_[0])||"",onChange:I=>g(T.id,{className:I.target.value,classes:[I.target.value]}),className:"focus-ring rounded-sm border border-border bg-white px-3 py-2 text-sm",children:u.map(I=>n.jsx("option",{value:I.name,children:I.name},`${T.id}-${I.id}`))}),n.jsxs("div",{className:"flex flex-wrap justify-end gap-2",children:[n.jsx("button",{type:"button",className:"action-btn",onClick:()=>S(T),disabled:s,children:""}),n.jsx("button",{type:"button",className:"action-btn",onClick:()=>F(T),disabled:s,children:"  "}),n.jsx("button",{type:"button",className:"action-btn",onClick:()=>M(T),disabled:s,children:T.isActive?"":""}),n.jsx("button",{type:"button",className:"action-btn",onClick:()=>B(T),disabled:s,children:""})]})]})},T.id)})]})]})]})}function v0(){const{token:e}=xe(),[t,r]=m.useState(!0),[s,a]=m.useState(""),[l,o]=m.useState([]),[i,c]=m.useState([]);m.useEffect(()=>{let p=!0;return(async()=>{try{r(!0),a("");const f=await dn(e);if(!p)return;o(f.availableSubjects||[]),c(f.teachers||[])}catch(f){p&&a(f.message||"   .")}finally{p&&r(!1)}})(),()=>{p=!1}},[e]);const u=m.useMemo(()=>l.map(p=>{const d=i.filter(N=>N.subject===p),f=new Set;return d.forEach(N=>{(N.classes||[]).forEach(b=>f.add(b))}),{name:p,teachersCount:d.length,classesCount:f.size}}),[l,i]);return n.jsxs("div",{className:"page-enter space-y-5 p-1",children:[n.jsx(ct,{title:" ",subtitle:"     ."}),s?n.jsx("p",{className:"rounded-sm border border-danger/25 bg-danger/5 px-3 py-2 text-sm text-danger",children:s}):null,n.jsx("section",{className:"panel-card",children:t?n.jsxs("div",{className:"grid gap-3 sm:grid-cols-2 xl:grid-cols-4",children:[n.jsx("div",{className:"skeleton h-[120px]"}),n.jsx("div",{className:"skeleton h-[120px]"}),n.jsx("div",{className:"skeleton h-[120px]"}),n.jsx("div",{className:"skeleton h-[120px]"})]}):n.jsx("div",{className:"grid gap-3 sm:grid-cols-2 xl:grid-cols-4",children:u.map(p=>n.jsxs("article",{className:"panel-card-hover",children:[n.jsx("h2",{className:"text-lg font-semibold text-text-primary",children:p.name}),n.jsxs("div",{className:"mt-2 space-y-1",children:[n.jsxs("p",{className:"caption-premium",children:[": ",Number(p.classesCount||0).toLocaleString("en-US")]}),n.jsxs("p",{className:"caption-premium",children:[": ",Number(p.teachersCount||0).toLocaleString("en-US")]})]})]},p.name))})})]})}const b0=[{value:"multiple_choice",label:"  "},{value:"rating",label:"  (1-5)"},{value:"text",label:" "}],Cm=()=>`${Date.now()}_${Math.random().toString(16).slice(2,8)}`,Em=()=>({id:Cm(),type:"multiple_choice",questionText:"",required:!0,options:["",""]}),gu={title:"",description:"",audience:["student"],questions:[Em()]},Fm=(e=[])=>e.map(t=>String(t||"").trim()).filter(Boolean),y0=e=>{const t=[];return String(e.title||"").trim()||t.push("  ."),(!Array.isArray(e.audience)||!e.audience.length)&&t.push("     (  )."),(!Array.isArray(e.questions)||!e.questions.length)&&t.push("    ."),e.questions.forEach((r,s)=>{if(String(r.questionText||"").trim()||t.push(` ${s+1}:   .`),r.type==="multiple_choice"){const a=Fm(r.options),l=new Set(a);a.length<2&&t.push(` ${s+1}:     .`),l.size!==a.length&&t.push(` ${s+1}:   .`)}}),t},j0=e=>({title:e.title||e.name||"",description:e.description||"",audience:Array.isArray(e.audience)&&e.audience.length?e.audience:["student"],questions:(e.questions||[]).map(t=>({id:t.questionId||Cm(),type:t.type||"text",questionText:t.questionText||t.prompt||"",required:!!t.required,options:t.type==="multiple_choice"?t.options||["",""]:[]}))});function N0(){const{token:e}=xe(),[t,r]=m.useState([]),[s,a]=m.useState(gu),[l,o]=m.useState(""),[i,c]=m.useState(!0),[u,p]=m.useState(!1),[d,f]=m.useState(""),[N,b]=m.useState(""),j=m.useMemo(()=>y0(s),[s]),k=async()=>{try{c(!0),f("");const L=await Av(e);r(L.surveys||[])}catch(L){f(L.message||"  .")}finally{c(!1)}};m.useEffect(()=>{k()},[]);const x=(L,E)=>{a(P=>({...P,questions:P.questions.map(W=>W.id===L?{...W,...E}:W)}))},h=()=>{a(L=>({...L,questions:[...L.questions,Em()]}))},g=L=>{a(E=>({...E,questions:E.questions.filter(P=>P.id!==L)}))},w=L=>{const E=s.questions.find(P=>P.id===L);!E||E.type!=="multiple_choice"||x(L,{options:[...E.options,""]})},S=(L,E,P)=>{const W=s.questions.find(ye=>ye.id===L);if(!W)return;const Q=[...W.options||[]];Q[E]=P,x(L,{options:Q})},F=(L,E)=>{const P=s.questions.find(Q=>Q.id===L);if(!P)return;const W=(P.options||[]).filter((Q,ye)=>ye!==E);x(L,{options:W})},M=()=>{a(gu),o("")},B=async L=>{if(L.preventDefault(),j.length){f(j[0]);return}const E={title:s.title,description:s.description,audience:s.audience,questions:s.questions.map((P,W)=>({questionId:`q_${W+1}`,type:P.type,questionText:String(P.questionText||"").trim(),required:!!P.required,options:P.type==="multiple_choice"?Fm(P.options):[]}))};try{p(!0),f(""),b(""),l?(await Rv(e,l,E),b("   .")):(await Iv(e,E),b("   .")),M(),await k()}catch(P){f(P.message||"  .")}finally{p(!1)}},T=L=>{f(""),b(""),o(L.id),a(j0(L))},_=async L=>{if(window.confirm(`   "${L.title||L.name}"`))try{p(!0),f(""),b(""),await zv(e,L.id),b("  ."),l===L.id&&M(),await k()}catch(E){f(E.message||"  .")}finally{p(!1)}},I=L=>{a(E=>{const W=E.audience.includes(L)?E.audience.filter(Q=>Q!==L):[...E.audience,L];return{...E,audience:W}})};return n.jsxs("div",{className:"page-enter space-y-5 p-1",children:[n.jsx(ct,{title:" ",subtitle:"         ."}),d?n.jsx("p",{className:"rounded-sm border border-danger/25 bg-danger/5 px-3 py-2 text-sm text-danger",children:d}):null,N?n.jsx("p",{className:"rounded-sm border border-success/25 bg-success/10 px-3 py-2 text-sm text-success",children:N}):null,n.jsxs("section",{className:"panel-card",children:[n.jsx("h2",{className:"mb-3 text-base font-semibold text-text-primary",children:l?" ":"  "}),n.jsxs("form",{className:"space-y-4",onSubmit:B,children:[n.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[n.jsx("input",{value:s.title,onChange:L=>a(E=>({...E,title:L.target.value})),className:"focus-ring rounded-sm border border-border px-3 py-2 text-sm",placeholder:" ",required:!0}),n.jsx("input",{value:s.description,onChange:L=>a(E=>({...E,description:L.target.value})),className:"focus-ring rounded-sm border border-border px-3 py-2 text-sm",placeholder:"  ()"})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("button",{type:"button",onClick:()=>I("student"),className:`action-btn rounded-full px-3 py-1 text-xs ${s.audience.includes("student")?"border-transparent bg-primary text-white":""}`,children:""}),n.jsx("button",{type:"button",onClick:()=>I("teacher"),className:`action-btn rounded-full px-3 py-1 text-xs ${s.audience.includes("teacher")?"border-transparent bg-primary text-white":""}`,children:""})]}),n.jsx("div",{className:"space-y-3",children:s.questions.map((L,E)=>n.jsxs("article",{className:"animate-fadeUp rounded-sm border border-border bg-background p-3",children:[n.jsxs("div",{className:"mb-2 flex items-center justify-between gap-2",children:[n.jsxs("p",{className:"text-sm font-semibold text-text-primary",children:[" ",E+1]}),n.jsx("button",{type:"button",className:"action-btn",onClick:()=>g(L.id),disabled:s.questions.length===1,children:" "})]}),n.jsxs("div",{className:"grid gap-2 md:grid-cols-[1fr_190px_auto]",children:[n.jsx("input",{value:L.questionText,onChange:P=>x(L.id,{questionText:P.target.value}),className:"focus-ring rounded-sm border border-border px-3 py-2 text-sm",placeholder:" ",required:!0}),n.jsx("select",{value:L.type,onChange:P=>{const W=P.target.value;x(L.id,{type:W,options:W==="multiple_choice"?["",""]:[]})},className:"focus-ring rounded-sm border border-border bg-white px-3 py-2 text-sm",children:b0.map(P=>n.jsx("option",{value:P.value,children:P.label},`${L.id}-${P.value}`))}),n.jsxs("label",{className:"inline-flex items-center gap-2 rounded-sm border border-border bg-surface px-3 py-2 text-sm",children:[n.jsx("input",{type:"checkbox",checked:L.required,onChange:P=>x(L.id,{required:P.target.checked})}),""]})]}),L.type==="multiple_choice"?n.jsxs("div",{className:"mt-3 space-y-2",children:[n.jsx("p",{className:"text-xs font-semibold text-text-secondary",children:""}),(L.options||[]).map((P,W)=>n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{value:P,onChange:Q=>S(L.id,W,Q.target.value),className:"focus-ring w-full rounded-sm border border-border px-3 py-2 text-sm",placeholder:` ${W+1}`}),n.jsx("button",{type:"button",className:"action-btn",onClick:()=>F(L.id,W),disabled:(L.options||[]).length<=2,children:""})]},`${L.id}-option-${W}`)),n.jsx("button",{type:"button",className:"action-btn",onClick:()=>w(L.id),children:" "})]}):null]},L.id))}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("button",{type:"button",className:"action-btn",onClick:h,children:" "}),n.jsx("button",{type:"submit",className:"action-btn-primary",disabled:u,children:u?" ...":l?" ":" "}),l?n.jsx("button",{type:"button",className:"action-btn",onClick:M,children:" "}):null]})]})]}),n.jsxs("section",{className:"panel-card",children:[n.jsx("h2",{className:"mb-3 text-base font-semibold text-text-primary",children:" "}),i?n.jsxs("div",{className:"grid gap-3",children:[n.jsx("div",{className:"skeleton h-16"}),n.jsx("div",{className:"skeleton h-16"}),n.jsx("div",{className:"skeleton h-16"})]}):n.jsxs("div",{className:"space-y-2",children:[t.map(L=>n.jsx("article",{className:"rounded-sm border border-border bg-background p-3",children:n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-text-primary",children:L.title||L.name}),n.jsxs("p",{className:"text-xs text-text-secondary",children:[": ",Number((L.questions||[]).length).toLocaleString("en-US")," | :"," ",Number(L.totalResponses||0).toLocaleString("en-US")]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{type:"button",className:"action-btn",onClick:()=>T(L),children:""}),n.jsx("button",{type:"button",className:"action-btn",onClick:()=>_(L),children:""})]})]})},L.id)),t.length?null:n.jsx("p",{className:"text-sm text-text-secondary",children:"    ."})]})]})]})}const vu={fullName:"",email:"",password:"",subject:"",classes:[]};function w0(){const{token:e}=xe(),[t,r]=m.useState(!0),[s,a]=m.useState(!1),[l,o]=m.useState(""),[i,c]=m.useState([]),[u,p]=m.useState([]),[d,f]=m.useState([]),[N,b]=m.useState(vu),[j,k]=m.useState(""),[x,h]=m.useState(""),g=async()=>{try{r(!0),k("");const E=await dn(e);c(E.teachers||[]),p(E.classes||[]),f(E.availableSubjects||[]),b(P=>{var W;return{...P,subject:P.subject||((W=E.availableSubjects)==null?void 0:W[0])||""}})}catch(E){k(E.message||"   .")}finally{r(!1)}};m.useEffect(()=>{g()},[]);const w=m.useMemo(()=>{const E=l.trim().toLowerCase();return E?i.filter(P=>String(P.name||"").toLowerCase().includes(E)||String(P.email||"").toLowerCase().includes(E)||String(P.subject||"").toLowerCase().includes(E)):i},[l,i]),S=(E,P)=>{c(W=>W.map(Q=>Q.id===E?{...Q,...P}:Q))},F=(E,P)=>{c(W=>W.map(Q=>{if(Q.id!==E)return Q;const D=(Q.classes||[]).includes(P)?(Q.classes||[]).filter(H=>H!==P):[...Q.classes||[],P];return{...Q,classes:D}}))},M=E=>{b(P=>{const W=P.classes.includes(E);return{...P,classes:W?P.classes.filter(Q=>Q!==E):[...P.classes,E]}})},B=async E=>{if(E.preventDefault(),!N.classes.length){k("     .");return}try{a(!0),k(""),h(""),await Tv(e,{fullName:N.fullName,email:N.email,password:N.password,subject:N.subject,classes:N.classes}),b({...vu,subject:d[0]||""}),h("   ."),await g()}catch(P){k(P.message||"  .")}finally{a(!1)}},T=async E=>{try{a(!0),k(""),h(""),await fm(e,E.id,{fullName:E.name,email:E.email}),await Mv(e,E.id,{subject:E.subject,classes:E.classes||[]}),h("   ."),await g()}catch(P){k(P.message||"  .")}finally{a(!1)}},_=async E=>{const P=window.prompt(`     ${E.name}`,"");if(P)try{a(!0),k(""),h(""),await xm(e,E.id,P),h("    .")}catch(W){k(W.message||"    .")}finally{a(!1)}},I=async E=>{try{a(!0),k(""),h(""),await hm(e,E.id,!E.isActive),h(E.isActive?"  .":"  ."),S(E.id,{isActive:!E.isActive})}catch(P){k(P.message||"   .")}finally{a(!1)}},L=async E=>{if(window.confirm(`   ${E.name}`))try{a(!0),k(""),h(""),await gm(e,E.id),h("  ."),c(P=>P.filter(W=>W.id!==E.id))}catch(P){k(P.message||"  .")}finally{a(!1)}};return n.jsxs("div",{className:"page-enter space-y-5 p-1",children:[n.jsx(ct,{title:" ",subtitle:"     ."}),j?n.jsx("p",{className:"rounded-sm border border-danger/25 bg-danger/5 px-3 py-2 text-sm text-danger",children:j}):null,x?n.jsx("p",{className:"rounded-sm border border-success/25 bg-success/10 px-3 py-2 text-sm text-success",children:x}):null,n.jsxs("section",{className:"panel-card",children:[n.jsx("h2",{className:"mb-3 text-base font-semibold text-text-primary",children:"  "}),n.jsxs("form",{className:"grid gap-3 lg:grid-cols-5",onSubmit:B,children:[n.jsx("input",{value:N.fullName,onChange:E=>b(P=>({...P,fullName:E.target.value})),className:"focus-ring rounded-sm border border-border px-3 py-2 text-sm",placeholder:" ",required:!0}),n.jsx("input",{value:N.email,onChange:E=>b(P=>({...P,email:E.target.value})),className:"focus-ring rounded-sm border border-border px-3 py-2 text-sm",placeholder:" ",dir:"ltr",required:!0}),n.jsx("input",{value:N.password,onChange:E=>b(P=>({...P,password:E.target.value})),className:"focus-ring rounded-sm border border-border px-3 py-2 text-sm",placeholder:" ",type:"password",required:!0}),n.jsx("select",{value:N.subject,onChange:E=>b(P=>({...P,subject:E.target.value})),className:"focus-ring rounded-sm border border-border bg-white px-3 py-2 text-sm",required:!0,children:d.map(E=>n.jsx("option",{value:E,children:E},E))}),n.jsx("button",{type:"submit",className:"action-btn-primary",disabled:s,children:""})]}),n.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:u.map(E=>{const P=N.classes.includes(E.name);return n.jsx("button",{type:"button",onClick:()=>M(E.name),className:`action-btn rounded-full px-3 py-1 text-xs ${P?"border-transparent bg-primary text-white":""}`,children:E.name},`new-teacher-${E.id}`)})})]}),n.jsxs("section",{className:"panel-card space-y-4",children:[n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[n.jsx("h2",{className:"text-base font-semibold text-text-primary",children:" "}),n.jsx("input",{value:l,onChange:E=>o(E.target.value),className:"focus-ring min-w-[240px] rounded-sm border border-border px-3 py-2 text-sm",placeholder:"     "})]}),t?n.jsxs("div",{className:"grid gap-3",children:[n.jsx("div",{className:"skeleton h-16"}),n.jsx("div",{className:"skeleton h-16"}),n.jsx("div",{className:"skeleton h-16"})]}):n.jsxs("div",{className:"space-y-3",children:[w.length?null:n.jsx("p",{className:"text-sm text-text-secondary",children:"   ."}),w.map(E=>n.jsxs("article",{className:"rounded-sm border border-border bg-background p-3",children:[n.jsxs("div",{className:"grid gap-2 lg:grid-cols-[1.1fr_1.3fr_1fr_auto]",children:[n.jsx("input",{value:E.name||"",onChange:P=>S(E.id,{name:P.target.value}),className:"focus-ring rounded-sm border border-border px-3 py-2 text-sm",placeholder:""}),n.jsx("input",{value:E.email||"",onChange:P=>S(E.id,{email:P.target.value}),className:"focus-ring rounded-sm border border-border px-3 py-2 text-sm",dir:"ltr",placeholder:""}),n.jsx("select",{value:E.subject||"",onChange:P=>S(E.id,{subject:P.target.value}),className:"focus-ring rounded-sm border border-border bg-white px-3 py-2 text-sm",children:d.map(P=>n.jsx("option",{value:P,children:P},`${E.id}-${P}`))}),n.jsxs("div",{className:"flex flex-wrap justify-end gap-2",children:[n.jsx("button",{type:"button",className:"action-btn",onClick:()=>T(E),disabled:s,children:""}),n.jsx("button",{type:"button",className:"action-btn",onClick:()=>_(E),disabled:s,children:"  "}),n.jsx("button",{type:"button",className:"action-btn",onClick:()=>I(E),disabled:s,children:E.isActive?"":""}),n.jsx("button",{type:"button",className:"action-btn",onClick:()=>L(E),disabled:s,children:""})]})]}),n.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:u.map(P=>{const W=(E.classes||[]).includes(P.name);return n.jsx("button",{type:"button",onClick:()=>F(E.id,P.name),className:`action-btn rounded-full px-3 py-1 text-xs ${W?"border-transparent bg-primary text-white":""}`,children:P.name},`${E.id}-${P.id}`)})})]},E.id))]})]})]})}function xa({title:e,description:t,compact:r=!1}){return n.jsxs("div",{className:`flex flex-col items-center justify-center text-center rounded-md bg-slate-50 border border-border ${r?"py-8 px-6":"py-14 px-6"}`,children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-border mb-3"}),n.jsx("p",{className:"text-[15px] font-semibold text-text-primary",children:e}),t&&n.jsx("p",{className:"mt-1 text-[13px] text-text-secondary max-w-[260px]",children:t})]})}const k0=new Intl.DateTimeFormat("ar-SA",{day:"numeric",month:"short",year:"numeric"}),S0=new Intl.DateTimeFormat("ar-SA",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}),pn=e=>{if(!e)return"";const t=e instanceof Date?e:new Date(e);return Number.isNaN(t.getTime())?"":k0.format(t)},C0=e=>{if(!e)return"";const t=e instanceof Date?e:new Date(e);return Number.isNaN(t.getTime())?"":S0.format(t)},St=(e,t=0)=>{const r=Number(e);return Number.isFinite(r)?new Intl.NumberFormat("ar-SA",{minimumFractionDigits:0,maximumFractionDigits:t}).format(r):"0"},E0=e=>{if(!e.length)return 0;const t=e.reduce((s,a)=>s+Number(a.score||0),0),r=e.reduce((s,a)=>s+Number(a.outOf||0),0);return r?t/r*100:0},F0=e=>e>=75?"#00C853":e>=50?"#FFB300":"#D32F2F",bu=e=>e>=90?{label:"",color:"#00C853"}:e>=75?{label:" ",color:"#2C7BE5"}:e>=60?{label:"",color:"#FFB300"}:e>=50?{label:"",color:"#F97316"}:{label:"",color:"#D32F2F"};function T0({rows:e=[]}){const t=E0(e),{label:r,color:s}=bu(t);return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"panel-card",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("span",{className:"text-[13px] font-semibold text-text-secondary",children:" "}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-[11px] font-semibold px-2 py-0.5 rounded-full",style:{background:s+"18",color:s},children:r}),n.jsxs("span",{className:"text-[22px] font-bold text-text-primary",children:[St(t,1),""]})]})]}),n.jsx("div",{className:"h-2 rounded-full bg-border overflow-hidden",children:n.jsx("div",{className:"grade-fill h-full rounded-full",style:{width:`${Math.max(2,Math.min(100,t))}%`,background:F0(t)}})})]}),e.length?n.jsx("div",{className:"surface-card overflow-hidden",children:n.jsxs("table",{className:"w-full min-w-[480px] border-collapse",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-slate-50 border-b border-border",children:[n.jsx("th",{className:"text-right px-4 py-3 text-[11px] font-semibold text-text-secondary uppercase tracking-wide",children:""}),n.jsx("th",{className:"text-right px-4 py-3 text-[11px] font-semibold text-text-secondary uppercase tracking-wide",children:""}),n.jsx("th",{className:"text-right px-4 py-3 text-[11px] font-semibold text-text-secondary uppercase tracking-wide",children:""}),n.jsx("th",{className:"text-right px-4 py-3 text-[11px] font-semibold text-text-secondary uppercase tracking-wide",children:""})]})}),n.jsx("tbody",{children:e.map((a,l)=>{const o=a.outOf?Number(a.score)/Number(a.outOf)*100:0,{label:i,color:c}=bu(o);return n.jsxs("tr",{className:`border-b border-border last:border-0 premium-transition hover:bg-slate-50 ${l%2===0,""}`,children:[n.jsx("td",{className:"px-4 py-3 text-[14px] text-text-primary",children:a.assessment}),n.jsxs("td",{className:"px-4 py-3 text-[14px] font-bold text-text-primary",children:[St(a.score)," / ",St(a.outOf)]}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("span",{className:"text-[11px] font-semibold px-2 py-0.5 rounded-full",style:{background:c+"18",color:c},children:i})}),n.jsx("td",{className:"px-4 py-3 text-[13px] text-text-secondary",children:pn(a.date)})]},a.id)})})]})}):n.jsx(xa,{title:"   ",description:"    .",compact:!0})]})}const yu={:{bg:"#EFF6FF",color:"#2C7BE5"},:{bg:"#FFFBEB",color:"#D97706"},:{bg:"#F0FDF4",color:"#00C853"},:{bg:"#F8FAFC",color:"#475569"}};function P0({summary:e,recentFeedback:t=[]}){const r=[{label:"",value:(e==null?void 0:e.homeworkCount)??0,accent:"#2C7BE5"},{label:"",value:`${St((e==null?void 0:e.averageGrade)??0,1)}`,accent:"#00C853"},{label:"",value:(e==null?void 0:e.feedbackCount)??0,accent:"#FFB300"}];return n.jsxs("aside",{className:"space-y-4",children:[n.jsxs("div",{className:"panel-card",children:[n.jsx("p",{className:"text-[12px] font-semibold text-text-secondary uppercase tracking-wide mb-3",children:" "}),n.jsx("div",{className:"space-y-2",children:r.map(s=>n.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-border last:border-0",children:[n.jsx("span",{className:"text-[13px] text-text-secondary",children:s.label}),n.jsx("strong",{className:"text-[16px] font-bold",style:{color:s.accent},children:s.value})]},s.label))})]}),n.jsxs("div",{className:"panel-card",children:[n.jsx("p",{className:"text-[12px] font-semibold text-text-secondary uppercase tracking-wide mb-3",children:" "}),t.length?n.jsx("div",{className:"space-y-3",children:t.slice(0,4).map(s=>{const a=yu[s.category]||yu.;return n.jsxs("div",{className:"pb-3 border-b border-border last:border-0 last:pb-0",children:[n.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1",children:[n.jsx("span",{className:"text-[10px] font-bold px-1.5 py-0.5 rounded-full",style:{background:a.bg,color:a.color},children:s.category}),n.jsx("span",{className:"text-[11px] text-text-secondary",children:pn(s.date)})]}),n.jsx("p",{className:"clamp-2 text-[12px] text-text-secondary leading-relaxed",children:s.preview})]},s.id)})}):n.jsx(xa,{title:"  ",compact:!0})]})]})}function L0({tabs:e=[],activeKey:t,onChange:r}){return n.jsx("div",{className:"flex gap-1 p-1 bg-slate-50 border border-border rounded-sm mb-5",children:e.map(s=>{const a=s.key===t;return n.jsx("button",{type:"button",role:"tab","aria-selected":a,onClick:()=>r==null?void 0:r(s.key),className:`flex-1 py-2 px-3 rounded-[6px] text-[13px] font-semibold premium-transition focus-ring
              ${a?"bg-surface text-primary shadow-sm border border-border":"text-text-secondary hover:text-text-primary"}`,children:s.label},s.key)})})}const _0=[{key:"posts",label:""},{key:"homework",label:""},{key:"grades",label:""}],M0={:{bg:"#F0FDF4",color:"#00C853"}," ":{bg:"#FEF2F2",color:"#D32F2F"}};function A0(){return n.jsx("svg",{viewBox:"0 0 20 20",fill:"none",className:"w-4 h-4","aria-hidden":"true",children:n.jsx("path",{d:"m4 7 6 6 6-6",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})}const ju=["#2C7BE5","#00C853","#FFB300","#D32F2F","#8B5CF6","#F97316","#14B8A6","#EC4899"];function I0({current:e,allSubjects:t,onSwitch:r}){const[s,a]=m.useState(!1),l=m.useRef(null);return m.useEffect(()=>{if(!s)return;const o=i=>{l.current&&!l.current.contains(i.target)&&a(!1)};return document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)},[s]),n.jsxs("div",{ref:l,className:"relative",children:[n.jsxs("button",{type:"button",onClick:()=>a(o=>!o),className:"action-btn flex items-center gap-2 focus-ring","aria-haspopup":"listbox","aria-expanded":s,children:[n.jsx("span",{className:"max-w-[130px] truncate",children:e.name}),n.jsx(A0,{})]}),s&&n.jsx("div",{role:"listbox","aria-label":" ",className:"absolute start-0 top-full z-30 mt-1 min-w-[200px] rounded-md border border-border bg-surface shadow-md animate-fadeUp overflow-hidden",children:t.map((o,i)=>{const c=ju[i%ju.length];return n.jsxs("button",{type:"button",role:"option","aria-selected":o.id===e.id,onClick:()=>{r(o.id),a(!1)},className:`flex w-full items-center gap-3 px-4 py-3 text-right text-[13px] premium-transition hover:bg-slate-50 focus-ring
                  ${o.id===e.id?"bg-slate-50 font-semibold text-text-primary":"text-text-secondary"}`,children:[n.jsx("div",{className:"w-1 h-6 rounded-full flex-shrink-0",style:{background:c}}),n.jsx("img",{src:o.image,alt:"","aria-hidden":!0,className:"w-7 h-7 object-contain flex-shrink-0"}),n.jsx("span",{className:"flex-1",children:o.name})]},o.id)})})]})}function R0({subject:e,allSubjects:t,recentFeedback:r,onBack:s,onSwitch:a}){var b,j;const[l,o]=m.useState("posts"),[i,c]=m.useState({});m.useEffect(()=>{o("posts"),c({}),window.scrollTo({top:0,behavior:"smooth"})},[e==null?void 0:e.id]);const u=m.useMemo(()=>{const k=(e==null?void 0:e.grades)||[];if(!k.length)return 0;const x=k.reduce((g,w)=>g+Number(w.score||0),0),h=k.reduce((g,w)=>g+Number(w.outOf||0),0);return h?x/h*100:0},[e==null?void 0:e.grades]),p=k=>c(x=>({...x,[k]:!x[k]})),d=()=>{const k=e.posts||[];return k.length?n.jsx("div",{className:"space-y-3",children:k.map(x=>{var w;const h=!!i[x.id],g=x.body.length>180;return n.jsxs("div",{className:"panel-card",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3 mb-2",children:[n.jsx("h4",{className:"text-[15px] font-semibold text-text-primary",children:x.title}),n.jsx("span",{className:"flex-shrink-0 text-[12px] text-text-secondary",children:pn(x.date)})]}),n.jsx("p",{className:`text-[14px] text-text-secondary leading-[1.8] ${h?"":"clamp-3"}`,children:x.body}),((w=x.attachments)==null?void 0:w.length)>0&&n.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:x.attachments.map(S=>n.jsx("span",{className:"text-[12px] text-text-secondary border border-border bg-slate-50 px-2.5 py-1 rounded-sm",children:S},S))}),g&&n.jsx("button",{type:"button",onClick:()=>p(x.id),className:"mt-2 text-[12px] font-semibold text-primary hover:opacity-80 focus-ring",children:h?"":" "})]},x.id)})}):n.jsx(xa,{title:"  ",description:"     .",compact:!0})},f=()=>{const k=e.homework||[];return k.length?n.jsx("div",{className:"space-y-3",children:k.map(x=>{const h=M0[x.status]||{bg:"#F8FAFC",color:"#475569"};return n.jsxs("div",{className:"panel-card",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3 mb-2",children:[n.jsx("h4",{className:"text-[15px] font-semibold text-text-primary",children:x.title}),n.jsx("span",{className:"flex-shrink-0 text-[11px] font-semibold px-2 py-0.5 rounded-full",style:{background:h.bg,color:h.color},children:x.status})]}),n.jsxs("p",{className:"text-[13px] text-text-secondary",children:[" : ",C0(x.dueDate)]}),x.attachment&&n.jsxs("p",{className:"mt-1 text-[13px] text-text-secondary",children:[": ",x.attachment]}),x.teacherComment&&n.jsxs("div",{className:"mt-3 bg-slate-50 border border-border rounded-sm px-3 py-2.5 text-[13px] text-text-secondary leading-relaxed",children:[" : ",x.teacherComment]})]},x.id)})}):n.jsx(xa,{title:"  ",description:"     .",compact:!0})},N={homeworkCount:((b=e.homework)==null?void 0:b.length)||0,averageGrade:u,feedbackCount:((j=e.feedbackItems)==null?void 0:j.length)||0};return n.jsxs("main",{dir:"rtl",className:"min-h-screen bg-background",children:[n.jsx("div",{className:"sticky top-0 z-20 bg-surface border-b border-border",children:n.jsxs("div",{className:"max-w-[1200px] mx-auto px-6 py-3 flex items-center justify-between gap-4",children:[n.jsx("button",{type:"button",onClick:s,className:"action-btn focus-ring pressable",children:" "}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:"text-[12px] text-text-secondary hidden sm:inline",children:" :"}),n.jsx(I0,{current:e,allSubjects:t,onSwitch:a})]})]})}),n.jsxs("div",{className:"max-w-[1200px] mx-auto px-6 py-8",children:[n.jsxs("div",{className:"surface-card mb-7 overflow-hidden",children:[n.jsx("div",{className:"h-1 w-full bg-primary"}),n.jsxs("div",{className:"flex items-center gap-5 p-6",children:[n.jsx("div",{className:"flex-shrink-0 w-20 h-20 flex items-center justify-center bg-slate-50 rounded-md border border-border",children:n.jsx("img",{src:e.image,alt:e.name,className:"w-14 h-14 object-contain"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"h2-premium",children:e.name}),n.jsxs("p",{className:"text-[14px] text-text-secondary mt-1",children:[": ",e.teacher]}),n.jsxs("p",{className:"text-[13px] text-text-secondary mt-0.5",children:[" : ",n.jsxs("strong",{className:"text-text-primary",children:[Number(u).toFixed(1),""]})]})]})]})]}),n.jsxs("div",{className:"grid gap-6 lg:grid-cols-[minmax(0,7fr)_minmax(0,3fr)]",children:[n.jsxs("div",{children:[n.jsx(L0,{tabs:_0,activeKey:l,onChange:o}),l==="posts"?d():l==="homework"?f():n.jsx(T0,{rows:e.grades||[]})]}),n.jsx(P0,{summary:N,recentFeedback:e.feedbackItems||[]})]})]})]})}const z0="/edu-bridge/assets/arabic-DpzAsG7P.png",O0="/edu-bridge/assets/biology-CLN4ZAM2.png",D0="/edu-bridge/assets/chemistry-CXjPhEZn.png",$0="/edu-bridge/assets/islamic-studies-BCn_swsR.png",So="/edu-bridge/assets/math-Bl34fPvW.png",B0="/edu-bridge/assets/physics-Dst6CiM8.png",U0="/edu-bridge/assets/social-studies-CLGdCg6t.png",W0="/edu-bridge/assets/english-CoFe_4wl.png",Es={:So," ":z0,:B0,:D0,:O0," ":U0," ":$0," ":W0};function H0(e){if(!e)return So;if(Es[e])return Es[e];const t=Object.keys(Es).find(r=>e.includes(r)||r.includes(e));return t?Es[t]:So}const V0={academic:"",moral:"",behavior:"",idfk:""},Nu=e=>V0[String(e||"").trim().toLowerCase()]||e||"",st=["#2C7BE5","#00C853","#FFB300","#D32F2F","#8B5CF6","#F97316","#14B8A6"],Q0={improving:" ",declining:" ",stable:""},Tm={low:{label:"",color:"#00C853"},medium:{label:"",color:"#FFB300"},high:{label:"",color:"#D32F2F"}},G0={active:" ",moderate:"",low:" "},nn={:{bg:"#EFF6FF",c:"#2C7BE5"},:{bg:"#FFFBEB",c:"#D97706"},:{bg:"#F0FDF4",c:"#00C853"},:{bg:"#F8FAFC",c:"#475569"}},Y0={1:"",2:"",3:"",4:"",5:""},wu=["#2C7BE5","#00C853","#FFB300","#D32F2F","#8B5CF6","#F97316","#14B8A6","#EC4899"],ku=["",""," "," "," ","",""," "," "];function K0(e){return[...e].sort((t,r)=>{const s=ku.findIndex(i=>{var c;return((c=t.name)==null?void 0:c.includes(i))||i.includes(t.name||"")}),a=ku.findIndex(i=>{var c;return((c=r.name)==null?void 0:c.includes(i))||i.includes(r.name||"")});return(s===-1?999:s)-(a===-1?999:a)})}const Te={dashboard:"dashboard",grades:"grades",schedule:"schedule",ai:"ai",notes:"notes",profile:"profile"},X0=[{id:Te.dashboard,label:"",icon:""},{id:Te.grades,label:"",icon:""},{id:Te.schedule,label:" ",icon:""},{id:Te.ai,label:" ",icon:""},{id:Te.notes,label:"",icon:""},{id:Te.profile,label:"",icon:""}];function za({d:e,size:t=18}){return n.jsx("svg",{viewBox:"0 0 24 24",fill:"none",style:{width:t,height:t,flexShrink:0},"aria-hidden":"true",children:n.jsx("path",{d:e,stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}const J0=()=>n.jsx(za,{d:"M12 3a4 4 0 0 0-4 4v2.2c0 .8-.2 1.6-.7 2.3L6 13.4v1.1h12v-1.1l-1.3-1.9a4.2 4.2 0 0 1-.7-2.3V7a4 4 0 0 0-4-4Zm-2 14a2 2 0 0 0 4 0"}),Oa=()=>n.jsx(za,{d:"m15 18-6-6 6-6"}),Pm=()=>n.jsx(za,{d:"m9 18 6-6-6-6"}),Z0=()=>n.jsx(za,{d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"});function q0({studentName:e,avatarUrl:t,notifCount:r,onLogout:s}){return n.jsx("nav",{className:"premium-topnav",children:n.jsxs("div",{className:"premium-topnav-inner",children:[n.jsxs("div",{className:"nav-identity",children:[t?n.jsx("img",{src:t,alt:e,className:"nav-avatar"}):n.jsx("div",{className:"nav-avatar-placeholder",children:(e==null?void 0:e[0])||""}),n.jsx("div",{className:"nav-student-info",children:n.jsx("span",{className:"nav-student-name",children:e})})]}),n.jsx("div",{style:{flex:1}}),n.jsxs("div",{className:"nav-actions",children:[n.jsxs("button",{type:"button","aria-label":"",className:"nav-action-btn relative",children:[n.jsx(J0,{}),r>0&&n.jsx("span",{className:"nav-badge",children:r>9?"9+":r})]}),n.jsxs("button",{type:"button",onClick:s,className:"nav-action-btn nav-logout",children:[n.jsx(Z0,{}),n.jsx("span",{className:"nav-logout-label",children:""})]})]})]})})}function eb({activeTab:e,onTabChange:t}){const r=m.useRef(null),[s,a]=m.useState(!1),[l,o]=m.useState(!1),i=m.useCallback(()=>{const u=r.current;u&&(a(u.scrollLeft>4),o(u.scrollLeft<u.scrollWidth-u.clientWidth-4))},[]);m.useEffect(()=>{const u=r.current;if(!u)return;i(),u.addEventListener("scroll",i,{passive:!0});const p=new ResizeObserver(i);return p.observe(u),()=>{u.removeEventListener("scroll",i),p.disconnect()}},[i]);const c=u=>{var p;(p=r.current)==null||p.scrollBy({left:u*-160,behavior:"smooth"})};return n.jsxs("div",{className:"tabbar-wrap",children:[s&&n.jsx("button",{type:"button",className:"tabbar-scroll-arrow tabbar-scroll-arrow-start",onClick:()=>c(-1),"aria-label":" ",children:n.jsx(Pm,{})}),n.jsx("div",{ref:r,className:"tabbar-inner",role:"tablist",children:X0.map(u=>n.jsxs("button",{role:"tab","aria-selected":e===u.id,type:"button",onClick:()=>t(u.id),className:`tabbar-tab ${e===u.id?"tabbar-tab-active":""}`,children:[n.jsx("span",{className:"tabbar-icon",children:u.icon}),n.jsx("span",{children:u.label}),e===u.id&&n.jsx("span",{className:"tabbar-underline"})]},u.id))}),l&&n.jsx("button",{type:"button",className:"tabbar-scroll-arrow tabbar-scroll-arrow-end",onClick:()=>c(1),"aria-label":" ",children:n.jsx(Oa,{})})]})}function tb({subjects:e,onSelect:t}){const r=m.useRef(null),s=m.useRef(!1),a=m.useRef(0),l=m.useRef(0),o=m.useRef(0),i=m.useRef(0),c=m.useRef(0),u=m.useRef(null),p=m.useCallback(b=>{s.current=!0,a.current=b.pageX-r.current.offsetLeft,l.current=r.current.scrollLeft,o.current=0,i.current=b.pageX,c.current=Date.now(),r.current.style.cursor="grabbing",cancelAnimationFrame(u.current)},[]),d=m.useCallback(b=>{if(!s.current)return;b.preventDefault();const j=Date.now(),k=j-c.current||1,x=b.pageX-i.current;o.current=x/k,i.current=b.pageX,c.current=j;const g=(b.pageX-r.current.offsetLeft-a.current)*1.2;r.current.scrollLeft=l.current-g},[]),f=m.useCallback(()=>{if(!s.current)return;s.current=!1,r.current&&(r.current.style.cursor="grab");let b=o.current*16;const j=()=>{r.current&&(b*=.93,!(Math.abs(b)<.5)&&(r.current.scrollLeft-=b,u.current=requestAnimationFrame(j)))};u.current=requestAnimationFrame(j)},[]),N=b=>{var j;(j=r.current)==null||j.scrollBy({left:b*-280,behavior:"smooth"})};return n.jsxs("div",{className:"carousel-wrapper",children:[n.jsx("button",{type:"button",className:"carousel-arrow carousel-arrow-start",onClick:()=>N(-1),"aria-label":"",children:n.jsx(Pm,{})}),n.jsx("div",{ref:r,className:"carousel-track",onMouseDown:p,onMouseMove:d,onMouseUp:f,onMouseLeave:f,children:e.map((b,j)=>{const k=st[j%st.length];return n.jsxs("button",{type:"button",draggable:!1,className:"carousel-card",onClick:()=>t(b.id),style:{"--accent":k},children:[n.jsx("div",{className:"carousel-card-accent-bar",style:{background:k}}),n.jsx("div",{className:"carousel-card-img-zone",children:n.jsx("img",{src:b.image,alt:b.name,draggable:!1,className:"carousel-card-img"})}),n.jsxs("div",{className:"carousel-card-info",children:[n.jsx("p",{className:"carousel-card-name",children:b.name}),n.jsx("p",{className:"carousel-card-teacher",children:b.teacher}),n.jsx("p",{className:"carousel-card-cta",style:{color:k},children:"  "})]}),n.jsx("div",{className:"carousel-card-hover-glow",style:{"--accent":k}})]},b.id)})}),n.jsx("button",{type:"button",className:"carousel-arrow carousel-arrow-end",onClick:()=>N(1),"aria-label":"",children:n.jsx(Oa,{})})]})}function rb({subjects:e,feedback:t,onTabChange:r}){const s=e.reduce((i,c)=>{var u;return i+(((u=c.homework)==null?void 0:u.length)||0)},0),a=e.reduce((i,c)=>i+(c.homework||[]).filter(u=>u.status==="").length,0),l=t[0]||null,o=l?nn[l.category]||nn.:null;return n.jsxs("div",{className:"summary-cards-row",children:[n.jsxs("div",{className:"summary-card",children:[n.jsxs("div",{className:"summary-card-header",children:[n.jsx("div",{className:"summary-card-icon",style:{background:"#F0FDF4",color:"#00C853"},children:""}),n.jsxs("div",{children:[n.jsx("p",{className:"summary-card-title",children:""}),n.jsx("p",{className:"summary-card-sub",children:a>0?`${a}   ${s}`:`${s} `})]})]}),s>0&&n.jsx("div",{className:"summary-progress-track",children:n.jsx("div",{className:"summary-progress-fill",style:{width:`${s?a/s*100:0}%`,background:"#00C853"}})})]}),n.jsxs("button",{type:"button",className:"summary-card summary-card-clickable",onClick:()=>r(Te.notes),children:[n.jsxs("div",{className:"summary-card-header",children:[n.jsx("div",{className:"summary-card-icon",style:{background:"#FFF7ED",color:"#F97316"},children:""}),n.jsxs("div",{children:[n.jsx("p",{className:"summary-card-title",children:""}),n.jsxs("p",{className:"summary-card-sub",children:[t.length,"    "]})]})]}),l?n.jsxs("div",{className:"summary-feedback-preview",children:[n.jsxs("div",{className:"summary-feedback-top",children:[n.jsx("span",{className:"summary-feedback-subject",children:l.subjectName}),n.jsx("span",{className:"summary-feedback-badge",style:{background:o.bg,color:o.c},children:l.category}),n.jsx("span",{className:"summary-feedback-date",children:pn(l.date)})]}),n.jsx("p",{className:"summary-feedback-text clamp-2",children:l.preview})]}):n.jsx("p",{className:"summary-empty-hint",children:"   "})]})]})}function nb({studentName:e,className:t,avatarUrl:r}){const s=new Date().getHours(),a=s<12?" ":s<17?" ":" ";return n.jsxs("div",{className:"welcome-card",children:[n.jsx("div",{className:"welcome-card-bg"}),n.jsxs("div",{className:"welcome-card-content",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"welcome-greeting",children:[a,""]}),n.jsx("h1",{className:"welcome-name",children:e}),t&&n.jsxs("p",{className:"welcome-class",children:[" ",t]}),n.jsx("p",{className:"welcome-subtitle",children:"     "})]}),n.jsx("div",{className:"welcome-avatar-wrap",children:r?n.jsx("img",{src:r,alt:e,className:"welcome-avatar"}):n.jsx("div",{className:"welcome-avatar-placeholder",children:(e==null?void 0:e[0])||""})})]})]})}function sb({portalData:e,subjects:t,onSelectSubject:r,onTabChange:s}){const a=(e==null?void 0:e.recentFeedback)||[],l=e==null?void 0:e.weeklySnapshot,o=a.slice(0,3);return n.jsxs("div",{className:"tab-content fade-in-up",children:[n.jsx(rb,{subjects:t,feedback:a,onTabChange:s}),n.jsxs("section",{className:"section-block",children:[n.jsxs("div",{className:"section-header",children:[n.jsx("h2",{className:"section-title-premium",children:" "}),n.jsx("p",{className:"section-subtitle-premium",children:"    "})]}),t.length>0?n.jsx(tb,{subjects:t,onSelect:r}):n.jsx("div",{className:"empty-card",children:n.jsx("p",{className:"empty-title",children:"   "})})]}),n.jsxs("div",{className:"dashboard-bottom-grid",children:[n.jsxs("div",{className:"section-block",children:[n.jsxs("div",{className:"section-header",children:[n.jsx("h3",{className:"section-title-sm",children:" "}),a.length>0&&n.jsxs("button",{type:"button",className:"view-all-btn",onClick:()=>s(Te.notes),children:["  (",a.length,")"]})]}),o.length?n.jsx("div",{className:"notes-list",children:o.map(i=>{const c=nn[i.category]||nn.;return n.jsxs("div",{className:"note-row",children:[n.jsx("div",{className:"note-dot",style:{background:c.c}}),n.jsxs("div",{className:"note-body",children:[n.jsxs("div",{className:"note-header",children:[n.jsx("span",{className:"note-subject",children:i.subjectName}),n.jsx("span",{className:"note-badge",style:{background:c.bg,color:c.c},children:i.category})]}),n.jsx("p",{className:"note-preview clamp-2",children:i.preview})]}),n.jsx("span",{className:"note-date",children:pn(i.date)})]},i.id)})}):n.jsx("div",{className:"empty-card-sm",children:n.jsx("p",{className:"empty-hint",children:"   "})})]}),l&&n.jsxs("div",{className:"ai-entry-card",onClick:()=>s(Te.ai),children:[n.jsx("div",{className:"ai-entry-icon",children:""}),n.jsxs("div",{className:"ai-entry-info",children:[n.jsx("p",{className:"ai-entry-title",children:"  "}),n.jsxs("p",{className:"ai-entry-sub",children:[Q0[l.academicDirection]||"",l.riskStatus&&`   ${(Tm[l.riskStatus]||{}).label||""}`]})]}),n.jsx("div",{className:"ai-entry-arrow",children:n.jsx(Oa,{})})]})]})]})}function ab({subjects:e}){const[t,r]=m.useState(0),s=e[t],a=m.useMemo(()=>{if(!s)return 0;const i=s.grades||[],c=i.reduce((p,d)=>p+Number(d.score||0),0),u=i.reduce((p,d)=>p+Number(d.outOf||0),0);return u?c/u*100:0},[s,t]),l=a>=90?{label:"",color:"#00C853",bg:"#F0FDF4"}:a>=80?{label:" ",color:"#2C7BE5",bg:"#EFF6FF"}:a>=70?{label:"",color:"#FFB300",bg:"#FFFBEB"}:a>=60?{label:"",color:"#F97316",bg:"#FFF7ED"}:{label:" ",color:"#D32F2F",bg:"#FEF2F2"};if(!e.length)return n.jsx("div",{className:"tab-content fade-in-up",children:n.jsx("div",{className:"empty-card",children:n.jsx("p",{className:"empty-title",children:"  "})})});const o=(s==null?void 0:s.grades)||[];return o.filter(i=>i.type==="exam"||!i.type),o.filter(i=>i.type==="assignment"),o.filter(i=>i.type==="quiz"),n.jsxs("div",{className:"tab-content fade-in-up",children:[n.jsxs("div",{className:"tab-page-header",children:[n.jsx("h2",{className:"tab-page-title",children:""}),n.jsx("p",{className:"tab-page-sub",children:"    "})]}),n.jsx("div",{className:"subject-pills-scroll",children:e.map((i,c)=>{const u=st[c%st.length];return n.jsxs("button",{type:"button",onClick:()=>r(c),className:`subject-pill ${t===c?"subject-pill-active":""}`,style:t===c?{background:u,borderColor:u,color:"#fff"}:{},children:[n.jsx("img",{src:i.image,alt:"",className:"subject-pill-img"}),i.name]},i.id)})}),s&&n.jsxs("div",{className:"grades-display fade-in-up",children:[n.jsxs("div",{className:"grade-subject-header",children:[n.jsxs("div",{className:"grade-subject-left",children:[n.jsx("img",{src:s.image,alt:s.name,className:"grade-subject-img"}),n.jsxs("div",{children:[n.jsx("h3",{className:"grade-subject-name",children:s.name}),n.jsx("p",{className:"grade-subject-teacher",children:s.teacher})]})]}),n.jsxs("div",{className:"grade-subject-right",children:[n.jsx("span",{className:"grade-badge",style:{background:l.bg,color:l.color},children:l.label}),n.jsxs("p",{className:"grade-avg",style:{color:st[t%st.length]},children:[St(a,1),""]})]})]}),n.jsx("div",{className:"grade-progress-wrap",children:n.jsx("div",{className:"grade-progress-track",children:n.jsx("div",{className:"grade-progress-fill",style:{width:`${a}%`,background:st[t%st.length]}})})}),o.length===0?n.jsx("div",{className:"empty-card-sm",children:n.jsx("p",{className:"empty-hint",children:"   "})}):n.jsx("div",{className:"grades-table-wrap",children:n.jsxs("table",{className:"grades-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:""}),n.jsx("th",{children:""}),n.jsx("th",{children:" "}),n.jsx("th",{children:""})]})}),n.jsx("tbody",{children:o.map((i,c)=>{const u=i.outOf?Number(i.score)/Number(i.outOf)*100:0,p=u>=90?"#00C853":u>=70?"#2C7BE5":u>=50?"#FFB300":"#D32F2F";return n.jsxs("tr",{className:"grade-row",children:[n.jsx("td",{className:"grade-cell-name",children:i.name||i.label||` ${c+1}`}),n.jsx("td",{className:"grade-cell-score",style:{color:p},children:i.score}),n.jsx("td",{className:"grade-cell-out",children:i.outOf}),n.jsx("td",{children:n.jsxs("span",{className:"grade-pct-badge",style:{background:`${p}15`,color:p},children:[St(u,1),""]})})]},c)})})]})})]},s.id)]})}function lb({token:e}){const[t,r]=m.useState(!0),[s,a]=m.useState(""),[l,o]=m.useState({className:"",entries:[],schoolDays:[1,2,3,4,5]});m.useEffect(()=>{let p=!0;return(async()=>{try{r(!0),a("");const f=await cm(e);if(!p)return;o({className:f.className||"",entries:f.entries||[],schoolDays:f.schoolDays||[1,2,3,4,5]})}catch(f){p&&a((f==null?void 0:f.message)||"   .")}finally{p&&r(!1)}})(),()=>{p=!1}},[e]);const i=m.useMemo(()=>[...new Set((l.entries||[]).map(d=>`${d.startTime}-${d.endTime}`))].sort((d,f)=>String(d).localeCompare(String(f))),[l.entries]),c=m.useMemo(()=>{const p={};return(l.entries||[]).forEach(d=>{p[`${d.dayOfWeek}-${d.startTime}-${d.endTime}`]=d}),p},[l.entries]),u=m.useMemo(()=>{const p={};let d=0;return(l.entries||[]).forEach(f=>{f.subject&&!p[f.subject]&&(p[f.subject]=wu[d%wu.length],d++)}),p},[l.entries]);return n.jsxs("div",{className:"tab-content fade-in-up",children:[n.jsxs("div",{className:"tab-page-header",children:[n.jsx("h2",{className:"tab-page-title",children:" "}),l.className&&n.jsxs("p",{className:"tab-page-sub",children:[" ",l.className]})]}),s&&n.jsx("div",{className:"error-banner-premium",children:s}),t?n.jsx("div",{className:"sched-skeleton",children:[1,2,3,4].map(p=>n.jsx("div",{className:"skeleton-row"},p))}):l.entries.length?n.jsx("div",{className:"schedule-card",children:n.jsx("div",{className:"schedule-table-wrap",children:n.jsxs("table",{className:"schedule-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{className:"sched-time-col",children:""}),l.schoolDays.map(p=>n.jsx("th",{className:"sched-day-col",children:Y0[p]||p},p))]})}),n.jsx("tbody",{children:i.map((p,d)=>{const[f,N]=p.split("-");return n.jsxs("tr",{className:`sched-row ${d%2===0?"":"sched-row-alt"}`,children:[n.jsxs("td",{className:"sched-time",children:[f,"  ",N]}),l.schoolDays.map(b=>{const j=c[`${b}-${f}-${N}`],k=j?u[j.subject]||"#2C7BE5":null;return n.jsx("td",{className:"sched-cell",children:j?n.jsxs("div",{className:"sched-entry",style:{borderRightColor:k},children:[n.jsx("p",{className:"sched-entry-subject",children:j.subject}),j.teacherName&&n.jsx("p",{className:"sched-entry-teacher",children:j.teacherName}),j.room&&n.jsx("p",{className:"sched-entry-room",children:j.room})]}):n.jsx("div",{className:"sched-empty-cell"})},`${b}-${p}`)})]},p)})})]})})}):n.jsxs("div",{className:"empty-card",children:[n.jsx("div",{className:"empty-icon",children:""}),n.jsx("p",{className:"empty-title",children:"    "}),n.jsx("p",{className:"empty-hint",children:"       ."})]})]})}function Su({pct:e=0,color:t="#2C7BE5",size:r=80,stroke:s=6}){const a=(r-s)/2,l=2*Math.PI*a,o=e/100*l;return n.jsxs("svg",{width:r,height:r,style:{transform:"rotate(-90deg)",flexShrink:0},children:[n.jsx("circle",{cx:r/2,cy:r/2,r:a,fill:"none",stroke:"#F1F5F9",strokeWidth:s}),n.jsx("circle",{cx:r/2,cy:r/2,r:a,fill:"none",stroke:t,strokeWidth:s,strokeDasharray:`${o} ${l}`,strokeLinecap:"round",style:{transition:"stroke-dasharray 1.2s cubic-bezier(0.16,1,0.3,1)"}})]})}function ob({snap:e,subjects:t,portalData:r}){if(!e)return n.jsx("div",{className:"tab-content fade-in-up",children:n.jsxs("div",{className:"empty-card",children:[n.jsx("div",{className:"empty-icon",children:""}),n.jsx("p",{className:"empty-title",children:"    "}),n.jsx("p",{className:"empty-hint",children:"      ."})]})});const s=Tm[e.riskStatus]||{label:e.riskStatus||"",color:"#475569"},a=G0[e.parentEngagementStatus]||e.parentEngagementStatus||"",l={active:"#00C853",moderate:"#FFB300",low:"#D32F2F"}[e.parentEngagementStatus]||"#64748B",o={active:88,moderate:55,low:20}[e.parentEngagementStatus]||50,i={low:25,medium:60,high:90}[e.riskStatus]||50,c=(t||[]).map(j=>{const k=j.grades||[],x=k.reduce((w,S)=>w+Number(S.score||0),0),h=k.reduce((w,S)=>w+Number(S.outOf||0),0),g=h?x/h*100:null;return{...j,avg:g}}).filter(j=>j.avg!==null).sort((j,k)=>k.avg-j.avg),u=(t||[]).flatMap(j=>j.grades||[]),p=u.reduce((j,k)=>j+Number(k.score||0),0),d=u.reduce((j,k)=>j+Number(k.outOf||0),0),f=d?p/d*100:0;r!=null&&r.recentFeedback;const N={improving:{label:"  ",bg:"#F0FDF4",color:"#00C853"},declining:{label:"  ",bg:"#FEF2F2",color:"#D32F2F"},stable:{label:" ",bg:"#F8FAFC",color:"#64748B"}},b=N[e.academicDirection]||N.stable;return n.jsxs("div",{className:"tab-content fade-in-up",children:[n.jsxs("div",{className:"tab-page-header",children:[n.jsx("h2",{className:"tab-page-title",children:"   "}),n.jsx("p",{className:"tab-page-sub",children:"   "})]}),n.jsxs("div",{className:"ai-kpi-row",children:[n.jsxs("div",{className:"ai-kpi-card",children:[n.jsxs("p",{className:"ai-kpi-value",style:{color:"#2C7BE5"},children:[St(f,1),""]}),n.jsx("p",{className:"ai-kpi-label",children:" "})]}),n.jsxs("div",{className:"ai-kpi-card",children:[n.jsx("p",{className:"ai-kpi-value",style:{color:b.color},children:b.label}),n.jsx("p",{className:"ai-kpi-label",children:" "})]}),n.jsxs("div",{className:"ai-kpi-card",children:[n.jsx("p",{className:"ai-kpi-value",style:{color:s.color},children:s.label}),n.jsx("p",{className:"ai-kpi-label",children:" "})]}),n.jsxs("div",{className:"ai-kpi-card",children:[n.jsx("p",{className:"ai-kpi-value",style:{color:l},children:a}),n.jsx("p",{className:"ai-kpi-label",children:"  "})]})]}),n.jsxs("div",{className:"ai-main-grid",children:[n.jsxs("div",{className:"ai-left-col",children:[c.length>0&&n.jsxs("div",{className:"ai-block",children:[n.jsx("h3",{className:"ai-block-title",children:"   "}),n.jsx("div",{className:"ai-bars-list",children:c.map((j,k)=>{const x=st[k%st.length],h=j.avg??0,g=h>=90?"":h>=80?" ":h>=70?"":h>=60?"":" ";return n.jsxs("div",{className:"ai-bar-row",children:[n.jsx("img",{src:j.image,alt:j.name,className:"ai-bar-img"}),n.jsxs("div",{className:"ai-bar-info",children:[n.jsxs("div",{className:"ai-bar-header",children:[n.jsx("span",{className:"ai-bar-name",children:j.name}),n.jsxs("div",{className:"ai-bar-meta",children:[n.jsx("span",{className:"ai-bar-badge",style:{background:`${x}18`,color:x},children:g}),n.jsxs("span",{className:"ai-bar-pct",style:{color:x},children:[St(h,1),""]})]})]}),n.jsx("div",{className:"ai-bar-track",children:n.jsx("div",{className:"ai-bar-fill grade-fill",style:{width:`${h}%`,background:x}})})]})]},j.id)})})]}),e.attendancePattern&&n.jsxs("div",{className:"ai-block",style:{borderTop:"2px solid #2C7BE5"},children:[n.jsx("h3",{className:"ai-block-title",children:"  "}),n.jsx("p",{className:"ai-block-text",children:e.attendancePattern})]})]}),n.jsxs("div",{className:"ai-right-col",children:[n.jsxs("div",{className:"ai-block",children:[n.jsx("h3",{className:"ai-block-title",children:"  "}),n.jsxs("div",{className:"ai-gauges",children:[n.jsxs("div",{className:"ai-gauge-row",children:[n.jsx(Su,{pct:i,color:s.color,size:72,stroke:6}),n.jsxs("div",{children:[n.jsx("p",{className:"ai-gauge-label",children:"  "}),n.jsx("p",{className:"ai-gauge-value",style:{color:s.color},children:s.label})]})]}),n.jsx("div",{className:"ai-gauge-divider"}),n.jsxs("div",{className:"ai-gauge-row",children:[n.jsx(Su,{pct:o,color:l,size:72,stroke:6}),n.jsxs("div",{children:[n.jsx("p",{className:"ai-gauge-label",children:"  "}),n.jsx("p",{className:"ai-gauge-value",style:{color:l},children:a})]})]})]})]}),c.length>0&&n.jsxs("div",{className:"ai-block",children:[n.jsx("h3",{className:"ai-block-title",children:"   "}),n.jsx("div",{className:"ai-top-subjects",children:c.slice(0,4).map((j,k)=>{const x=["","","",""];return n.jsxs("div",{className:"ai-top-row",children:[n.jsx("span",{className:"ai-top-medal",children:x[k]||""}),n.jsx("span",{className:"ai-top-name",children:j.name}),n.jsxs("span",{className:"ai-top-pct",style:{color:st[k%st.length]},children:[St(j.avg,1),""]})]},j.id)})})]})]})]})]})}function ib({feedback:e}){const[t,r]=m.useState({}),s=a=>r(l=>({...l,[a]:!l[a]}));return n.jsxs("div",{className:"tab-content fade-in-up",children:[n.jsxs("div",{className:"tab-page-header",children:[n.jsx("h2",{className:"tab-page-title",children:""}),n.jsx("span",{className:"tab-count-badge",children:e.length})]}),e.length?n.jsx("div",{className:"notes-grid",children:e.map(a=>{const l=nn[a.category]||nn.,o=t[a.id],i=(a.preview||"").length>120;return n.jsxs("div",{className:"note-card",children:[n.jsxs("div",{className:"note-card-header",children:[n.jsxs("div",{children:[n.jsx("p",{className:"note-card-subject",children:a.subjectName}),n.jsx("p",{className:"note-card-date",children:pn(a.date)})]}),n.jsx("span",{className:"note-card-badge",style:{background:l.bg,color:l.c},children:a.category})]}),n.jsx("p",{className:`note-card-text ${o||!i?"":"clamp-3"}`,children:a.preview}),i&&n.jsx("button",{type:"button",className:"note-expand-btn",onClick:()=>s(a.id),children:o?"":" "})]},a.id)})}):n.jsxs("div",{className:"empty-card",children:[n.jsx("div",{className:"empty-icon",children:""}),n.jsx("p",{className:"empty-title",children:"  "}),n.jsx("p",{className:"empty-hint",children:"   ."})]})]})}function cb({portalData:e,subjects:t,user:r,avatarUrl:s,studentName:a,className:l,onTabChange:o}){const i=t.flatMap(f=>f.grades||[]),c=i.reduce((f,N)=>f+Number(N.score||0),0),u=i.reduce((f,N)=>f+Number(N.outOf||0),0),p=u?c/u*100:0,d=(e==null?void 0:e.recentFeedback)||[];return n.jsxs("div",{className:"tab-content fade-in-up",children:[n.jsx("div",{className:"tab-page-header",children:n.jsx("h2",{className:"tab-page-title",children:" "})}),n.jsxs("div",{className:"profile-layout",children:[n.jsxs("div",{className:"profile-card",children:[n.jsx("div",{className:"profile-avatar-wrap",children:s?n.jsx("img",{src:s,alt:a,className:"profile-avatar"}):n.jsx("div",{className:"profile-avatar-placeholder",children:(a==null?void 0:a[0])||""})}),n.jsx("h3",{className:"profile-name",children:a}),l&&n.jsxs("p",{className:"profile-class",children:[" ",l]}),(r==null?void 0:r.email)&&n.jsx("p",{className:"profile-email",children:r.email})]}),n.jsxs("div",{className:"profile-stats-col",children:[n.jsxs("div",{className:"profile-stat-card",children:[n.jsx("span",{className:"profile-stat-icon",children:""}),n.jsxs("div",{children:[n.jsxs("p",{className:"profile-stat-value",style:{color:"#2C7BE5"},children:[St(p,1),""]}),n.jsx("p",{className:"profile-stat-label",children:" "})]})]}),n.jsxs("div",{className:"profile-stat-card",children:[n.jsx("span",{className:"profile-stat-icon",children:""}),n.jsxs("div",{children:[n.jsx("p",{className:"profile-stat-value",style:{color:"#8B5CF6"},children:t.length}),n.jsx("p",{className:"profile-stat-label",children:" "})]})]}),n.jsxs("div",{className:"profile-stat-card",children:[n.jsx("span",{className:"profile-stat-icon",children:""}),n.jsxs("div",{children:[n.jsx("p",{className:"profile-stat-value",style:{color:"#F97316"},children:d.length}),n.jsx("p",{className:"profile-stat-label",children:""})]})]}),n.jsxs("button",{type:"button",className:"profile-ai-btn",onClick:()=>o(Te.ai),children:[n.jsx("span",{children:""}),n.jsx("span",{children:"  "}),n.jsx(Oa,{})]})]})]})]})}function ub(){var B,T,_,I;const e=ur(),{token:t,user:r,logout:s}=xe(),[a,l]=m.useState(!0),[o,i]=m.useState(""),[c,u]=m.useState(null),[p,d]=m.useState(Te.dashboard),[f,N]=m.useState(null);m.useEffect(()=>{let L=!0;return t?(async()=>{try{l(!0),i("");const P=await iv(t);if(!L)return;u({...P,subjects:K0((P.subjects||[]).map(W=>({...W,image:H0(W.name),feedbackItems:(W.feedbackItems||[]).map(Q=>({...Q,category:Nu(Q.category)}))}))),recentFeedback:(P.recentFeedback||[]).map(W=>({...W,category:Nu(W.category)}))})}catch(P){L&&(i((P==null?void 0:P.message)||"  ."),u(null))}finally{L&&l(!1)}})():l(!1),()=>{L=!1}},[t]);const b=(c==null?void 0:c.subjects)||[],j=m.useMemo(()=>f&&b.find(L=>L.id===f)||null,[f,b]),k=()=>{s(),e("/login",{replace:!0})},x=L=>{N(L)},h=()=>{N(null)},g=((B=c==null?void 0:c.student)==null?void 0:B.name)||(r==null?void 0:r.name)||"",w=((T=c==null?void 0:c.student)==null?void 0:T.className)||((_=r==null?void 0:r.classes)==null?void 0:_[0])||"",S=((I=c==null?void 0:c.student)==null?void 0:I.avatarUrl)||(r==null?void 0:r.profilePicture)||"",F=((c==null?void 0:c.recentFeedback)||[]).length;if(j)return n.jsx(R0,{subject:j,allSubjects:b,subjectDetails:{},recentFeedback:(c==null?void 0:c.recentFeedback)||[],onBack:h,onSwitch:L=>N(L)});const M=L=>{d(L),window.scrollTo({top:0,behavior:"smooth"})};return n.jsxs(n.Fragment,{children:[n.jsx("style",{children:db}),n.jsxs("main",{dir:"rtl",className:"portal-root",children:[n.jsx(q0,{studentName:g,avatarUrl:S,notifCount:F,onLogout:k}),n.jsxs("div",{className:"portal-content",children:[n.jsx(nb,{studentName:g,className:w,avatarUrl:S}),n.jsx(eb,{activeTab:p,onTabChange:M}),o&&n.jsx("div",{className:"error-banner-premium",children:o}),a?n.jsxs("div",{className:"loading-grid",children:[n.jsx("div",{className:"loading-bar",style:{height:88}}),n.jsx("div",{className:"loading-row",children:[1,2,3,4].map(L=>n.jsx("div",{className:"skeleton-card"},L))}),n.jsx("div",{className:"loading-bar",style:{height:240}})]}):n.jsxs(n.Fragment,{children:[p===Te.dashboard&&n.jsx(sb,{portalData:c,subjects:b,onSelectSubject:x,onTabChange:M}),p===Te.grades&&n.jsx(ab,{subjects:b}),p===Te.schedule&&n.jsx(lb,{token:t}),p===Te.ai&&n.jsx(ob,{snap:c==null?void 0:c.weeklySnapshot,subjects:b,portalData:c}),p===Te.notes&&n.jsx(ib,{feedback:(c==null?void 0:c.recentFeedback)||[]}),p===Te.profile&&n.jsx(cb,{portalData:c,subjects:b,user:r,avatarUrl:S,studentName:g,className:w,onTabChange:M})]})]})]})]})}const db=`
/*  Root  */
.portal-root {
  min-height: 100dvh;
  background: #F5F6FA;
  font-family: 'Cairo', sans-serif;
}

/*  Top Nav  slim identity bar only  */
.premium-topnav {
  position: sticky;
  top: 0;
  z-index: 50;
  background: rgba(255,255,255,0.97);
  backdrop-filter: blur(12px);
  border-bottom: 1px solid #E8ECF4;
  box-shadow: 0 1px 8px rgba(15,23,42,0.05);
}
.premium-topnav-inner {
  max-width: 1360px;
  margin: 0 auto;
  padding: 0 32px;
  height: 52px;
  display: flex;
  align-items: center;
  gap: 16px;
}
.nav-identity {
  display: flex;
  align-items: center;
  gap: 10px;
  flex-shrink: 0;
}
.nav-avatar {
  width: 32px; height: 32px;
  border-radius: 50%;
  object-fit: cover;
  border: 2px solid #E8ECF4;
}
.nav-avatar-placeholder {
  width: 32px; height: 32px;
  border-radius: 50%;
  background: #EFF6FF;
  border: 2px solid #BFDBFE;
  display: flex; align-items: center; justify-content: center;
  font-weight: 700; font-size: 13px; color: #2C7BE5;
}
.nav-student-name { font-size: 13px; font-weight: 700; color: #0F172A; }
.nav-actions { display: flex; align-items: center; gap: 6px; }
.nav-action-btn {
  display: flex; align-items: center; gap: 6px;
  padding: 6px 10px;
  border: 1px solid #E8ECF4; border-radius: 8px;
  background: #F8FAFC; cursor: pointer;
  font-family: 'Cairo', sans-serif; font-size: 13px; font-weight: 600; color: #475569;
  transition: all 180ms ease;
}
.nav-action-btn:hover { background: #EFF6FF; border-color: #BFDBFE; color: #2C7BE5; transform: translateY(-1px); }
.nav-badge {
  position: absolute; top: -4px; left: -4px;
  min-width: 16px; height: 16px;
  background: #D32F2F; color: #fff;
  font-size: 9px; font-weight: 700; border-radius: 999px;
  display: flex; align-items: center; justify-content: center; padding: 0 3px;
}
.nav-logout { color: #D32F2F; }
.nav-logout:hover { background: #FEF2F2 !important; border-color: #FECACA !important; color: #D32F2F !important; }
.nav-logout-label { font-size: 13px; }

/*  Tab Bar  below welcome card  */
.tabbar-wrap {
  position: relative;
  display: flex;
  align-items: center;
  background: #fff;
  border: 1px solid #E8ECF4;
  border-radius: 16px;
  padding: 6px;
  margin-bottom: 28px;
  box-shadow: 0 2px 12px rgba(15,23,42,0.05);
  gap: 4px;
}
.tabbar-inner {
  flex: 1;
  display: flex;
  align-items: center;
  gap: 4px;
  overflow-x: auto;
  scrollbar-width: none;
  scroll-behavior: smooth;
}
.tabbar-inner::-webkit-scrollbar { display: none; }
.tabbar-tab {
  position: relative;
  display: flex; align-items: center; gap: 8px;
  padding: 10px 18px;
  border: none; background: none; cursor: pointer;
  font-family: 'Cairo', sans-serif;
  font-size: 14px; font-weight: 600;
  color: #64748B;
  border-radius: 11px;
  transition: color 200ms ease, background 200ms ease;
  white-space: nowrap;
  flex-shrink: 0;
}
.tabbar-tab:hover { color: #0F172A; background: #F8FAFC; }
.tabbar-tab-active {
  color: #2C7BE5 !important;
  background: #EFF6FF !important;
  font-weight: 700;
}
.tabbar-icon { font-size: 16px; }
.tabbar-underline {
  position: absolute;
  bottom: 4px; left: 12px; right: 12px;
  height: 2px;
  background: #2C7BE5;
  border-radius: 2px;
  animation: slideIn 220ms cubic-bezier(0.16,1,0.3,1);
}
@keyframes slideIn {
  from { transform: scaleX(0); opacity: 0; }
  to   { transform: scaleX(1); opacity: 1; }
}
/* Scroll arrows inside tabbar */
.tabbar-scroll-arrow {
  flex-shrink: 0;
  width: 32px; height: 32px;
  border-radius: 8px;
  border: 1px solid #E8ECF4;
  background: #F8FAFC;
  display: flex; align-items: center; justify-content: center;
  cursor: pointer;
  color: #64748B;
  transition: all 180ms ease;
  animation: fadeUp 200ms ease;
}
.tabbar-scroll-arrow:hover {
  background: #EFF6FF;
  border-color: #BFDBFE;
  color: #2C7BE5;
}

/*  Summary Cards (2-card row)  */
.summary-cards-row {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 16px;
  margin-bottom: 28px;
}
@media (max-width: 600px) { .summary-cards-row { grid-template-columns: 1fr; } }
.summary-card {
  background: #fff;
  border: 1px solid #E8ECF4;
  border-radius: 16px;
  padding: 18px 20px;
  box-shadow: 0 2px 12px rgba(15,23,42,0.05);
  animation: fadeUp 350ms ease both;
  text-align: right;
}
.summary-card-clickable {
  cursor: pointer;
  transition: transform 200ms ease, box-shadow 200ms ease;
  font-family: 'Cairo', sans-serif;
  width: 100%;
}
.summary-card-clickable:hover {
  transform: translateY(-3px);
  box-shadow: 0 8px 24px rgba(15,23,42,0.09);
  border-color: #F97316;
}
.summary-card-header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 12px;
}
.summary-card-icon {
  width: 40px; height: 40px;
  border-radius: 11px;
  display: flex; align-items: center; justify-content: center;
  font-size: 19px;
  flex-shrink: 0;
}
.summary-card-title {
  font-size: 15px; font-weight: 700; color: #0F172A; margin: 0 0 2px;
}
.summary-card-sub {
  font-size: 12px; color: #64748B; margin: 0;
}
.summary-progress-track {
  height: 7px;
  background: #F1F5F9;
  border-radius: 999px;
  overflow: hidden;
}
.summary-progress-fill {
  height: 100%;
  border-radius: 999px;
  transition: width 900ms cubic-bezier(0.16,1,0.3,1);
}
.summary-feedback-preview {
  background: #FFF7ED;
  border: 1px solid #FED7AA;
  border-radius: 10px;
  padding: 10px 12px;
}
.summary-feedback-top {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 6px;
  flex-wrap: wrap;
}
.summary-feedback-subject { font-size: 12px; font-weight: 700; color: #0F172A; }
.summary-feedback-badge {
  font-size: 10px; font-weight: 700;
  padding: 2px 7px; border-radius: 999px;
}
.summary-feedback-date { font-size: 11px; color: #94A3B8; margin-right: auto; }
.summary-feedback-text { font-size: 12px; color: #64748B; line-height: 1.6; margin: 0; }
.summary-empty-hint { font-size: 13px; color: #94A3B8; margin: 0; text-align: center; padding: 8px 0; }
.portal-content {
  max-width: 1360px;
  margin: 0 auto;
  padding: 24px 32px 48px;
}

/*  Welcome Card  */
.welcome-card {
  position: relative;
  background: linear-gradient(135deg, #1E3A8A 0%, #2C7BE5 60%, #38BDF8 100%);
  border-radius: 20px;
  padding: 32px 36px;
  margin-bottom: 28px;
  overflow: hidden;
}
.welcome-card-bg {
  position: absolute;
  inset: 0;
  background: radial-gradient(ellipse at 80% 50%, rgba(255,255,255,0.12) 0%, transparent 60%);
  pointer-events: none;
}
.welcome-card::before {
  content: '';
  position: absolute;
  top: -40px; right: -40px;
  width: 200px; height: 200px;
  border-radius: 50%;
  background: rgba(255,255,255,0.07);
  pointer-events: none;
}
.welcome-card::after {
  content: '';
  position: absolute;
  bottom: -60px; left: -20px;
  width: 160px; height: 160px;
  border-radius: 50%;
  background: rgba(255,255,255,0.05);
  pointer-events: none;
}
.welcome-card-content {
  position: relative;
  z-index: 1;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 20px;
}
.welcome-greeting {
  font-size: 14px;
  color: rgba(255,255,255,0.75);
  margin: 0 0 4px;
}
.welcome-name {
  font-size: 28px;
  font-weight: 800;
  color: #fff;
  margin: 0 0 4px;
}
.welcome-class {
  font-size: 13px;
  color: rgba(255,255,255,0.75);
  margin: 0 0 8px;
}
.welcome-subtitle {
  font-size: 13px;
  color: rgba(255,255,255,0.6);
  margin: 0;
}
.welcome-avatar-wrap {
  flex-shrink: 0;
}
.welcome-avatar {
  width: 72px; height: 72px;
  border-radius: 50%;
  object-fit: cover;
  border: 3px solid rgba(255,255,255,0.4);
}
.welcome-avatar-placeholder {
  width: 72px; height: 72px;
  border-radius: 50%;
  background: rgba(255,255,255,0.2);
  border: 3px solid rgba(255,255,255,0.4);
  display: flex; align-items: center; justify-content: center;
  font-size: 28px; font-weight: 800; color: #fff;
}

/*  Section Block  */
.section-block {
  margin-bottom: 32px;
}
.section-header {
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 16px;
}
.section-title-premium {
  font-size: 18px;
  font-weight: 700;
  color: #0F172A;
  margin: 0;
}
.section-subtitle-premium {
  font-size: 12px;
  color: #94A3B8;
  margin: 0;
}
.section-title-sm {
  font-size: 15px;
  font-weight: 700;
  color: #0F172A;
  margin: 0;
}
.view-all-btn {
  border: none;
  background: none;
  font-family: 'Cairo', sans-serif;
  font-size: 12px;
  font-weight: 700;
  color: #2C7BE5;
  cursor: pointer;
  padding: 0;
}
.view-all-btn:hover { opacity: 0.7; }

/*  Subject Carousel  */
.carousel-wrapper {
  position: relative;
  padding: 0 44px;
}
.carousel-arrow {
  position: absolute;
  top: 50%;
  transform: translateY(-60%); /* offset for padding-top on track */
  z-index: 3;
  width: 36px; height: 36px;
  border-radius: 50%;
  border: 1px solid #E8ECF4;
  background: #fff;
  display: flex; align-items: center; justify-content: center;
  cursor: pointer;
  transition: all 200ms ease;
  box-shadow: 0 2px 8px rgba(15,23,42,0.08);
  opacity: 0;
}
.carousel-wrapper:hover .carousel-arrow { opacity: 1; }
.carousel-arrow:hover {
  background: #2C7BE5;
  color: #fff;
  border-color: #2C7BE5;
  transform: translateY(-60%) scale(1.05);
}
.carousel-arrow-start { right: 0; }
.carousel-arrow-end { left: 0; }
.carousel-track {
  display: flex;
  gap: 16px;
  overflow-x: auto;
  overflow-y: visible; /* CRITICAL: allow cards to lift without clipping */
  scroll-snap-type: x mandatory;
  scrollbar-width: none;
  padding-top: 10px;   /* room for hover lift */
  padding-bottom: 12px;
  cursor: grab;
  user-select: none;
}
.carousel-track:active { cursor: grabbing; }
.carousel-track::-webkit-scrollbar { display: none; }
.carousel-card {
  flex: 0 0 200px;
  scroll-snap-align: start;
  background: #fff;
  border: 1px solid #E8ECF4;
  border-radius: 16px;
  overflow: hidden;
  cursor: pointer;
  text-align: right;
  position: relative;
  transition: transform 240ms cubic-bezier(0.16,1,0.3,1), box-shadow 240ms ease, border-color 240ms ease;
  box-shadow: 0 2px 10px rgba(15,23,42,0.05);
}
.carousel-card:hover {
  transform: translateY(-6px) scale(1.01);
  box-shadow: 0 16px 36px rgba(15,23,42,0.13);
  border-color: var(--accent);
}
.carousel-card:active { transform: scale(0.97); }
.carousel-card-accent-bar { height: 3px; width: 100%; }
.carousel-card-img-zone {
  display: flex; align-items: center; justify-content: center;
  padding: 20px 16px;
  background: #F8FAFC;
}
.carousel-card-img {
  width: 72px; height: 72px;
  object-fit: contain;
  transition: transform 240ms ease;
  pointer-events: none;
}
.carousel-card:hover .carousel-card-img { transform: scale(1.08); }
.carousel-card-info { padding: 12px 14px 14px; border-top: 1px solid #F1F5F9; }
.carousel-card-name {
  font-size: 13px; font-weight: 700; color: #0F172A;
  margin: 0 0 3px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
}
.carousel-card-teacher {
  font-size: 11px; color: #94A3B8;
  margin: 0 0 8px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
}
.carousel-card-cta { font-size: 11px; font-weight: 700; margin: 0; }
.carousel-card-hover-glow {
  position: absolute; inset: 0; border-radius: 16px; opacity: 0;
  transition: opacity 240ms ease;
  box-shadow: inset 0 0 0 2px var(--accent);
  pointer-events: none;
}
.carousel-card:hover .carousel-card-hover-glow { opacity: 1; }

/*  Dashboard Bottom Grid  */
.dashboard-bottom-grid {
  display: grid;
  grid-template-columns: minmax(0,2fr) minmax(0,1fr);
  gap: 24px;
  align-items: start;
}
@media (max-width: 800px) { .dashboard-bottom-grid { grid-template-columns: 1fr; } }

/*  Notes preview list  */
.notes-list { display: flex; flex-direction: column; gap: 8px; }
.note-row {
  display: flex;
  align-items: flex-start;
  gap: 12px;
  background: #fff;
  border: 1px solid #E8ECF4;
  border-radius: 12px;
  padding: 12px 14px;
  transition: box-shadow 200ms ease;
}
.note-row:hover { box-shadow: 0 4px 16px rgba(15,23,42,0.07); }
.note-dot { width: 8px; height: 8px; border-radius: 50%; flex-shrink: 0; margin-top: 5px; }
.note-body { flex: 1; min-width: 0; }
.note-header { display: flex; align-items: center; gap: 8px; margin-bottom: 4px; }
.note-subject { font-size: 13px; font-weight: 700; color: #0F172A; }
.note-badge { font-size: 10px; font-weight: 700; padding: 2px 7px; border-radius: 999px; }
.note-preview { font-size: 12px; color: #64748B; margin: 0; line-height: 1.6; }
.note-date { font-size: 11px; color: #94A3B8; flex-shrink: 0; }

/*  AI Entry Card  */
.ai-entry-card {
  display: flex;
  align-items: center;
  gap: 14px;
  background: #fff;
  border: 1px solid #E8ECF4;
  border-right: 3px solid #2C7BE5;
  border-radius: 16px;
  padding: 18px 20px;
  cursor: pointer;
  transition: all 220ms ease;
}
.ai-entry-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 20px rgba(44,123,229,0.12);
  border-right-color: #2C7BE5;
}
.ai-entry-icon {
  width: 40px; height: 40px;
  background: #EFF6FF;
  border: 1px solid #BFDBFE;
  border-radius: 10px;
  display: flex; align-items: center; justify-content: center;
  font-size: 18px;
  flex-shrink: 0;
}
.ai-entry-info { flex: 1; min-width: 0; }
.ai-entry-title { font-size: 14px; font-weight: 700; color: #0F172A; margin: 0 0 3px; }
.ai-entry-sub { font-size: 12px; color: #64748B; margin: 0; }
.ai-entry-arrow { color: #94A3B8; }

/*  Tab Content  */
.tab-content { animation: fadeUp 300ms ease-out both; }
@keyframes fadeUp {
  from { opacity: 0; transform: translateY(10px); }
  to   { opacity: 1; transform: translateY(0); }
}
.fade-in-up { animation: fadeUp 280ms ease-out both; }

/*  Tab Page Header  */
.tab-page-header {
  display: flex;
  align-items: baseline;
  gap: 14px;
  margin-bottom: 24px;
  flex-wrap: wrap;
}
.tab-page-title {
  font-size: 22px;
  font-weight: 800;
  color: #0F172A;
  margin: 0;
}
.tab-page-sub { font-size: 13px; color: #94A3B8; margin: 0; }
.tab-count-badge {
  font-size: 12px;
  font-weight: 700;
  background: #EFF6FF;
  color: #2C7BE5;
  border: 1px solid #BFDBFE;
  padding: 2px 10px;
  border-radius: 999px;
}

/*  Subject Pills  */
.subject-pills-scroll {
  display: flex;
  gap: 8px;
  overflow-x: auto;
  scrollbar-width: none;
  padding-bottom: 4px;
  margin-bottom: 24px;
}
.subject-pills-scroll::-webkit-scrollbar { display: none; }
.subject-pill {
  display: flex;
  align-items: center;
  gap: 7px;
  padding: 8px 16px;
  border: 1.5px solid #E8ECF4;
  border-radius: 999px;
  background: #fff;
  cursor: pointer;
  font-family: 'Cairo', sans-serif;
  font-size: 13px;
  font-weight: 600;
  color: #475569;
  white-space: nowrap;
  transition: all 220ms ease;
}
.subject-pill:hover { border-color: #BFDBFE; color: #0F172A; }
.subject-pill-active { box-shadow: 0 4px 12px rgba(44,123,229,0.2); }
.subject-pill-img { width: 20px; height: 20px; object-fit: contain; }

/*  Grades Display  */
.grades-display {
  background: #fff;
  border: 1px solid #E8ECF4;
  border-radius: 20px;
  overflow: hidden;
  box-shadow: 0 2px 14px rgba(15,23,42,0.06);
}
.grade-subject-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;
  padding: 22px 24px 20px;
  border-bottom: 1px solid #F1F5F9;
  flex-wrap: wrap;
}
.grade-subject-left {
  display: flex;
  align-items: center;
  gap: 14px;
}
.grade-subject-img { width: 48px; height: 48px; object-fit: contain; }
.grade-subject-name { font-size: 18px; font-weight: 800; color: #0F172A; margin: 0 0 3px; }
.grade-subject-teacher { font-size: 13px; color: #64748B; margin: 0; }
.grade-subject-right { display: flex; flex-direction: column; align-items: flex-end; gap: 4px; }
.grade-badge {
  font-size: 11px;
  font-weight: 700;
  padding: 3px 10px;
  border-radius: 999px;
}
.grade-avg { font-size: 28px; font-weight: 800; margin: 0; }
.grade-progress-wrap { padding: 0 24px 16px; }
.grade-progress-track {
  height: 8px;
  background: #F1F5F9;
  border-radius: 999px;
  overflow: hidden;
}
.grade-progress-fill {
  height: 100%;
  border-radius: 999px;
  transition: width 900ms cubic-bezier(0.16,1,0.3,1);
}

/*  Grades Table  */
.grades-table-wrap { padding: 0 24px 24px; overflow-x: auto; }
.grades-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 13px;
}
.grades-table th {
  text-align: right;
  padding: 10px 12px;
  font-size: 11px;
  font-weight: 700;
  color: #64748B;
  text-transform: uppercase;
  letter-spacing: 0.04em;
  border-bottom: 1px solid #F1F5F9;
}
.grade-row { transition: background 150ms ease; }
.grade-row:hover { background: #F8FAFC; }
.grade-row td { padding: 11px 12px; border-bottom: 1px solid #F8FAFC; }
.grade-row:last-child td { border-bottom: none; }
.grade-cell-name { font-weight: 600; color: #0F172A; }
.grade-cell-score { font-weight: 700; font-size: 15px; }
.grade-cell-out { color: #64748B; }
.grade-pct-badge {
  display: inline-flex;
  padding: 3px 10px;
  border-radius: 999px;
  font-size: 12px;
  font-weight: 700;
}

/*  Schedule  */
.schedule-card {
  background: #fff;
  border: 1px solid #E8ECF4;
  border-radius: 20px;
  overflow: hidden;
  box-shadow: 0 2px 14px rgba(15,23,42,0.06);
}
.schedule-table-wrap { overflow-x: auto; }
.schedule-table {
  width: 100%;
  min-width: 600px;
  border-collapse: collapse;
  text-align: right;
}
.schedule-table thead { background: #F8FAFC; border-bottom: 1px solid #E8ECF4; }
.sched-time-col { padding: 12px 16px; font-size: 11px; font-weight: 700; color: #64748B; text-transform: uppercase; width: 100px; }
.sched-day-col { padding: 12px 16px; font-size: 13px; font-weight: 700; color: #0F172A; }
.sched-row { border-bottom: 1px solid #F1F5F9; }
.sched-row:last-child { border-bottom: none; }
.sched-row-alt { background: #FAFBFC; }
.sched-time { padding: 10px 16px; font-size: 12px; font-weight: 700; color: #64748B; white-space: nowrap; }
.sched-cell { padding: 6px 8px; }
.sched-entry {
  background: #fff;
  border: 1px solid #E8ECF4;
  border-right-width: 3px;
  border-radius: 10px;
  padding: 8px 10px;
  transition: box-shadow 180ms ease;
}
.sched-entry:hover { box-shadow: 0 3px 12px rgba(15,23,42,0.07); }
.sched-entry-subject { font-size: 13px; font-weight: 700; color: #0F172A; margin: 0 0 2px; }
.sched-entry-teacher { font-size: 11px; color: #64748B; margin: 0; }
.sched-entry-room { font-size: 11px; color: #94A3B8; margin: 0; }
.sched-empty-cell { background: #F8FAFC; border: 1px dashed #E8ECF4; border-radius: 10px; height: 56px; }
.sched-skeleton { display: flex; flex-direction: column; gap: 10px; }
.skeleton-row { height: 56px; background: #E8ECF4; border-radius: 10px; animation: shimmer 1.2s ease-out infinite; background-size: 200% 100%; background-image: linear-gradient(90deg, #E8ECF4 0%, #F1F5F9 50%, #E8ECF4 100%); }
@keyframes shimmer { 0% { background-position: -200% 0; } 100% { background-position: 200% 0; } }

/*  AI Tab  */
.ai-kpi-row {
  display: grid;
  grid-template-columns: repeat(4,minmax(0,1fr));
  gap: 14px;
  margin-bottom: 24px;
}
@media (max-width: 900px) { .ai-kpi-row { grid-template-columns: repeat(2,1fr); } }
.ai-kpi-card {
  background: #fff;
  border: 1px solid #E8ECF4;
  border-radius: 14px;
  padding: 18px;
  transition: transform 200ms ease, box-shadow 200ms ease;
}
.ai-kpi-card:hover { transform: translateY(-2px); box-shadow: 0 6px 18px rgba(15,23,42,0.08); }
.ai-kpi-value { font-size: 20px; font-weight: 800; margin: 0 0 4px; }
.ai-kpi-label { font-size: 12px; color: #64748B; margin: 0; }
.ai-main-grid {
  display: grid;
  grid-template-columns: minmax(0,2fr) minmax(0,1fr);
  gap: 20px;
  align-items: start;
}
@media (max-width: 900px) { .ai-main-grid { grid-template-columns: 1fr; } }
.ai-left-col, .ai-right-col { display: flex; flex-direction: column; gap: 16px; }
.ai-block {
  background: #fff;
  border: 1px solid #E8ECF4;
  border-radius: 16px;
  padding: 20px;
}
.ai-block-title { font-size: 15px; font-weight: 700; color: #0F172A; margin: 0 0 16px; }
.ai-block-text { font-size: 14px; color: #475569; line-height: 1.7; margin: 0; }
.ai-bars-list { display: flex; flex-direction: column; gap: 14px; }
.ai-bar-row { display: flex; align-items: center; gap: 12px; }
.ai-bar-img { width: 32px; height: 32px; object-fit: contain; flex-shrink: 0; }
.ai-bar-info { flex: 1; min-width: 0; }
.ai-bar-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 6px; }
.ai-bar-name { font-size: 13px; font-weight: 600; color: #0F172A; }
.ai-bar-meta { display: flex; align-items: center; gap: 8px; }
.ai-bar-badge { font-size: 10px; font-weight: 700; padding: 2px 7px; border-radius: 6px; }
.ai-bar-pct { font-size: 13px; font-weight: 800; }
.ai-bar-track { height: 7px; border-radius: 999px; overflow: hidden; background: #F1F5F9; }
.ai-bar-fill { height: 100%; border-radius: 999px; }
.ai-gauges { display: flex; flex-direction: column; gap: 16px; }
.ai-gauge-row { display: flex; align-items: center; gap: 14px; }
.ai-gauge-divider { height: 1px; background: #F1F5F9; }
.ai-gauge-label { font-size: 11px; color: #94A3B8; margin: 0 0 4px; }
.ai-gauge-value { font-size: 16px; font-weight: 700; margin: 0; }
.ai-top-subjects { display: flex; flex-direction: column; gap: 10px; }
.ai-top-row { display: flex; align-items: center; gap: 10px; }
.ai-top-medal { font-size: 16px; flex-shrink: 0; }
.ai-top-name { flex: 1; font-size: 13px; font-weight: 600; color: #0F172A; }
.ai-top-pct { font-size: 13px; font-weight: 800; }

/*  Notes Tab  */
.notes-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px,1fr));
  gap: 14px;
}
.note-card {
  background: #fff;
  border: 1px solid #E8ECF4;
  border-radius: 14px;
  padding: 16px;
  transition: transform 200ms ease, box-shadow 200ms ease;
}
.note-card:hover { transform: translateY(-3px); box-shadow: 0 8px 22px rgba(15,23,42,0.08); }
.note-card-header { display: flex; align-items: flex-start; justify-content: space-between; gap: 10px; margin-bottom: 10px; }
.note-card-subject { font-size: 14px; font-weight: 700; color: #0F172A; margin: 0; }
.note-card-date { font-size: 11px; color: #94A3B8; margin: 2px 0 0; }
.note-card-badge { font-size: 10px; font-weight: 700; padding: 3px 9px; border-radius: 999px; flex-shrink: 0; }
.note-card-text { font-size: 13px; color: #475569; line-height: 1.7; margin: 0; }
.note-expand-btn {
  margin-top: 8px;
  border: none; background: none;
  font-family: 'Cairo', sans-serif;
  font-size: 12px; font-weight: 700;
  color: #2C7BE5; cursor: pointer; padding: 0;
}
.note-expand-btn:hover { opacity: 0.7; }

/*  Profile Tab  */
.profile-layout {
  display: grid;
  grid-template-columns: 240px minmax(0,1fr);
  gap: 24px;
  align-items: start;
}
@media (max-width: 700px) { .profile-layout { grid-template-columns: 1fr; } }
.profile-card {
  background: #fff;
  border: 1px solid #E8ECF4;
  border-radius: 20px;
  padding: 28px 20px;
  text-align: center;
  box-shadow: 0 2px 12px rgba(15,23,42,0.05);
}
.profile-avatar-wrap { margin-bottom: 14px; }
.profile-avatar { width: 80px; height: 80px; border-radius: 50%; object-fit: cover; border: 3px solid #BFDBFE; }
.profile-avatar-placeholder {
  width: 80px; height: 80px;
  border-radius: 50%;
  background: #EFF6FF;
  border: 3px solid #BFDBFE;
  display: flex; align-items: center; justify-content: center;
  font-size: 32px; font-weight: 800; color: #2C7BE5;
  margin: 0 auto;
}
.profile-name { font-size: 17px; font-weight: 800; color: #0F172A; margin: 0 0 4px; }
.profile-class { font-size: 13px; color: #64748B; margin: 0 0 4px; }
.profile-email { font-size: 12px; color: #94A3B8; margin: 0; }
.profile-stats-col { display: flex; flex-direction: column; gap: 12px; }
.profile-stat-card {
  display: flex;
  align-items: center;
  gap: 16px;
  background: #fff;
  border: 1px solid #E8ECF4;
  border-radius: 14px;
  padding: 16px 18px;
  transition: transform 200ms ease;
}
.profile-stat-card:hover { transform: translateY(-2px); }
.profile-stat-icon { font-size: 22px; }
.profile-stat-value { font-size: 22px; font-weight: 800; margin: 0 0 2px; }
.profile-stat-label { font-size: 12px; color: #64748B; margin: 0; }
.profile-ai-btn {
  display: flex;
  align-items: center;
  gap: 12px;
  background: #EFF6FF;
  border: 1.5px solid #BFDBFE;
  border-radius: 14px;
  padding: 16px 18px;
  cursor: pointer;
  font-family: 'Cairo', sans-serif;
  font-size: 14px;
  font-weight: 700;
  color: #2C7BE5;
  transition: all 200ms ease;
  text-align: right;
}
.profile-ai-btn:hover {
  background: #DBEAFE;
  transform: translateY(-2px);
  box-shadow: 0 6px 16px rgba(44,123,229,0.15);
}
.profile-ai-btn > *:last-child { margin-right: auto; }

/*  Empty + Error states  */
.empty-card {
  background: #fff;
  border: 1px solid #E8ECF4;
  border-radius: 16px;
  padding: 60px 24px;
  text-align: center;
}
.empty-card-sm {
  background: #F8FAFC;
  border: 1px dashed #E8ECF4;
  border-radius: 12px;
  padding: 24px;
  text-align: center;
}
.empty-icon { font-size: 36px; margin-bottom: 12px; }
.empty-title { font-size: 15px; font-weight: 700; color: #0F172A; margin: 0 0 6px; }
.empty-hint { font-size: 13px; color: #94A3B8; margin: 0; }
.error-banner-premium {
  background: #FEF2F2;
  border: 1px solid #FECACA;
  border-radius: 12px;
  padding: 12px 16px;
  font-size: 13px;
  color: #D32F2F;
  margin-bottom: 20px;
}

/*  Loading skeletons  */
.loading-grid { display: flex; flex-direction: column; gap: 16px; }
.loading-bar {
  background: #E8ECF4;
  border-radius: 16px;
  animation: shimmer 1.2s ease-out infinite;
  background-size: 200% 100%;
  background-image: linear-gradient(90deg, #E8ECF4 0%, #F1F5F9 50%, #E8ECF4 100%);
}
.loading-row { display: grid; grid-template-columns: repeat(4,1fr); gap: 14px; }
.skeleton-card {
  height: 88px;
  background: #E8ECF4;
  border-radius: 14px;
  animation: shimmer 1.2s ease-out infinite;
  background-size: 200% 100%;
  background-image: linear-gradient(90deg, #E8ECF4 0%, #F1F5F9 50%, #E8ECF4 100%);
}

/*  Responsive  */
@media (max-width: 1024px) {
  .premium-topnav-inner { padding: 0 20px; gap: 16px; }
  .portal-content { padding: 20px 20px 40px; }
  .welcome-card { padding: 24px 24px; }
}
@media (max-width: 700px) {
  .nav-student-info { display: none; }
  .nav-logout-label { display: none; }
  .welcome-name { font-size: 22px; }
  .welcome-avatar { width: 56px; height: 56px; }
  .welcome-avatar-placeholder { width: 56px; height: 56px; font-size: 22px; }
}
`,pb={1:"",2:"",3:"",4:"",5:""},Cu=["#2C7BE5","#00C853","#FFB300","#D32F2F","#8B5CF6","#F97316","#14B8A6","#EC4899"];function mb(){const e=ur(),{token:t}=xe(),[r,s]=m.useState(!0),[a,l]=m.useState(""),[o,i]=m.useState({className:"",entries:[],schoolDays:[1,2,3,4,5]});m.useEffect(()=>{let d=!0;return(async()=>{try{s(!0),l("");const N=await cm(t);if(!d)return;i({className:N.className||"",entries:N.entries||[],schoolDays:N.schoolDays||[1,2,3,4,5]})}catch(N){d&&l((N==null?void 0:N.message)||"   .")}finally{d&&s(!1)}})(),()=>{d=!1}},[t]);const c=m.useMemo(()=>[...new Set((o.entries||[]).map(f=>`${f.startTime}-${f.endTime}`))].sort((f,N)=>String(f).localeCompare(String(N))),[o.entries]),u=m.useMemo(()=>{const d={};return(o.entries||[]).forEach(f=>{d[`${f.dayOfWeek}-${f.startTime}-${f.endTime}`]=f}),d},[o.entries]),p=m.useMemo(()=>{const d={};let f=0;return(o.entries||[]).forEach(N=>{N.subject&&!d[N.subject]&&(d[N.subject]=Cu[f%Cu.length],f++)}),d},[o.entries]);return n.jsx("main",{dir:"rtl",className:"min-h-screen bg-background",children:n.jsxs("div",{className:"max-w-[1200px] mx-auto px-6 py-8",children:[n.jsxs("header",{className:"flex items-center justify-between gap-4 mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"h2-premium",children:" "}),n.jsx("p",{className:"caption-premium mt-1",children:o.className?` ${o.className}`:" "})]}),n.jsx("button",{type:"button",onClick:()=>e("/student"),className:"action-btn focus-ring pressable",children:"  "})]}),a&&n.jsx("div",{className:"mb-6 rounded-sm border border-danger/30 bg-red-50 px-4 py-3 text-[13px] text-danger",children:a}),r?n.jsx("div",{className:"space-y-3",children:[1,2,3,4].map(d=>n.jsx("div",{className:"skeleton h-16"},d))}):o.entries.length?n.jsx("div",{className:"surface-card overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full min-w-[600px] border-collapse text-right",children:[n.jsx("thead",{className:"bg-slate-50 border-b border-border",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-[11px] font-semibold text-text-secondary uppercase tracking-wide w-28",children:""}),o.schoolDays.map(d=>n.jsx("th",{className:"px-4 py-3 text-[13px] font-semibold text-text-primary",children:pb[d]||d},d))]})}),n.jsx("tbody",{children:c.map((d,f)=>{const[N,b]=d.split("-");return n.jsxs("tr",{className:`border-b border-border last:border-0 ${f%2===0?"":"bg-slate-50/50"}`,children:[n.jsxs("td",{className:"px-4 py-3 text-[12px] font-semibold text-text-secondary whitespace-nowrap",children:[N,"  ",b]}),o.schoolDays.map(j=>{const k=u[`${j}-${N}-${b}`],x=k?p[k.subject]||"#2C7BE5":null;return n.jsx("td",{className:"px-2 py-2",children:k?n.jsxs("div",{className:"rounded-sm border border-border bg-surface p-2.5 premium-transition hover:shadow-sm",style:{borderRightWidth:3,borderRightColor:x},children:[n.jsx("p",{className:"text-[13px] font-semibold text-text-primary leading-snug",children:k.subject}),k.teacherName&&n.jsx("p",{className:"text-[11px] text-text-secondary mt-0.5",children:k.teacherName}),k.room&&n.jsx("p",{className:"text-[11px] text-text-secondary",children:k.room})]}):n.jsx("div",{className:"rounded-sm bg-slate-50 border border-border h-[58px]"})},`${j}-${d}`)})]},d)})})]})})}):n.jsxs("div",{className:"surface-card p-16 text-center",children:[n.jsx("p",{className:"h3-premium mb-2",children:"    "}),n.jsx("p",{className:"caption-premium",children:"       ."})]})]})})}const fb=e=>/\?{2,}/.test(String(e||"")),Ge=(e,t="   .")=>e&&e instanceof Bs?e.message&&!fb(e.message)?e.message:e.status===401?"   .":e.status===403?"   .":e.status===400?"   .":t:t;function Mt({message:e="   ",action:t}){return n.jsxs("div",{className:"ht-soft-surface flex min-h-[220px] flex-col items-center justify-center px-6 py-10 text-center",children:[n.jsx("div",{className:"mb-4 h-10 w-10 rounded-full border border-[var(--ht-border-default)] bg-[var(--ht-bg-base)]"}),n.jsx("p",{className:"text-[16px] leading-[1.8] text-[var(--ht-neutral-700)]",children:e}),t?n.jsx("div",{className:"mt-5",children:t}):null]})}const hb=new Intl.DateTimeFormat("en-GB-u-nu-latn",{day:"2-digit",month:"2-digit",year:"numeric"}),xb=new Intl.DateTimeFormat("en-GB-u-nu-latn",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}),gb=e=>{if(!e)return"-";const t=e instanceof Date?e:new Date(e);return Number.isNaN(t.getTime())?"-":hb.format(t)},sr=e=>{if(!e)return"-";const t=e instanceof Date?e:new Date(e);return Number.isNaN(t.getTime())?"-":xb.format(t)},ne=(e,t=0)=>{const r=Number(e);return Number.isFinite(r)?new Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:t}).format(r):"0"},Eu=(e={})=>{const t=e.profilePicture||e.avatarUrl||e.name||e.email||e.id||"user";return`https://api.dicebear.com/8.x/initials/svg?seed=${encodeURIComponent(t)}`},vb={:"bg-[var(--ht-amber-100)] text-[var(--ht-amber-600)]",:"bg-[var(--ht-primary-100)] text-[var(--ht-primary-700)]",:"bg-[var(--ht-success-100)] text-[var(--ht-success-600)]"};function bb({items:e=[],onViewAll:t}){return n.jsxs("section",{className:"ht-surface p-5 sm:p-6",children:[n.jsxs("div",{className:"mb-5 flex items-center justify-between gap-3",children:[n.jsx("h2",{className:"text-[24px] font-semibold text-[var(--ht-neutral-900)]",children:" "}),n.jsx("button",{type:"button",onClick:t,className:"ht-interactive text-[13px] font-medium text-[var(--ht-primary-700)] hover:text-[var(--ht-primary-800)] active:scale-[0.98] focus-visible:outline-none",children:" "})]}),e.length?n.jsx("div",{className:"divide-y divide-[var(--ht-border-subtle)]",children:e.map(r=>n.jsxs("article",{className:"flex flex-wrap items-start justify-between gap-3 py-4",children:[n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsxs("div",{className:"mb-2 flex flex-wrap items-center gap-2",children:[n.jsx("span",{className:`rounded-full px-2 py-1 text-[11px] font-semibold ${vb[r.type]||"bg-[var(--ht-bg-muted)] text-[var(--ht-neutral-600)]"}`,children:r.type}),n.jsx("span",{className:"text-[12px] text-[var(--ht-neutral-500)]",children:r.className})]}),n.jsx("h3",{className:"text-[15px] font-medium text-[var(--ht-neutral-800)]",children:r.title})]}),n.jsx("span",{className:"whitespace-nowrap text-[12px] text-[var(--ht-neutral-400)]",children:sr(r.date)})]},r.id))}):n.jsx(Mt,{message:"   "})]})}function yb({className:e,studentCount:t,onClick:r}){return n.jsxs("button",{type:"button",onClick:r,className:"ht-surface ht-interactive ht-lift-hover flex min-h-[168px] w-full flex-col justify-center rounded-[6px] border border-[var(--ht-border-subtle)] px-5 py-6 text-right active:scale-[0.98] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--ht-border-focus)] focus-visible:ring-offset-2",children:[n.jsx("span",{className:"mb-3 h-[2px] w-10 bg-[var(--ht-primary-500)]/50"}),n.jsx("h3",{className:"text-center text-[20px] font-semibold text-[var(--ht-neutral-900)]",children:e}),n.jsxs("p",{className:"mt-3 text-center text-[13px] text-[var(--ht-neutral-500)]",children:[" : ",ne(t)]}),n.jsx("div",{className:"mt-4 border-t border-[var(--ht-border-subtle)]"})]})}function jb({rows:e=[],onAdd:t,onImport:r,onEdit:s}){return n.jsxs("section",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[n.jsx("h3",{className:"text-[20px] font-semibold text-[var(--ht-neutral-900)]",children:""}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r?n.jsx("button",{type:"button",onClick:r,className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-4 text-[13px] font-medium text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)] active:scale-[0.98] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--ht-border-focus)] focus-visible:ring-offset-2",children:"+   "}):null,n.jsx("button",{type:"button",onClick:t,className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-4 text-[13px] font-medium text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)] active:scale-[0.98] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--ht-border-focus)] focus-visible:ring-offset-2",children:"+  "})]})]}),e.length?n.jsx("div",{className:"ht-surface ht-scroll overflow-x-auto",children:n.jsxs("table",{className:"min-w-full border-collapse text-right",children:[n.jsx("thead",{className:"bg-[var(--ht-bg-subtle)]",children:n.jsx("tr",{children:[" ","","","","",""].map(a=>n.jsx("th",{scope:"col",className:"whitespace-nowrap px-4 py-3 text-[11px] font-semibold uppercase tracking-[0.06em] text-[var(--ht-neutral-500)]",children:a},a))})}),n.jsx("tbody",{children:e.map(a=>n.jsxs("tr",{className:"border-t border-[var(--ht-border-subtle)]",children:[n.jsx("td",{className:"whitespace-nowrap px-4 py-3 text-[14px] text-[var(--ht-neutral-800)]",children:a.studentName}),n.jsx("td",{className:"whitespace-nowrap px-4 py-3 text-[14px] text-[var(--ht-neutral-700)]",children:a.examTitle||"-"}),n.jsx("td",{className:"whitespace-nowrap px-4 py-3 text-[14px] text-[var(--ht-neutral-700)]",children:a.score===null||a.score===void 0?"-":ne(a.score,2)}),n.jsx("td",{className:"whitespace-nowrap px-4 py-3 text-[14px] text-[var(--ht-neutral-700)]",children:a.maxMarks===null||a.maxMarks===void 0?"-":ne(a.maxMarks,2)}),n.jsx("td",{className:"whitespace-nowrap px-4 py-3 text-[13px] text-[var(--ht-neutral-500)]",children:sr(a.updatedAt)}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("button",{type:"button",onClick:()=>s(a),className:"ht-interactive rounded-[4px] border border-[var(--ht-border-default)] px-3 py-1.5 text-[12px] text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)] active:scale-[0.98] focus-visible:outline-none",children:""})})]},a.studentId))})]})}):n.jsx(Mt,{message:"   "})]})}const Fu={pending:" ",submitted:"",graded:""};function Nb({items:e=[],onCreate:t,onEdit:r,onDelete:s,onOpenDetail:a}){return n.jsxs("section",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between gap-3",children:[n.jsx("h3",{className:"text-[20px] font-semibold text-[var(--ht-neutral-900)]",children:""}),n.jsx("button",{type:"button",onClick:t,className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-4 text-[13px] font-medium text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)] active:scale-[0.98] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--ht-border-focus)] focus-visible:ring-offset-2",children:"+  "})]}),e.length?n.jsx("div",{className:"space-y-3",children:e.map(l=>{const o=l.assignments.filter(p=>p.status==="pending").length,i=l.assignments.filter(p=>p.status==="submitted").length,c=l.assignments.filter(p=>p.status==="graded").length,u=l.assignments.length;return n.jsxs("article",{className:"ht-surface p-4",children:[n.jsxs("div",{className:"mb-2 flex flex-wrap items-center justify-between gap-2",children:[n.jsx("h4",{className:"text-[16px] font-semibold text-[var(--ht-neutral-900)]",children:l.title}),n.jsxs("span",{className:"text-[12px] text-[var(--ht-neutral-400)]",children:[": ",sr(l.dueDate)]})]}),n.jsx("p",{className:"text-[14px] leading-[1.9] text-[var(--ht-neutral-700)]",children:l.description||"-"}),l.attachmentName?n.jsxs("p",{className:"mt-3 text-[13px] text-[var(--ht-neutral-500)]",children:[": ",l.attachmentName]}):null,n.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-3 text-[12px] text-[var(--ht-neutral-500)]",children:[n.jsxs("span",{children:[" : ",ne(u)]}),n.jsxs("span",{children:[": ",ne(i)]}),n.jsxs("span",{children:[": ",ne(c)]}),n.jsxs("span",{children:[": ",ne(o)]})]}),n.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-2",children:[n.jsx("button",{type:"button",onClick:()=>a(l),className:"ht-interactive rounded-[4px] border border-[var(--ht-border-default)] px-3 py-1.5 text-[12px] text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)] active:scale-[0.98] focus-visible:outline-none",children:" "}),n.jsx("button",{type:"button",onClick:()=>r(l),className:"ht-interactive rounded-[4px] border border-[var(--ht-border-default)] px-3 py-1.5 text-[12px] text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)] active:scale-[0.98] focus-visible:outline-none",children:""}),n.jsx("button",{type:"button",onClick:()=>s(l),className:"ht-interactive rounded-[4px] border border-[var(--ht-border-default)] px-3 py-1.5 text-[12px] text-[var(--ht-danger-600)] hover:bg-[var(--ht-danger-100)] active:scale-[0.98] focus-visible:outline-none",children:""})]}),n.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:Object.keys(Fu).map(p=>{const d=l.assignments.filter(f=>f.status===p).length;return n.jsxs("span",{className:"rounded-full border border-[var(--ht-border-subtle)] bg-[var(--ht-bg-subtle)] px-2 py-1 text-[11px] text-[var(--ht-neutral-600)]",children:[Fu[p],": ",ne(d)]},p)})})]},l.id)})}):n.jsx(Mt,{message:"   "})]})}function wb({posts:e=[],onCreate:t,onEdit:r,onDelete:s}){return n.jsxs("section",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between gap-3",children:[n.jsx("h3",{className:"text-[20px] font-semibold text-[var(--ht-neutral-900)]",children:""}),n.jsx("button",{type:"button",onClick:t,className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-4 text-[13px] font-medium text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)] active:scale-[0.98] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--ht-border-focus)] focus-visible:ring-offset-2",children:"+  "})]}),e.length?n.jsx("div",{className:"space-y-3",children:e.map(a=>n.jsxs("article",{className:"ht-surface p-4",children:[n.jsxs("div",{className:"mb-2 flex flex-wrap items-center justify-between gap-2",children:[n.jsx("h4",{className:"text-[16px] font-semibold text-[var(--ht-neutral-900)]",children:a.title}),n.jsx("span",{className:"text-[12px] text-[var(--ht-neutral-400)]",children:sr(a.createdAt)})]}),n.jsx("p",{className:"text-[14px] leading-[1.9] text-[var(--ht-neutral-700)]",children:a.body||"-"}),a.attachmentName?n.jsxs("p",{className:"mt-3 text-[13px] text-[var(--ht-neutral-500)]",children:[": ",a.attachmentName]}):null,n.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[n.jsx("button",{type:"button",onClick:()=>r(a),className:"ht-interactive rounded-[4px] border border-[var(--ht-border-default)] px-3 py-1.5 text-[12px] text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)] active:scale-[0.98] focus-visible:outline-none",children:""}),n.jsx("button",{type:"button",onClick:()=>s(a),className:"ht-interactive rounded-[4px] border border-[var(--ht-border-default)] px-3 py-1.5 text-[12px] text-[var(--ht-danger-600)] hover:bg-[var(--ht-danger-100)] active:scale-[0.98] focus-visible:outline-none",children:""})]})]},a.id))}):n.jsx(Mt,{message:"   "})]})}function Fs({label:e,value:t}){return n.jsxs("div",{className:"ht-soft-surface px-4 py-3",children:[n.jsx("p",{className:"text-[12px] text-[var(--ht-neutral-500)]",children:e}),n.jsx("p",{className:"mt-1 text-[20px] font-semibold text-[var(--ht-neutral-900)]",children:t})]})}const kb={pending:" ",submitted:"",graded:""};function Sb({summary:e,recentSubmissions:t=[]}){return n.jsxs("aside",{className:"space-y-4",children:[n.jsxs("section",{className:"ht-surface p-4",children:[n.jsx("h3",{className:"mb-4 text-[18px] font-semibold text-[var(--ht-neutral-900)]",children:" "}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(Fs,{label:" ",value:ne(e.studentCount)}),n.jsx(Fs,{label:" ",value:ne(e.homeworkCount)}),n.jsx(Fs,{label:" ",value:`${ne(e.averageGrade,1)}%`}),n.jsx(Fs,{label:" ",value:ne(e.announcementCount)})]})]}),n.jsxs("section",{className:"ht-surface p-4",children:[n.jsx("h3",{className:"mb-4 text-[18px] font-semibold text-[var(--ht-neutral-900)]",children:" "}),t.length?n.jsx("div",{className:"space-y-3",children:t.map(r=>n.jsxs("article",{className:"rounded-[4px] border border-[var(--ht-border-subtle)] p-3",children:[n.jsx("p",{className:"text-[13px] font-medium text-[var(--ht-neutral-800)]",children:r.studentName}),n.jsx("p",{className:"mt-1 text-[12px] text-[var(--ht-neutral-600)]",children:r.homeworkTitle}),n.jsxs("div",{className:"mt-2 flex flex-wrap items-center justify-between gap-2",children:[n.jsx("span",{className:"rounded-full bg-[var(--ht-bg-subtle)] px-2 py-1 text-[11px] text-[var(--ht-neutral-600)]",children:kb[r.status]||r.status}),n.jsx("span",{className:"text-[11px] text-[var(--ht-neutral-400)]",children:sr(r.updatedAt)})]})]},r.id))}):n.jsx(Mt,{message:"   "})]})]})}function Cb({rows:e=[],onViewProfile:t}){return n.jsxs("section",{className:"space-y-4",children:[n.jsx("h3",{className:"text-[20px] font-semibold text-[var(--ht-neutral-900)]",children:""}),e.length?n.jsx("div",{className:"ht-surface ht-scroll overflow-x-auto",children:n.jsxs("table",{className:"min-w-full border-collapse text-right",children:[n.jsx("thead",{className:"bg-[var(--ht-bg-subtle)]",children:n.jsx("tr",{children:[""," "," ",""," "].map(r=>n.jsx("th",{scope:"col",className:"whitespace-nowrap px-4 py-3 text-[11px] font-semibold uppercase tracking-[0.06em] text-[var(--ht-neutral-500)]",children:r},r))})}),n.jsx("tbody",{children:e.map(r=>n.jsxs("tr",{className:"border-t border-[var(--ht-border-subtle)]",children:[n.jsx("td",{className:"px-4 py-3",children:n.jsx("img",{src:r.avatarUrl,alt:` ${r.name}`,className:"h-9 w-9 rounded-full border border-[var(--ht-border-default)] object-cover"})}),n.jsx("td",{className:"whitespace-nowrap px-4 py-3 text-[14px] text-[var(--ht-neutral-800)]",children:r.name}),n.jsx("td",{className:"whitespace-nowrap px-4 py-3 text-[14px] text-[var(--ht-neutral-600)]",children:r.email||"-"}),n.jsx("td",{className:"whitespace-nowrap px-4 py-3",children:n.jsx("span",{className:"rounded-full border border-[var(--ht-border-subtle)] bg-[var(--ht-bg-subtle)] px-2 py-1 text-[11px] text-[var(--ht-neutral-600)]",children:r.status})}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("button",{type:"button",onClick:()=>t(r),className:"ht-interactive rounded-[4px] border border-[var(--ht-border-default)] px-3 py-1.5 text-[12px] text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)] active:scale-[0.98] focus-visible:outline-none",children:" "})})]},r.id))})]})}):n.jsx(Mt,{message:"   "})]})}function Eb({tabs:e,activeKey:t,onChange:r}){const s=m.useRef(null),a=m.useRef({}),[l,o]=m.useState({width:0,x:0}),i=m.useMemo(()=>e.findIndex(c=>c.key===t),[e,t]);return m.useEffect(()=>{const c=s.current,u=a.current[t];if(!c||!u){o({width:0,x:0});return}const p=c.getBoundingClientRect(),d=u.getBoundingClientRect();o({width:d.width,x:d.left-p.left})},[t,e]),n.jsxs("div",{className:"relative border-b border-[var(--ht-border-subtle)]",ref:s,children:[n.jsx("div",{className:"flex flex-wrap gap-1",children:e.map(c=>n.jsx("button",{ref:u=>{a.current[c.key]=u},type:"button",onClick:()=>r(c.key),className:`ht-interactive relative px-4 py-3 text-[14px] font-medium ${t===c.key?"text-[var(--ht-neutral-900)]":"text-[var(--ht-neutral-500)]"} hover:text-[var(--ht-neutral-800)] active:scale-[0.98] focus-visible:outline-none`,children:c.label},c.key))}),n.jsx("span",{className:"ht-tab-indicator absolute bottom-[-1px] block h-[2px] bg-[var(--ht-primary-500)]",style:{width:`${l.width}px`,transform:`translateX(${l.x}px)`,opacity:i>=0?1:0}})]})}const Fb=[{key:"posts",label:""},{key:"homework",label:""},{key:"grades",label:""},{key:"students",label:""}];function Tb({className:e,studentCount:t,activeTab:r,onChangeTab:s,posts:a,homework:l,grades:o,students:i,summary:c,recentSubmissions:u,onCreatePost:p,onEditPost:d,onDeletePost:f,onCreateHomework:N,onEditHomework:b,onDeleteHomework:j,onOpenHomeworkDetail:k,onAddGrade:x,onImportGrade:h,onEditGrade:g,onViewStudent:w}){return n.jsxs("section",{className:"space-y-6",children:[n.jsxs("header",{children:[n.jsx("h2",{className:"ht-display text-[34px] font-semibold leading-[1.3] text-[var(--ht-neutral-900)]",children:e}),n.jsxs("p",{className:"mt-1 text-[14px] text-[var(--ht-neutral-500)]",children:[" : ",t]})]}),n.jsx("div",{className:"border-t border-[var(--ht-border-subtle)]"}),n.jsxs("div",{className:"grid gap-6 lg:grid-cols-[minmax(0,7fr)_minmax(0,3fr)]",children:[n.jsxs("section",{className:"space-y-4",children:[n.jsx(Eb,{tabs:Fb,activeKey:r,onChange:s}),r==="posts"?n.jsx(wb,{posts:a,onCreate:p,onEdit:d,onDelete:f}):null,r==="homework"?n.jsx(Nb,{items:l,onCreate:N,onEdit:b,onDelete:j,onOpenDetail:k}):null,r==="grades"?n.jsx(jb,{rows:o,onAdd:x,onImport:h,onEdit:g}):null,r==="students"?n.jsx(Cb,{rows:i,onViewProfile:w}):null]}),n.jsx(Sb,{summary:c,recentSubmissions:u})]})]})}const Tu={sm:"max-w-[440px]",md:"max-w-[560px]",lg:"max-w-[720px]",xl:"max-w-[920px]"};function jt({open:e,title:t,description:r,onClose:s,footer:a,size:l="md",children:o}){return m.useEffect(()=>{if(!e)return;const i=u=>{u.key==="Escape"&&(s==null||s())},c=document.body.style.overflow;return document.body.style.overflow="hidden",document.addEventListener("keydown",i),()=>{document.body.style.overflow=c,document.removeEventListener("keydown",i)}},[e,s]),e?n.jsx("div",{className:"ht-modal-overlay",role:"presentation",onMouseDown:i=>{i.target===i.currentTarget&&(s==null||s())},children:n.jsxs("section",{role:"dialog","aria-modal":"true","aria-label":t,className:`ht-modal-panel w-full ${Tu[l]||Tu.md}`,children:[n.jsxs("header",{className:"flex items-start justify-between gap-4 border-b border-[var(--ht-border-subtle)] px-6 py-5",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-[20px] font-semibold leading-[1.5] text-[var(--ht-neutral-900)]",children:t}),r?n.jsx("p",{className:"mt-1 text-[13px] leading-[1.7] text-[var(--ht-neutral-500)]",children:r}):null]}),n.jsx("button",{type:"button",onClick:s,"aria-label":"",className:"ht-interactive inline-flex h-9 w-9 items-center justify-center rounded-[4px] border border-[var(--ht-border-subtle)] text-[var(--ht-neutral-500)] hover:bg-[var(--ht-bg-subtle)] hover:text-[var(--ht-neutral-800)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--ht-border-focus)] focus-visible:ring-offset-2",children:""})]}),n.jsx("div",{className:"px-6 py-5",children:o}),a?n.jsx("footer",{className:"flex items-center justify-start gap-3 border-t border-[var(--ht-border-subtle)] px-6 py-4",children:a}):null]})}):null}function Pb({onPost:e,onHomework:t,onGrade:r,onGradeImport:s,disabled:a=!1}){const l="ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-4 text-[13px] font-medium text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)] active:scale-[0.98] disabled:cursor-not-allowed disabled:opacity-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--ht-border-focus)] focus-visible:ring-offset-2";return n.jsxs("section",{className:"ht-surface p-5 sm:p-6",children:[n.jsx("h2",{className:"mb-5 text-[24px] font-semibold text-[var(--ht-neutral-900)]",children:" "}),n.jsxs("div",{className:"flex flex-wrap gap-3",children:[n.jsx("button",{type:"button",onClick:e,disabled:a,className:l,children:" "}),n.jsx("button",{type:"button",onClick:t,disabled:a,className:l,children:" "}),n.jsx("button",{type:"button",onClick:r,disabled:a,className:l,children:" "}),n.jsx("button",{type:"button",onClick:s,disabled:a,className:l,children:"   "})]})]})}function Lb(){return n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",className:"h-5 w-5","aria-hidden":"true",children:[n.jsx("path",{d:"M12 3a4 4 0 0 0-4 4v2.2c0 .8-.2 1.6-.7 2.3L6 13.4v1.1h12v-1.1l-1.3-1.9a4.2 4.2 0 0 1-.7-2.3V7a4 4 0 0 0-4-4Z",stroke:"currentColor",strokeWidth:"1.4"}),n.jsx("path",{d:"M10 17a2 2 0 0 0 4 0",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})]})}function _b(){return n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",className:"h-5 w-5","aria-hidden":"true",children:[n.jsx("path",{d:"m10.5 3 .4 1.8c.1.4.4.7.8.9.4.1.9.1 1.3 0 .4-.2.7-.5.8-.9L14.2 3m4.3 2.5-1.4 1.2c-.3.3-.5.7-.5 1.1s.2.8.5 1.1c.3.3.7.5 1.1.5h1.8m0 4.2h-1.8c-.4 0-.8.2-1.1.5-.3.3-.5.7-.5 1.1s.2.8.5 1.1l1.4 1.2M14.2 21l-.4-1.8c-.1-.4-.4-.7-.8-.9a2 2 0 0 0-1.3 0c-.4.2-.7.5-.8.9L10.5 21m-4.3-2.5 1.4-1.2c.3-.3.5-.7.5-1.1s-.2-.8-.5-1.1c-.3-.3-.7-.5-1.1-.5H4.7m0-4.2h1.8c.4 0 .8-.2 1.1-.5.3-.3.5-.7.5-1.1s-.2-.8-.5-1.1L6.2 5.5",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"}),n.jsx("circle",{cx:"12",cy:"12",r:"2.4",stroke:"currentColor",strokeWidth:"1.4"})]})}function Pu({label:e,children:t,onClick:r}){return n.jsx("button",{type:"button","aria-label":e,onClick:r,className:"ht-interactive inline-flex h-10 w-10 items-center justify-center rounded-[4px] border border-[var(--ht-border-subtle)] bg-[var(--ht-bg-base)] text-[var(--ht-neutral-600)] hover:bg-[var(--ht-bg-subtle)] hover:text-[var(--ht-neutral-800)] active:scale-[0.98] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--ht-border-focus)] focus-visible:ring-offset-2",children:t})}function Mb({teacherName:e,avatarUrl:t,subjectLabel:r,onOpenNotifications:s,onOpenSettings:a,onOpenSchedule:l,onLogout:o}){return n.jsxs("header",{className:"ht-surface ht-fade-up mb-10 flex flex-col justify-between gap-4 p-5 sm:flex-row sm:items-center sm:p-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("img",{src:t,alt:` ${e}`,className:"h-12 w-12 rounded-full border border-[var(--ht-border-default)] object-cover"}),n.jsxs("div",{children:[n.jsxs("h1",{className:"ht-display text-[30px] font-semibold leading-[1.3] text-[var(--ht-neutral-900)]",children:[" . ",e]}),n.jsx("p",{className:"mt-1 text-[13px] text-[var(--ht-neutral-500)]",children:r})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{type:"button",onClick:l,className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[13px] font-medium text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)] active:scale-[0.98] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--ht-border-focus)] focus-visible:ring-offset-2",children:" "}),n.jsx(Pu,{label:"",onClick:s,children:n.jsx(Lb,{})}),n.jsx(Pu,{label:"",onClick:a,children:n.jsx(_b,{})}),n.jsx("button",{type:"button",onClick:o,className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-4 text-[13px] font-medium text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)] active:scale-[0.98] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--ht-border-focus)] focus-visible:ring-offset-2",children:" "})]})]})}const jl={title:"",body:"",attachmentName:""},Nl={title:"",description:"",dueDate:"",maxMarks:"100",attachmentName:""},Lu={studentId:"",examTitle:"",score:"",maxMarks:"100"},_u={studentId:"",status:"pending",score:"",teacherComment:""},wl={examTitle:"",defaultMaxMarks:"100",sourceType:"image",fileName:"",fileDataUrl:"",ocrText:""},kl={tone:"neutral",loading:!1,error:"",feedback:null,termComment:null},Mu={pending:" ",submitted:"",graded:""},Ab=e=>new Promise((t,r)=>{const s=new FileReader;s.onload=()=>t(String(s.result||"")),s.onerror=()=>r(new Error("  .")),s.readAsDataURL(e)});function Ib(){var Li,_i,Mi,Ai,Ii,Ri,zi,Oi,Di,$i,Bi,Ui,Wi;const e=ur(),{token:t,user:r,logout:s}=xe(),[a,l]=m.useState(!0),[o,i]=m.useState(!1),[c,u]=m.useState(""),[p,d]=m.useState(""),[f,N]=m.useState([]),[b,j]=m.useState([]),[k,x]=m.useState([]),[h,g]=m.useState(""),[w,S]=m.useState({pendingResponses:0,flaggedParents:0,repeatedIncidents:0,weeklySnapshots:[],classAnalysis:[]}),[F,M]=m.useState(""),[B,T]=m.useState("posts"),[_,I]=m.useState(!1),[L,E]=m.useState({open:!1,mode:"create",post:null}),[P,W]=m.useState(jl),[Q,ye]=m.useState({open:!1,mode:"create",item:null}),[D,H]=m.useState(Nl),[V,C]=m.useState({open:!1,row:null}),[R,Z]=m.useState(Lu),[ee,je]=m.useState({open:!1,item:null}),[K,ce]=m.useState(_u),[te,ut]=m.useState({open:!1,student:null,profile:null,loading:!1,error:""}),[et,pr]=m.useState({open:!1,title:"",kind:""}),[ve,Ee]=m.useState({open:!1,stage:"upload",loading:!1,preview:null,rows:[]}),[O,G]=m.useState(wl),[X,ke]=m.useState(kl),vt=async()=>{var v,y;try{l(!0),u("");const[A,$]=await Promise.all([um(t),dm(t)]),_e=A.classes||[];N(_e),j(A.homework||[]),x(A.announcements||[]),g(((v=A.subjects)==null?void 0:v[0])||((y=r==null?void 0:r.subjects)==null?void 0:y[0])||(r==null?void 0:r.subject)||""),S({pendingResponses:Number(($==null?void 0:$.pendingResponses)||0),flaggedParents:Number(($==null?void 0:$.flaggedParents)||0),repeatedIncidents:Number(($==null?void 0:$.repeatedIncidents)||0),weeklySnapshots:Array.isArray($==null?void 0:$.weeklySnapshots)?$.weeklySnapshots:[],classAnalysis:Array.isArray($==null?void 0:$.classAnalysis)?$.classAnalysis:[]})}catch(A){u(Ge(A,"   ."))}finally{l(!1)}};m.useEffect(()=>{vt()},[t]),m.useEffect(()=>{if(!F)return;f.some(y=>y.name===F)||(M(""),T("posts"))},[f,F]);const ae=m.useMemo(()=>f.find(v=>v.name===F)||null,[f,F]),Lm=m.useMemo(()=>(r==null?void 0:r.profilePicture)||(r==null?void 0:r.avatarUrl)||Eu(r||{}),[r]),mn=m.useMemo(()=>{const v=k.map($=>({id:`announcement-${$.id}`,className:$.className,type:"",title:$.title,date:$.updatedAt||$.createdAt})),y=b.map($=>({id:`homework-${$.id}`,className:$.className,type:"",title:$.title,date:$.updatedAt||$.createdAt})),A=f.flatMap($=>($.students||[]).flatMap(_e=>(_e.examMarks||[]).map(Me=>({id:`grade-${$.name}-${_e.id}-${Me.subject}`,className:$.name,type:"",title:`${_e.name} - ${Me.examTitle||Me.subject||""}`,date:Me.updatedAt}))));return[...v,...y,...A].filter($=>$.date).sort(($,_e)=>new Date(_e.date)-new Date($.date))},[k,b,f]),_m=m.useMemo(()=>_?mn:mn.slice(0,8),[mn,_]),Da=m.useMemo(()=>k.filter(v=>v.className===F),[k,F]),mr=m.useMemo(()=>b.filter(v=>v.className===F),[b,F]),$a=m.useMemo(()=>((ae==null?void 0:ae.students)||[]).map(y=>{const A=(y.examMarks||[]).find($=>String($.subject||"").toLowerCase()===String(h||"").toLowerCase());return{studentId:y.id,studentName:y.name,examTitle:(A==null?void 0:A.examTitle)||"",score:(A==null?void 0:A.rawScore)===null||(A==null?void 0:A.rawScore)===void 0?(A==null?void 0:A.score)??null:Number(A.rawScore),maxMarks:(A==null?void 0:A.maxMarks)===null||(A==null?void 0:A.maxMarks)===void 0?(A==null?void 0:A.score)===null||(A==null?void 0:A.score)===void 0?null:100:Number(A.maxMarks),updatedAt:(A==null?void 0:A.updatedAt)||null}}),[ae,h]),Mm=m.useMemo(()=>((ae==null?void 0:ae.students)||[]).map(y=>{const A=mr.flatMap(Ct=>Ct.assignments.filter(rf=>rf.studentId===y.id)),$=A.some(Ct=>Ct.status==="pending"),_e=A.some(Ct=>Ct.status==="submitted");let Me="";return $?Me="":_e?Me=" ":A.length&&A.every(Ct=>Ct.status==="graded")&&(Me=""),{id:y.id,name:y.name,email:y.email||"",avatarUrl:Eu(y),status:Me}}),[ae,mr]),Am=m.useMemo(()=>{var A;const v=$a.filter($=>$.score!==null&&$.score!==void 0),y=v.length?v.reduce(($,_e)=>{const Me=Number(_e.score||0),Ct=Number(_e.maxMarks||100)||100;return $+Me/Ct*100},0)/v.length:0;return{studentCount:((A=ae==null?void 0:ae.students)==null?void 0:A.length)||0,homeworkCount:mr.length,averageGrade:y,announcementCount:Da.length}},[ae,mr,Da,$a]),Im=m.useMemo(()=>mr.flatMap(v=>v.assignments.filter(y=>y.status==="submitted"||y.status==="graded").map(y=>({id:`${v.id}-${y.studentId}`,studentName:y.studentName,homeworkTitle:v.title,status:y.status,updatedAt:y.updatedAt}))).sort((v,y)=>new Date(y.updatedAt)-new Date(v.updatedAt)).slice(0,8),[mr]),fn=()=>{u(""),d("")},Rm=()=>{s(),e("/login",{replace:!0})},zm=()=>{pr({open:!0,title:"",kind:"notifications"})},Om=()=>{pr({open:!0,title:"",kind:"settings"})},Ti=()=>{fn(),E({open:!0,mode:"create",post:null}),W(jl)},Dm=v=>{fn(),E({open:!0,mode:"edit",post:v}),W({title:v.title||"",body:v.body||"",attachmentName:v.attachmentName||""})},$m=async()=>{if(F){if(!P.title.trim()){u("  .");return}try{i(!0),u(""),L.mode==="edit"&&L.post?(await Nv(t,L.post.id,{title:P.title.trim(),body:P.body.trim(),attachmentName:P.attachmentName.trim()}),d("  .")):(await pm(t,{className:F,subject:h,title:P.title.trim(),body:P.body.trim(),attachmentName:P.attachmentName.trim()}),d("  .")),E({open:!1,mode:"create",post:null}),W(jl),await vt()}catch(v){u(Ge(v,"  ."))}finally{i(!1)}}},Bm=async v=>{if(window.confirm("     "))try{i(!0),u(""),await wv(t,v.id),d("  ."),await vt()}catch(A){u(Ge(A,"  ."))}finally{i(!1)}},Pi=()=>{fn(),ye({open:!0,mode:"create",item:null}),H(Nl)},Um=v=>{fn(),ye({open:!0,mode:"edit",item:v}),H({title:v.title||"",description:v.description||"",dueDate:v.dueDate?new Date(v.dueDate).toISOString().slice(0,10):"",maxMarks:String(v.maxMarks||100),attachmentName:v.attachmentName||""})},Wm=async()=>{if(!F)return;const v=D.title.trim(),y=Number(D.maxMarks);if(!v){u("  .");return}if(Number.isNaN(y)||y<=0){u("   .");return}try{i(!0),u("");const A={title:v,description:D.description.trim(),dueDate:D.dueDate||null,maxMarks:y,attachmentName:D.attachmentName.trim()};Q.mode==="edit"&&Q.item?(await xv(t,Q.item.id,A),d("  .")):(await hv(t,{className:F,subject:h,...A}),d("  .")),ye({open:!1,mode:"create",item:null}),H(Nl),await vt()}catch(A){u(Ge(A,"  ."))}finally{i(!1)}},Hm=async v=>{if(window.confirm("     "))try{i(!0),u(""),await vv(t,v.id),d("  ."),await vt()}catch(A){u(Ge(A,"  ."))}finally{i(!1)}},Vm=v=>{var A;const y=(A=v.assignments)==null?void 0:A[0];je({open:!0,item:v}),ce({studentId:(y==null?void 0:y.studentId)||"",status:(y==null?void 0:y.status)||"pending",score:(y==null?void 0:y.score)===null||(y==null?void 0:y.score)===void 0?"":String(y.score),teacherComment:(y==null?void 0:y.teacherComment)||""})},tt=m.useMemo(()=>{const v=ee.item;return!v||!K.studentId?null:v.assignments.find(y=>y.studentId===K.studentId)||null},[ee.item,K.studentId]),Qm=v=>{const y=ee.item;if(!y)return;const A=y.assignments.find($=>$.studentId===v);A&&ce({studentId:v,status:A.status||"pending",score:A.score===null||A.score===void 0?"":String(A.score),teacherComment:A.teacherComment||""})},Gm=async()=>{const v=ee.item;if(!v||!K.studentId)return;const y=K.score===""?null:Number(K.score);if(y!==null&&Number.isNaN(y)){u("   .");return}try{i(!0),u(""),await gv(t,v.id,{studentId:K.studentId,status:K.status,score:y,teacherComment:K.teacherComment}),d("   ."),await vt(),je({open:!1,item:null}),ce(_u)}catch(A){u(Ge(A,"   ."))}finally{i(!1)}},Ba=(v=null)=>{var A,$;fn();const y=(v==null?void 0:v.studentId)||(($=(A=ae==null?void 0:ae.students)==null?void 0:A[0])==null?void 0:$.id)||"";C({open:!0,row:v}),Z({studentId:y,examTitle:(v==null?void 0:v.examTitle)||"",score:(v==null?void 0:v.score)===null||(v==null?void 0:v.score)===void 0?"":String(v.score),maxMarks:(v==null?void 0:v.maxMarks)===null||(v==null?void 0:v.maxMarks)===void 0?"100":String(v.maxMarks)})},Ym=async()=>{if(!R.studentId){u("  .");return}const v=Number(R.score),y=Number(R.maxMarks);if(Number.isNaN(v)||Number.isNaN(y)||y<=0){u("   .");return}try{i(!0),u(""),await uv(t,{studentId:R.studentId,subject:h,examTitle:R.examTitle.trim()||"",score:v,maxMarks:y}),d("  ."),C({open:!1,row:null}),Z(Lu),await vt()}catch(A){u(Ge(A,"  ."))}finally{i(!1)}},Km=async v=>{ke(kl),ut({open:!0,student:v,profile:null,loading:!0,error:""});try{const y=await ov(t,v.id,{subject:h});ut({open:!0,student:v,profile:y,loading:!1,error:""})}catch(y){ut({open:!0,student:v,profile:null,loading:!1,error:Ge(y,"   .")})}},is=(v,y)=>{var $;const A=F||(($=f[0])==null?void 0:$.name)||"";A&&(M(A),T(v),y==="post"?Ti():y==="homework"?Pi():y==="grade"?Ba():y==="grade-import"&&Ua(A))},Ua=(v="")=>{var A;const y=v||F||((A=f[0])==null?void 0:A.name)||"";if(!y){u("      .");return}M(y),G({...wl,examTitle:R.examTitle||""}),Ee({open:!0,stage:"upload",loading:!1,preview:null,rows:[]})},Wa=()=>{Ee({open:!1,stage:"upload",loading:!1,preview:null,rows:[]}),G(wl)},Xm=async v=>{var A;const y=(A=v.target.files)==null?void 0:A[0];if(y)try{const $=await Ab(y);G(_e=>{var Me;return{..._e,fileName:y.name||"",fileDataUrl:$,sourceType:(Me=y.type)!=null&&Me.includes("pdf")?"pdf":"image"}})}catch($){u(Ge($,"  ."))}},Jm=async()=>{if(!F){u("  .");return}if(!O.fileDataUrl&&!O.ocrText.trim()){u(" /    OCR  .");return}try{Ee(y=>({...y,loading:!0})),u("");const v=await dv(t,{className:F,subject:h,examTitle:O.examTitle.trim()||R.examTitle.trim()||"Assessment",defaultMaxMarks:Number(O.defaultMaxMarks||100),sourceType:O.sourceType,fileDataUrl:O.fileDataUrl,ocrText:O.ocrText.trim()});Ee(y=>({...y,loading:!1,stage:"preview",preview:v,rows:((v==null?void 0:v.detectedRows)||[]).map(A=>({...A,skip:!!A.skip,confirmOverwrite:!!A.confirmOverwrite,examTitle:A.examTitle||O.examTitle.trim()||"Assessment"}))}))}catch(v){Ee(y=>({...y,loading:!1})),u(Ge(v,"   ."))}},Fr=(v,y)=>{Ee(A=>({...A,rows:A.rows.map($=>$.rowIndex===v?{...$,...y}:$)}))},Zm=async()=>{if(!ve.rows.length){u("   .");return}try{Ee(y=>({...y,loading:!0})),u("");const v=await pv(t,{className:F,subject:h,examTitle:O.examTitle.trim()||"Assessment",confirmImport:!0,rows:ve.rows.map(y=>({rowIndex:y.rowIndex,sourceStudentName:y.sourceStudentName,matchedStudentId:y.matchedStudentId||"",score:y.score,maxMarks:y.maxMarks,examTitle:y.examTitle,skip:y.skip===!0,confirmOverwrite:y.confirmOverwrite===!0}))});d(` : ${ne(v.importedCount)}   : ${ne(v.skippedCount)}.`),Wa(),await vt()}catch(v){Ee(y=>({...y,loading:!1})),u(Ge(v,"  ."))}},qm=async()=>{if(te.student)try{ke(y=>({...y,loading:!0,error:""}));const v=await mv(t,te.student.id,{subject:h,tone:X.tone});ke(y=>({...y,loading:!1,feedback:(v==null?void 0:v.draft)||null}))}catch(v){ke(y=>({...y,loading:!1,error:Ge(v,"   .")}))}},ef=async()=>{if(te.student)try{ke(y=>({...y,loading:!0,error:""}));const v=await fv(t,te.student.id,{subject:h,tone:X.tone,termLabel:"Current Term"});ke(y=>({...y,loading:!1,termComment:(v==null?void 0:v.comment)||null}))}catch(v){ke(y=>({...y,loading:!1,error:Ge(v,"   .")}))}},tf=()=>{var v;return n.jsxs("div",{className:"space-y-10",children:[n.jsxs("section",{className:"grid gap-3 sm:grid-cols-3",children:[n.jsxs("article",{className:"ht-surface p-4",children:[n.jsx("p",{className:"text-[12px] text-[var(--ht-neutral-500)]",children:"Pending responses"}),n.jsx("p",{className:"mt-2 text-[24px] font-semibold text-[var(--ht-neutral-900)]",children:ne(w.pendingResponses)})]}),n.jsxs("article",{className:"ht-surface p-4",children:[n.jsx("p",{className:"text-[12px] text-[var(--ht-neutral-500)]",children:"Flagged parents"}),n.jsx("p",{className:"mt-2 text-[24px] font-semibold text-[var(--ht-neutral-900)]",children:ne(w.flaggedParents)})]}),n.jsxs("article",{className:"ht-surface p-4",children:[n.jsx("p",{className:"text-[12px] text-[var(--ht-neutral-500)]",children:"Repeated incidents"}),n.jsx("p",{className:"mt-2 text-[24px] font-semibold text-[var(--ht-neutral-900)]",children:ne(w.repeatedIncidents)})]})]}),n.jsxs("section",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-baseline justify-between gap-3",children:[n.jsx("h2",{className:"text-[24px] font-semibold text-[var(--ht-neutral-900)]",children:" "}),n.jsxs("span",{className:"text-[13px] text-[var(--ht-neutral-500)]",children:[ne(f.length)," "]})]}),f.length?n.jsx("div",{className:"ht-scroll overflow-x-auto pb-2",children:n.jsx("div",{className:"grid min-w-[320px] grid-cols-1 gap-4 md:grid-cols-2 xl:grid-cols-4",children:f.map(y=>n.jsx(yb,{className:y.name,studentCount:y.students.length,onClick:()=>{M(y.name),T("posts")}},y.name))})}):n.jsx(Mt,{message:"   "})]}),n.jsxs("section",{className:"ht-surface p-5 sm:p-6",children:[n.jsxs("div",{className:"mb-4 flex items-center justify-between gap-3",children:[n.jsx("h2",{className:"text-[20px] font-semibold text-[var(--ht-neutral-900)]",children:"  "}),n.jsxs("span",{className:"text-[13px] text-[var(--ht-neutral-500)]",children:[ne(((v=w.weeklySnapshots)==null?void 0:v.length)||0)," "]})]}),(w.weeklySnapshots||[]).length?n.jsx("div",{className:"grid gap-3 lg:grid-cols-2",children:(w.weeklySnapshots||[]).slice(0,8).map(y=>n.jsxs("article",{className:"rounded-[4px] border border-[var(--ht-border-subtle)] p-3",children:[n.jsx("p",{className:"text-[14px] font-semibold text-[var(--ht-neutral-900)]",children:y.studentName}),n.jsxs("p",{className:"mt-1 text-[12px] text-[var(--ht-neutral-600)]",children:[y.className||"-","  ",y.academicDirection,"  ",y.riskStatus," risk"]}),n.jsx("p",{className:"mt-2 text-[12px] text-[var(--ht-neutral-600)]",children:y.attendancePattern}),n.jsx("p",{className:"mt-1 text-[12px] text-[var(--ht-neutral-600)]",children:y.behaviorNote})]},`${y.studentId}-${y.className}`))}):n.jsx(Mt,{message:"      ."})]}),n.jsxs("section",{className:"ht-surface p-5 sm:p-6",children:[n.jsxs("div",{className:"mb-4 flex items-center justify-between gap-3",children:[n.jsx("h2",{className:"text-[20px] font-semibold text-[var(--ht-neutral-900)]",children:"  "}),n.jsx("span",{className:"text-[13px] text-[var(--ht-neutral-500)]",children:" "})]}),(w.classAnalysis||[]).length?n.jsx("div",{className:"space-y-2",children:(w.classAnalysis||[]).slice(0,6).map((y,A)=>n.jsxs("article",{className:"rounded-[4px] border border-[var(--ht-border-subtle)] p-3",children:[n.jsx("p",{className:"text-[13px] text-[var(--ht-neutral-800)]",children:y.message}),n.jsx("p",{className:"mt-1 text-[12px] text-[var(--ht-neutral-500)]",children:y.suggestion})]},`${y.type}-${y.className}-${A}`))}):n.jsx(Mt,{message:"     ."})]}),n.jsx(bb,{items:_m,onViewAll:()=>I(y=>!y)}),n.jsx(Pb,{onPost:()=>is("posts","post"),onHomework:()=>is("homework","homework"),onGrade:()=>is("grades","grade"),onGradeImport:()=>is("grades","grade-import"),disabled:!f.length})]})};return n.jsxs("main",{dir:"rtl",className:"ht-theme min-h-screen bg-[var(--ht-bg-base)]",children:[n.jsxs("div",{className:"mx-auto max-w-[1240px] px-4 py-8 sm:px-6 lg:px-12",children:[n.jsx(Mb,{teacherName:(r==null?void 0:r.name)||"",avatarUrl:Lm,subjectLabel:h?`  : ${h}`:"  ",onOpenNotifications:zm,onOpenSettings:Om,onOpenSchedule:()=>e("/teacher/schedule"),onLogout:Rm}),c?n.jsx("div",{className:"mb-6 rounded-[6px] border border-[var(--ht-danger-100)] bg-[var(--ht-danger-100)] px-4 py-3 text-[13px] text-[var(--ht-danger-600)]",children:c}):null,p?n.jsx("div",{className:"mb-6 rounded-[6px] border border-[var(--ht-success-100)] bg-[var(--ht-success-100)] px-4 py-3 text-[13px] text-[var(--ht-success-600)]",children:p}):null,a?n.jsx("section",{className:"ht-surface p-8",children:n.jsx("p",{className:"text-[14px] text-[var(--ht-neutral-500)]",children:"  ..."})}):ae?n.jsxs("section",{className:"space-y-6",children:[n.jsx("button",{type:"button",onClick:()=>{M(""),T("posts")},className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-4 text-[13px] font-medium text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)] active:scale-[0.98] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--ht-border-focus)] focus-visible:ring-offset-2",children:"   "}),n.jsx(Tb,{className:ae.name,studentCount:ae.students.length,activeTab:B,onChangeTab:T,posts:Da,homework:mr,grades:$a,students:Mm,summary:Am,recentSubmissions:Im,onCreatePost:Ti,onEditPost:Dm,onDeletePost:Bm,onCreateHomework:Pi,onEditHomework:Um,onDeleteHomework:Hm,onOpenHomeworkDetail:Vm,onAddGrade:()=>Ba(),onImportGrade:()=>Ua(ae.name),onEditGrade:v=>Ba(v),onViewStudent:v=>Km(v)})]}):tf()]}),n.jsx(jt,{open:L.open,onClose:()=>E({open:!1,mode:"create",post:null}),title:L.mode==="edit"?" ":" ",description:"     .",footer:n.jsxs(n.Fragment,{children:[n.jsx("button",{type:"button",onClick:()=>E({open:!1,mode:"create",post:null}),className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-4 text-[13px] text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)] active:scale-[0.98]",children:""}),n.jsx("button",{type:"button",disabled:o,onClick:$m,className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-primary-600)] bg-[var(--ht-primary-600)] px-4 text-[13px] text-white hover:bg-[var(--ht-primary-700)] active:scale-[0.98] disabled:opacity-60",children:o?" ...":""})]}),children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:""}),n.jsx("input",{type:"text",value:P.title,onChange:v=>W(y=>({...y,title:v.target.value})),className:"h-10 w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[14px] text-[var(--ht-neutral-800)] outline-none focus:border-[var(--ht-border-focus)]"})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:""}),n.jsx("textarea",{value:P.body,onChange:v=>W(y=>({...y,body:v.target.value})),className:"min-h-[120px] w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 py-2 text-[14px] leading-[1.8] text-[var(--ht-neutral-800)] outline-none focus:border-[var(--ht-border-focus)]"})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:""}),n.jsx("input",{type:"text",value:P.attachmentName,onChange:v=>W(y=>({...y,attachmentName:v.target.value})),className:"h-10 w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[14px] text-[var(--ht-neutral-800)] outline-none focus:border-[var(--ht-border-focus)]"})]})]})}),n.jsx(jt,{open:Q.open,onClose:()=>ye({open:!1,mode:"create",item:null}),title:Q.mode==="edit"?" ":" ",description:"    .",footer:n.jsxs(n.Fragment,{children:[n.jsx("button",{type:"button",onClick:()=>ye({open:!1,mode:"create",item:null}),className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-4 text-[13px] text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)] active:scale-[0.98]",children:""}),n.jsx("button",{type:"button",disabled:o,onClick:Wm,className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-primary-600)] bg-[var(--ht-primary-600)] px-4 text-[13px] text-white hover:bg-[var(--ht-primary-700)] active:scale-[0.98] disabled:opacity-60",children:o?" ...":""})]}),children:n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[n.jsxs("label",{className:"block sm:col-span-2",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:" "}),n.jsx("input",{type:"text",value:D.title,onChange:v=>H(y=>({...y,title:v.target.value})),className:"h-10 w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[14px] text-[var(--ht-neutral-800)] outline-none focus:border-[var(--ht-border-focus)]"})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:" "}),n.jsx("input",{type:"date",value:D.dueDate,onChange:v=>H(y=>({...y,dueDate:v.target.value})),className:"h-10 w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[14px] text-[var(--ht-neutral-800)] outline-none focus:border-[var(--ht-border-focus)]"})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:""}),n.jsx("input",{type:"number",min:"1",value:D.maxMarks,onChange:v=>H(y=>({...y,maxMarks:v.target.value})),className:"h-10 w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[14px] text-[var(--ht-neutral-800)] outline-none focus:border-[var(--ht-border-focus)]"})]}),n.jsxs("label",{className:"block sm:col-span-2",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:""}),n.jsx("textarea",{value:D.description,onChange:v=>H(y=>({...y,description:v.target.value})),className:"min-h-[100px] w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 py-2 text-[14px] leading-[1.8] text-[var(--ht-neutral-800)] outline-none focus:border-[var(--ht-border-focus)]"})]}),n.jsxs("label",{className:"block sm:col-span-2",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:""}),n.jsx("input",{type:"text",value:D.attachmentName,onChange:v=>H(y=>({...y,attachmentName:v.target.value})),className:"h-10 w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[14px] text-[var(--ht-neutral-800)] outline-none focus:border-[var(--ht-border-focus)]"})]})]})}),n.jsx(jt,{open:V.open,onClose:()=>C({open:!1,row:null}),title:" ",description:"    .",footer:n.jsxs(n.Fragment,{children:[n.jsx("button",{type:"button",disabled:o,onClick:()=>{C({open:!1,row:null}),Ua(F)},className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-4 text-[13px] text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)] active:scale-[0.98] disabled:opacity-60",children:"  "}),n.jsx("button",{type:"button",onClick:()=>C({open:!1,row:null}),className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-4 text-[13px] text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)] active:scale-[0.98]",children:""}),n.jsx("button",{type:"button",disabled:o,onClick:Ym,className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-primary-600)] bg-[var(--ht-primary-600)] px-4 text-[13px] text-white hover:bg-[var(--ht-primary-700)] active:scale-[0.98] disabled:opacity-60",children:o?" ...":""})]}),children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:""}),n.jsxs("select",{value:R.studentId,onChange:v=>Z(y=>({...y,studentId:v.target.value})),className:"h-10 w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[14px] text-[var(--ht-neutral-800)] outline-none focus:border-[var(--ht-border-focus)]",children:[n.jsx("option",{value:"",children:" "}),((ae==null?void 0:ae.students)||[]).map(v=>n.jsx("option",{value:v.id,children:v.name},v.id))]})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:""}),n.jsx("input",{type:"text",value:R.examTitle,onChange:v=>Z(y=>({...y,examTitle:v.target.value})),className:"h-10 w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[14px] text-[var(--ht-neutral-800)] outline-none focus:border-[var(--ht-border-focus)]"})]}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:""}),n.jsx("input",{type:"number",min:"0",value:R.score,onChange:v=>Z(y=>({...y,score:v.target.value})),className:"h-10 w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[14px] text-[var(--ht-neutral-800)] outline-none focus:border-[var(--ht-border-focus)]"})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:""}),n.jsx("input",{type:"number",min:"1",value:R.maxMarks,onChange:v=>Z(y=>({...y,maxMarks:v.target.value})),className:"h-10 w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[14px] text-[var(--ht-neutral-800)] outline-none focus:border-[var(--ht-border-focus)]"})]})]})]})}),n.jsx(jt,{open:ve.open,onClose:Wa,title:"    ",description:"   PDF   OCR      .",size:"xl",footer:n.jsxs(n.Fragment,{children:[n.jsx("button",{type:"button",onClick:Wa,className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-4 text-[13px] text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)] active:scale-[0.98]",children:""}),ve.stage==="upload"?n.jsx("button",{type:"button",disabled:ve.loading,onClick:Jm,className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-primary-600)] bg-[var(--ht-primary-600)] px-4 text-[13px] text-white hover:bg-[var(--ht-primary-700)] active:scale-[0.98] disabled:opacity-60",children:ve.loading?" ...":""}):n.jsx("button",{type:"button",disabled:ve.loading,onClick:Zm,className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-primary-600)] bg-[var(--ht-primary-600)] px-4 text-[13px] text-white hover:bg-[var(--ht-primary-700)] active:scale-[0.98] disabled:opacity-60",children:ve.loading?" ...":" "})]}),children:ve.stage==="upload"?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("p",{className:"text-[13px] text-[var(--ht-neutral-500)]",children:[" : ",F||"-","  : ",h||"-"]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:"  "}),n.jsx("input",{type:"file",accept:"image/*,application/pdf",onChange:Xm,className:"h-10 w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[13px] text-[var(--ht-neutral-700)]"}),O.fileName?n.jsx("p",{className:"mt-1 text-[12px] text-[var(--ht-neutral-500)]",children:O.fileName}):null]}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:" "}),n.jsx("input",{type:"text",value:O.examTitle,onChange:v=>G(y=>({...y,examTitle:v.target.value})),className:"h-10 w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[14px] text-[var(--ht-neutral-800)] outline-none"})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:"  "}),n.jsx("input",{type:"number",min:"1",value:O.defaultMaxMarks,onChange:v=>G(y=>({...y,defaultMaxMarks:v.target.value})),className:"h-10 w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[14px] text-[var(--ht-neutral-800)] outline-none"})]})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:" OCR ( -    PDF)"}),n.jsx("textarea",{value:O.ocrText,onChange:v=>G(y=>({...y,ocrText:v.target.value})),className:"min-h-[120px] w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 py-2 text-[13px] text-[var(--ht-neutral-800)] outline-none",placeholder:"  OCR    ."})]})]}):n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-3 sm:grid-cols-4",children:[n.jsxs("article",{className:"ht-soft-surface p-3",children:[n.jsx("p",{className:"text-[11px] text-[var(--ht-neutral-500)]",children:" "}),n.jsx("p",{className:"mt-1 text-[18px] font-semibold text-[var(--ht-neutral-900)]",children:ne(((_i=(Li=ve.preview)==null?void 0:Li.summary)==null?void 0:_i.totalRows)||0)})]}),n.jsxs("article",{className:"ht-soft-surface p-3",children:[n.jsx("p",{className:"text-[11px] text-[var(--ht-neutral-500)]",children:" "}),n.jsx("p",{className:"mt-1 text-[18px] font-semibold text-[var(--ht-neutral-900)]",children:ne(((Ai=(Mi=ve.preview)==null?void 0:Mi.summary)==null?void 0:Ai.matchedRows)||0)})]}),n.jsxs("article",{className:"ht-soft-surface p-3",children:[n.jsx("p",{className:"text-[11px] text-[var(--ht-neutral-500)]",children:"  "}),n.jsx("p",{className:"mt-1 text-[18px] font-semibold text-[var(--ht-neutral-900)]",children:ne(((Ri=(Ii=ve.preview)==null?void 0:Ii.summary)==null?void 0:Ri.unrecognizedRows)||0)})]}),n.jsxs("article",{className:"ht-soft-surface p-3",children:[n.jsx("p",{className:"text-[11px] text-[var(--ht-neutral-500)]",children:"  "}),n.jsx("p",{className:"mt-1 text-[18px] font-semibold text-[var(--ht-neutral-900)]",children:ne(((Oi=(zi=ve.preview)==null?void 0:zi.summary)==null?void 0:Oi.inconsistentRows)||0)})]})]}),n.jsx("div",{className:"max-h-[420px] overflow-auto rounded-[4px] border border-[var(--ht-border-subtle)]",children:n.jsxs("table",{className:"min-w-full border-collapse text-right",children:[n.jsx("thead",{className:"bg-[var(--ht-bg-subtle)]",children:n.jsx("tr",{children:["  "," ","","","","",""].map(v=>n.jsx("th",{className:"whitespace-nowrap px-3 py-2 text-[11px] font-semibold uppercase tracking-[0.06em] text-[var(--ht-neutral-500)]",children:v},v))})}),n.jsx("tbody",{children:ve.rows.map(v=>{var y,A;return n.jsxs("tr",{className:"border-t border-[var(--ht-border-subtle)]",children:[n.jsx("td",{className:"whitespace-nowrap px-3 py-2 text-[13px] text-[var(--ht-neutral-800)]",children:v.sourceStudentName||`Row ${v.rowIndex+1}`}),n.jsx("td",{className:"px-3 py-2",children:n.jsxs("select",{value:v.matchedStudentId||"",onChange:$=>Fr(v.rowIndex,{matchedStudentId:$.target.value}),className:"h-9 w-[210px] rounded-[4px] border border-[var(--ht-border-default)] px-2 text-[12px] text-[var(--ht-neutral-800)] outline-none",children:[n.jsx("option",{value:"",children:"Unrecognized Name"}),((ae==null?void 0:ae.students)||[]).map($=>n.jsx("option",{value:$.id,children:$.name},$.id))]})}),n.jsx("td",{className:"px-3 py-2",children:n.jsx("input",{type:"number",value:v.score??"",onChange:$=>Fr(v.rowIndex,{score:$.target.value}),className:"h-9 w-20 rounded-[4px] border border-[var(--ht-border-default)] px-2 text-[12px] text-[var(--ht-neutral-800)] outline-none"})}),n.jsx("td",{className:"px-3 py-2",children:n.jsx("input",{type:"number",value:v.maxMarks??"",onChange:$=>Fr(v.rowIndex,{maxMarks:$.target.value}),className:"h-9 w-20 rounded-[4px] border border-[var(--ht-border-default)] px-2 text-[12px] text-[var(--ht-neutral-800)] outline-none"})}),n.jsx("td",{className:"px-3 py-2",children:n.jsx("input",{type:"text",value:v.examTitle||"",onChange:$=>Fr(v.rowIndex,{examTitle:$.target.value}),className:"h-9 w-28 rounded-[4px] border border-[var(--ht-border-default)] px-2 text-[12px] text-[var(--ht-neutral-800)] outline-none"})}),n.jsxs("td",{className:"px-3 py-2 text-[11px] text-[var(--ht-neutral-500)]",children:[(y=v.issues)!=null&&y.length?v.issues.join(" / "):"-",(A=v.overwrite)!=null&&A.requiresOverwriteConfirmation?n.jsxs("label",{className:"mt-1 flex items-center gap-1 text-[11px] text-[var(--ht-danger-600)]",children:[n.jsx("input",{type:"checkbox",checked:v.confirmOverwrite===!0,onChange:$=>Fr(v.rowIndex,{confirmOverwrite:$.target.checked})}),n.jsx("span",{children:" "})]}):null]}),n.jsx("td",{className:"px-3 py-2 text-center",children:n.jsx("input",{type:"checkbox",checked:v.skip===!0,onChange:$=>Fr(v.rowIndex,{skip:$.target.checked})})})]},v.rowIndex)})})]})})]})}),n.jsx(jt,{open:ee.open,onClose:()=>je({open:!1,item:null}),title:((Di=ee.item)==null?void 0:Di.title)||" ",description:"    .",size:"lg",footer:n.jsxs(n.Fragment,{children:[n.jsx("button",{type:"button",onClick:()=>je({open:!1,item:null}),className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-4 text-[13px] text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)] active:scale-[0.98]",children:""}),n.jsx("button",{type:"button",disabled:o||!K.studentId,onClick:Gm,className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-primary-600)] bg-[var(--ht-primary-600)] px-4 text-[13px] text-white hover:bg-[var(--ht-primary-700)] active:scale-[0.98] disabled:opacity-60",children:o?" ...":""})]}),children:ee.item?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("p",{className:"text-[13px] text-[var(--ht-neutral-500)]",children:[": ",gb(ee.item.dueDate)]}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:""}),n.jsx("select",{value:K.studentId,onChange:v=>Qm(v.target.value),className:"h-10 w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[14px] text-[var(--ht-neutral-800)] outline-none focus:border-[var(--ht-border-focus)]",children:(ee.item.assignments||[]).map(v=>n.jsx("option",{value:v.studentId,children:v.studentName},v.studentId))})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:""}),n.jsxs("select",{value:K.status,onChange:v=>ce(y=>({...y,status:v.target.value})),className:"h-10 w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[14px] text-[var(--ht-neutral-800)] outline-none focus:border-[var(--ht-border-focus)]",children:[n.jsx("option",{value:"pending",children:" "}),n.jsx("option",{value:"submitted",children:""}),n.jsx("option",{value:"graded",children:""})]})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:""}),n.jsx("input",{type:"number",min:"0",max:ee.item.maxMarks,value:K.score,onChange:v=>ce(y=>({...y,score:v.target.value})),className:"h-10 w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[14px] text-[var(--ht-neutral-800)] outline-none focus:border-[var(--ht-border-focus)]"})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:" "}),n.jsx("input",{type:"text",value:K.teacherComment,onChange:v=>ce(y=>({...y,teacherComment:v.target.value})),className:"h-10 w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[14px] text-[var(--ht-neutral-800)] outline-none focus:border-[var(--ht-border-focus)]"})]})]}),n.jsxs("div",{className:"ht-soft-surface p-4",children:[n.jsxs("p",{className:"text-[13px] text-[var(--ht-neutral-600)]",children:["  : ",Mu[tt==null?void 0:tt.status]||"-"]}),n.jsxs("p",{className:"mt-1 text-[13px] text-[var(--ht-neutral-600)]",children:[" : ",sr(tt==null?void 0:tt.updatedAt)]}),n.jsxs("p",{className:"mt-1 text-[13px] text-[var(--ht-neutral-600)]",children:[" : ",(tt==null?void 0:tt.submissionAttachment)||(tt==null?void 0:tt.submissionText)||"  "]})]})]}):null}),n.jsx(jt,{open:te.open,onClose:()=>{ut({open:!1,student:null,profile:null,loading:!1,error:""}),ke(kl)},title:te.student?` : ${te.student.name}`:" ",description:"     .",size:"lg",children:te.loading?n.jsx("p",{className:"text-[14px] text-[var(--ht-neutral-500)]",children:"   ..."}):te.error?n.jsx("p",{className:"text-[14px] text-[var(--ht-danger-600)]",children:te.error}):te.profile?n.jsxs("div",{className:"space-y-5",children:[n.jsxs("section",{className:"grid gap-3 sm:grid-cols-2",children:[n.jsxs("div",{className:"ht-soft-surface p-4",children:[n.jsx("p",{className:"text-[12px] text-[var(--ht-neutral-500)]",children:""}),n.jsx("p",{className:"mt-1 text-[16px] font-semibold text-[var(--ht-neutral-900)]",children:te.profile.student.name})]}),n.jsxs("div",{className:"ht-soft-surface p-4",children:[n.jsx("p",{className:"text-[12px] text-[var(--ht-neutral-500)]",children:" "}),n.jsx("p",{className:"mt-1 text-[16px] text-[var(--ht-neutral-900)]",children:te.profile.student.email||"-"})]}),n.jsxs("div",{className:"ht-soft-surface p-4",children:[n.jsx("p",{className:"text-[12px] text-[var(--ht-neutral-500)]",children:" "}),n.jsx("p",{className:"mt-1 text-[16px] font-semibold text-[var(--ht-neutral-900)]",children:(()=>{const v=te.profile.examMarks||[];if(!v.length)return"0%";const y=v.reduce((A,$)=>{const _e=Number($.rawScore??$.score??0),Me=Number($.maxMarks||100)||100;return A+_e/Me*100},0)/v.length;return`${ne(y,1)}%`})()})]}),n.jsxs("div",{className:"ht-soft-surface p-4",children:[n.jsx("p",{className:"text-[12px] text-[var(--ht-neutral-500)]",children:" "}),n.jsx("p",{className:"mt-1 text-[16px] text-[var(--ht-neutral-900)]",children:((Bi=($i=te.profile.feedbackReceived)==null?void 0:$i[0])==null?void 0:Bi.content)||"-"})]})]}),te.profile.weeklySnapshot?n.jsxs("section",{className:"ht-soft-surface p-4",children:[n.jsx("h4",{className:"text-[15px] font-semibold text-[var(--ht-neutral-900)]",children:"AI Weekly Snapshot"}),n.jsxs("p",{className:"mt-2 text-[13px] text-[var(--ht-neutral-600)]",children:[te.profile.weeklySnapshot.academicDirection,"  ",te.profile.weeklySnapshot.riskStatus," risk"]}),n.jsx("p",{className:"mt-1 text-[13px] text-[var(--ht-neutral-600)]",children:te.profile.weeklySnapshot.attendancePattern}),n.jsx("p",{className:"mt-1 text-[13px] text-[var(--ht-neutral-600)]",children:te.profile.weeklySnapshot.behaviorNote}),n.jsxs("p",{className:"mt-1 text-[13px] text-[var(--ht-neutral-600)]",children:["Parent engagement: ",te.profile.weeklySnapshot.parentEngagementStatus]})]}):null,n.jsxs("section",{className:"ht-soft-surface space-y-3 p-4",children:[n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsx("h4",{className:"text-[15px] font-semibold text-[var(--ht-neutral-900)]",children:"AI Feedback Assistant"}),n.jsxs("select",{value:X.tone,onChange:v=>ke(y=>({...y,tone:v.target.value})),className:"h-9 rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[13px] text-[var(--ht-neutral-700)] outline-none",children:[n.jsx("option",{value:"neutral",children:"Neutral"}),n.jsx("option",{value:"encouraging",children:"Encouraging"}),n.jsx("option",{value:"firm",children:"Firm"})]}),n.jsx("button",{type:"button",disabled:X.loading,onClick:qm,className:"ht-interactive inline-flex h-9 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[12px] text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)] disabled:opacity-60",children:X.loading?" ...":"  / "}),n.jsx("button",{type:"button",disabled:X.loading,onClick:ef,className:"ht-interactive inline-flex h-9 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[12px] text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)] disabled:opacity-60",children:X.loading?" ...":"  "})]}),X.error?n.jsx("p",{className:"text-[12px] text-[var(--ht-danger-600)]",children:X.error}):null,X.feedback?n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-1 block text-[12px] text-[var(--ht-neutral-500)]",children:"Teacher Internal Summary (Editable)"}),n.jsx("textarea",{value:X.feedback.teacherInternalSummary||"",onChange:v=>ke(y=>({...y,feedback:{...y.feedback||{},teacherInternalSummary:v.target.value}})),className:"min-h-[84px] w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 py-2 text-[13px] text-[var(--ht-neutral-800)] outline-none"})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-1 block text-[12px] text-[var(--ht-neutral-500)]",children:"Parent Summary (Editable)"}),n.jsx("textarea",{value:X.feedback.parentSummary||"",onChange:v=>ke(y=>({...y,feedback:{...y.feedback||{},parentSummary:v.target.value}})),className:"min-h-[84px] w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 py-2 text-[13px] text-[var(--ht-neutral-800)] outline-none"})]})]}):null,X.termComment?n.jsxs("div",{className:"grid gap-2 sm:grid-cols-2",children:[n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-1 block text-[12px] text-[var(--ht-neutral-500)]",children:"Academic Comment"}),n.jsx("textarea",{value:X.termComment.academicComment||"",onChange:v=>ke(y=>({...y,termComment:{...y.termComment||{},academicComment:v.target.value}})),className:"min-h-[84px] w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 py-2 text-[13px] text-[var(--ht-neutral-800)] outline-none"})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-1 block text-[12px] text-[var(--ht-neutral-500)]",children:"Behavior Reflection"}),n.jsx("textarea",{value:X.termComment.behaviorReflection||"",onChange:v=>ke(y=>({...y,termComment:{...y.termComment||{},behaviorReflection:v.target.value}})),className:"min-h-[84px] w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 py-2 text-[13px] text-[var(--ht-neutral-800)] outline-none"})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-1 block text-[12px] text-[var(--ht-neutral-500)]",children:"Attendance Note"}),n.jsx("textarea",{value:X.termComment.attendanceNote||"",onChange:v=>ke(y=>({...y,termComment:{...y.termComment||{},attendanceNote:v.target.value}})),className:"min-h-[84px] w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 py-2 text-[13px] text-[var(--ht-neutral-800)] outline-none"})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-1 block text-[12px] text-[var(--ht-neutral-500)]",children:"Improvement Recommendation"}),n.jsx("textarea",{value:X.termComment.improvementRecommendation||"",onChange:v=>ke(y=>({...y,termComment:{...y.termComment||{},improvementRecommendation:v.target.value}})),className:"min-h-[84px] w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 py-2 text-[13px] text-[var(--ht-neutral-800)] outline-none"})]})]}):null]}),n.jsxs("section",{children:[n.jsx("h4",{className:"mb-3 text-[16px] font-semibold text-[var(--ht-neutral-900)]",children:" "}),n.jsxs("div",{className:"space-y-2",children:[(te.profile.homework||[]).slice(0,5).map(v=>n.jsxs("article",{className:"rounded-[4px] border border-[var(--ht-border-subtle)] p-3",children:[n.jsx("p",{className:"text-[14px] font-medium text-[var(--ht-neutral-800)]",children:v.title}),n.jsxs("p",{className:"mt-1 text-[12px] text-[var(--ht-neutral-500)]",children:[": ",Mu[v.status]||v.status,"  : ",sr(v.assignmentUpdatedAt)]})]},v.id)),(Ui=te.profile.homework)!=null&&Ui.length?null:n.jsx("p",{className:"text-[13px] text-[var(--ht-neutral-500)]",children:"   "})]})]}),n.jsxs("section",{children:[n.jsx("h4",{className:"mb-3 text-[16px] font-semibold text-[var(--ht-neutral-900)]",children:" "}),n.jsxs("div",{className:"space-y-2",children:[(te.profile.examMarks||[]).slice(0,5).map(v=>n.jsxs("article",{className:"rounded-[4px] border border-[var(--ht-border-subtle)] p-3",children:[n.jsx("p",{className:"text-[14px] font-medium text-[var(--ht-neutral-800)]",children:v.examTitle||v.subject}),n.jsxs("p",{className:"mt-1 text-[12px] text-[var(--ht-neutral-500)]",children:[ne(v.rawScore??v.score,2)," / ",ne(v.maxMarks||100,2)]})]},`${v.subject}-${v.updatedAt}`)),(Wi=te.profile.examMarks)!=null&&Wi.length?null:n.jsx("p",{className:"text-[13px] text-[var(--ht-neutral-500)]",children:"   "})]})]})]}):n.jsx("p",{className:"text-[14px] text-[var(--ht-neutral-500)]",children:"   "})}),n.jsx(jt,{open:et.open,onClose:()=>pr({open:!1,title:"",kind:""}),title:et.title,children:et.kind==="notifications"?n.jsxs("div",{className:"space-y-2",children:[mn.slice(0,8).map(v=>n.jsxs("article",{className:"rounded-[4px] border border-[var(--ht-border-subtle)] p-3",children:[n.jsx("p",{className:"text-[14px] font-medium text-[var(--ht-neutral-800)]",children:v.title}),n.jsxs("p",{className:"mt-1 text-[12px] text-[var(--ht-neutral-500)]",children:[v.type,"  ",v.className,"  ",sr(v.date)]})]},v.id)),mn.length?null:n.jsx("p",{className:"text-[14px] text-[var(--ht-neutral-500)]",children:"   "})]}):n.jsx("p",{className:"text-[14px] leading-[1.9] text-[var(--ht-neutral-600)]",children:"     .    ."})})]})}const Au={1:"",2:"",3:"",4:"",5:""},Rb={pendingResponses:0,flaggedParents:0,repeatedIncidents:0},zb=(e=[])=>e.reduce((t,r)=>(t[r.name]=r.students||[],t),{});function Ob(){var ve,Ee;const e=ur(),{token:t}=xe(),[r,s]=m.useState(!0),[a,l]=m.useState(!1),[o,i]=m.useState(""),[c,u]=m.useState(""),[p,d]=m.useState(""),[f,N]=m.useState([]),[b,j]=m.useState({}),[k,x]=m.useState(Rb),[h,g]=m.useState({open:!1,entry:null}),[w,S]=m.useState(new Date().toISOString().slice(0,10)),[F,M]=m.useState({}),[B,T]=m.useState({open:!1,entry:null}),[_,I]=m.useState(""),[L,E]=m.useState(""),[P,W]=m.useState({open:!1,entry:null}),[Q,ye]=m.useState(""),[D,H]=m.useState("low"),[V,C]=m.useState(""),R=async()=>{try{s(!0),i("");const[O,G,X]=await Promise.all([bv(t),um(t),dm(t)]);N(O.entries||[]),j(zb(G.classes||[])),x({pendingResponses:Number(X.pendingResponses||0),flaggedParents:Number(X.flaggedParents||0),repeatedIncidents:Number(X.repeatedIncidents||0)})}catch(O){i((O==null?void 0:O.message)||"   .")}finally{s(!1)}};m.useEffect(()=>{R()},[t]);const Z=m.useMemo(()=>p?f.filter(O=>String(O.dayOfWeek)===String(p)):f,[p,f]),ee=m.useMemo(()=>Z.reduce((O,G)=>{const X=String(G.dayOfWeek);return O[X]||(O[X]=[]),O[X].push(G),O},{}),[Z]),je=()=>{i(""),u("")},K=O=>{je();const X=(b[O.className]||[]).reduce((ke,vt)=>(ke[vt.id]="present",ke),{});M(X),S(new Date().toISOString().slice(0,10)),g({open:!0,entry:O})},ce=async()=>{const O=h.entry;if(!O)return;const G=b[O.className]||[];if(!G.length){i("     .");return}try{l(!0),i(""),await yv(t,{className:O.className,subject:O.subject,attendanceDate:w,slotStartTime:O.startTime,slotEndTime:O.endTime,entries:G.map(X=>({studentId:X.id,status:F[X.id]||"present"}))}),u("  ."),g({open:!1,entry:null})}catch(X){i((X==null?void 0:X.message)||"  .")}finally{l(!1)}},te=O=>{je(),I(""),E(""),T({open:!0,entry:O})},ut=async()=>{const O=B.entry;if(O){if(!_.trim()||!L.trim()){i("   .");return}try{l(!0),i(""),await pm(t,{className:O.className,subject:O.subject,title:_.trim(),body:L.trim()}),u("  ."),T({open:!1,entry:null})}catch(G){i((G==null?void 0:G.message)||"  .")}finally{l(!1)}}},et=O=>{var X;je();const G=b[O.className]||[];ye(((X=G[0])==null?void 0:X.id)||""),H("low"),C(""),W({open:!0,entry:O})},pr=async()=>{const O=P.entry;if(O){if(!Q||!V.trim()){i("   .");return}try{l(!0),i(""),await jv(t,{className:O.className,subject:O.subject,studentId:Q,severity:D,description:V.trim()}),u("       ."),W({open:!1,entry:null}),await R()}catch(G){i((G==null?void 0:G.message)||"  .")}finally{l(!1)}}};return n.jsxs("main",{dir:"rtl",className:"ht-theme min-h-screen bg-[var(--ht-bg-base)]",children:[n.jsxs("div",{className:"mx-auto max-w-[1200px] px-4 py-8 sm:px-6 lg:px-12",children:[n.jsxs("header",{className:"mb-8 flex flex-wrap items-center justify-between gap-3",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"ht-display text-[30px] font-semibold text-[var(--ht-neutral-900)]",children:" "}),n.jsx("p",{className:"mt-1 text-[13px] text-[var(--ht-neutral-500)]",children:"    "})]}),n.jsx("button",{type:"button",onClick:()=>e("/teacher"),className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-4 text-[13px] font-medium text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-subtle)]",children:" "})]}),o?n.jsx("p",{className:"mb-4 rounded-[4px] border border-[var(--ht-danger-100)] bg-[var(--ht-danger-100)] px-3 py-2 text-[13px] text-[var(--ht-danger-600)]",children:o}):null,c?n.jsx("p",{className:"mb-4 rounded-[4px] border border-[var(--ht-success-100)] bg-[var(--ht-success-100)] px-3 py-2 text-[13px] text-[var(--ht-success-600)]",children:c}):null,n.jsxs("section",{className:"mb-6 grid gap-3 sm:grid-cols-3",children:[n.jsxs("article",{className:"ht-surface p-4",children:[n.jsx("p",{className:"text-[12px] text-[var(--ht-neutral-500)]",children:"Pending responses"}),n.jsx("p",{className:"mt-2 text-[24px] font-semibold text-[var(--ht-neutral-900)]",children:k.pendingResponses})]}),n.jsxs("article",{className:"ht-surface p-4",children:[n.jsx("p",{className:"text-[12px] text-[var(--ht-neutral-500)]",children:"Flagged parents"}),n.jsx("p",{className:"mt-2 text-[24px] font-semibold text-[var(--ht-neutral-900)]",children:k.flaggedParents})]}),n.jsxs("article",{className:"ht-surface p-4",children:[n.jsx("p",{className:"text-[12px] text-[var(--ht-neutral-500)]",children:"Repeated incidents"}),n.jsx("p",{className:"mt-2 text-[24px] font-semibold text-[var(--ht-neutral-900)]",children:k.repeatedIncidents})]})]}),n.jsxs("section",{className:"mb-4 flex items-center justify-between gap-3",children:[n.jsx("h2",{className:"text-[20px] font-semibold text-[var(--ht-neutral-900)]",children:""}),n.jsxs("select",{value:p,onChange:O=>d(O.target.value),className:"h-10 rounded-[4px] border border-[var(--ht-border-default)] bg-white px-3 text-[13px] text-[var(--ht-neutral-700)]",children:[n.jsx("option",{value:"",children:" "}),Object.entries(Au).map(([O,G])=>n.jsx("option",{value:O,children:G},O))]})]}),r?n.jsxs("section",{className:"grid gap-3",children:[n.jsx("div",{className:"skeleton h-20"}),n.jsx("div",{className:"skeleton h-20"}),n.jsx("div",{className:"skeleton h-20"})]}):Z.length?n.jsx("section",{className:"space-y-5",children:Object.keys(ee).sort((O,G)=>Number(O)-Number(G)).map(O=>n.jsxs("article",{className:"ht-surface p-5",children:[n.jsx("h3",{className:"mb-4 text-[18px] font-semibold text-[var(--ht-neutral-900)]",children:Au[O]||O}),n.jsx("div",{className:"grid gap-3",children:ee[O].slice().sort((G,X)=>String(G.startTime).localeCompare(String(X.startTime))).map(G=>n.jsx("div",{className:"rounded-[4px] border border-[var(--ht-border-subtle)] bg-[var(--ht-bg-subtle)] p-4",children:n.jsxs("div",{className:"mb-3 flex flex-wrap items-center justify-between gap-3",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-[14px] font-semibold text-[var(--ht-neutral-900)]",children:[G.startTime," - ",G.endTime]}),n.jsxs("p",{className:"text-[13px] text-[var(--ht-neutral-600)]",children:[G.className,"  ",G.subject,"  ",G.room||"-"]})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("button",{type:"button",onClick:()=>K(G),className:"ht-interactive inline-flex h-9 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[12px] font-medium text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-base)]",children:"Mark attendance"}),n.jsx("button",{type:"button",onClick:()=>te(G),className:"ht-interactive inline-flex h-9 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[12px] font-medium text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-base)]",children:"Post update"}),n.jsx("button",{type:"button",onClick:()=>et(G),className:"ht-interactive inline-flex h-9 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[12px] font-medium text-[var(--ht-neutral-700)] hover:bg-[var(--ht-bg-base)]",children:"Log incident"})]})]})},G.id))})]},O))}):n.jsx("section",{className:"ht-surface p-8 text-center",children:n.jsx("p",{className:"text-[16px] font-medium text-[var(--ht-neutral-800)]",children:"Schedule not yet assigned."})})]}),n.jsxs(jt,{open:h.open,onClose:()=>g({open:!1,entry:null}),title:" ",description:"    .",size:"lg",footer:n.jsxs(n.Fragment,{children:[n.jsx("button",{type:"button",onClick:()=>g({open:!1,entry:null}),className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-4 text-[13px] text-[var(--ht-neutral-700)]",children:""}),n.jsx("button",{type:"button",disabled:a,onClick:ce,className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-primary-600)] bg-[var(--ht-primary-600)] px-4 text-[13px] text-white disabled:opacity-60",children:a?" ...":""})]}),children:[n.jsxs("label",{className:"mb-3 block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:" "}),n.jsx("input",{type:"date",value:w,onChange:O=>S(O.target.value),className:"h-10 w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[13px]"})]}),n.jsx("div",{className:"space-y-2",children:(b[(ve=h.entry)==null?void 0:ve.className]||[]).map(O=>n.jsxs("div",{className:"flex items-center justify-between rounded-[4px] border border-[var(--ht-border-subtle)] p-2",children:[n.jsx("p",{className:"text-[13px] text-[var(--ht-neutral-700)]",children:O.name}),n.jsxs("select",{value:F[O.id]||"present",onChange:G=>M(X=>({...X,[O.id]:G.target.value})),className:"h-8 rounded-[4px] border border-[var(--ht-border-default)] px-2 text-[12px]",children:[n.jsx("option",{value:"present",children:"Present"}),n.jsx("option",{value:"absent",children:"Absent"}),n.jsx("option",{value:"late",children:"Late"})]})]},O.id))})]}),n.jsxs(jt,{open:B.open,onClose:()=>T({open:!1,entry:null}),title:"  ",description:"     .",footer:n.jsxs(n.Fragment,{children:[n.jsx("button",{type:"button",onClick:()=>T({open:!1,entry:null}),className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-4 text-[13px] text-[var(--ht-neutral-700)]",children:""}),n.jsx("button",{type:"button",disabled:a,onClick:ut,className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-primary-600)] bg-[var(--ht-primary-600)] px-4 text-[13px] text-white disabled:opacity-60",children:a?" ...":""})]}),children:[n.jsxs("label",{className:"mb-3 block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:""}),n.jsx("input",{type:"text",value:_,onChange:O=>I(O.target.value),className:"h-10 w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[13px]"})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:""}),n.jsx("textarea",{value:L,onChange:O=>E(O.target.value),className:"min-h-[110px] w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 py-2 text-[13px]"})]})]}),n.jsx(jt,{open:P.open,onClose:()=>W({open:!1,entry:null}),title:"  ",description:"     .",footer:n.jsxs(n.Fragment,{children:[n.jsx("button",{type:"button",onClick:()=>W({open:!1,entry:null}),className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-border-default)] px-4 text-[13px] text-[var(--ht-neutral-700)]",children:""}),n.jsx("button",{type:"button",disabled:a,onClick:pr,className:"ht-interactive inline-flex h-10 items-center justify-center rounded-[4px] border border-[var(--ht-primary-600)] bg-[var(--ht-primary-600)] px-4 text-[13px] text-white disabled:opacity-60",children:a?" ...":""})]}),children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:""}),n.jsx("select",{value:Q,onChange:O=>ye(O.target.value),className:"h-10 w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[13px]",children:(b[(Ee=P.entry)==null?void 0:Ee.className]||[]).map(O=>n.jsx("option",{value:O.id,children:O.name},O.id))})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:""}),n.jsxs("select",{value:D,onChange:O=>H(O.target.value),className:"h-10 w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 text-[13px]",children:[n.jsx("option",{value:"low",children:"Low"}),n.jsx("option",{value:"medium",children:"Medium"}),n.jsx("option",{value:"high",children:"High"})]})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-2 block text-[13px] text-[var(--ht-neutral-600)]",children:" "}),n.jsx("textarea",{value:V,onChange:O=>C(O.target.value),className:"min-h-[110px] w-full rounded-[4px] border border-[var(--ht-border-default)] px-3 py-2 text-[13px]"})]})]})})]})}function Iu(){const{isLoading:e,isAuthenticated:t,role:r}=xe();return e?n.jsx(Ra,{}):n.jsx(_t,{to:t?os(r):"/login",replace:!0})}function Db(){const{isLoading:e,isAuthenticated:t,role:r}=xe();return e?n.jsx(Ra,{}):t?n.jsx(_t,{to:os(r),replace:!0}):n.jsx(rv,{})}function $b(){return n.jsxs(kg,{children:[n.jsx(oe,{path:"/",element:n.jsx(Iu,{})}),n.jsx(oe,{path:"/login",element:n.jsx(Db,{})}),n.jsx(oe,{element:n.jsx(Jg,{}),children:n.jsxs(oe,{path:"/admin",element:n.jsx(Xv,{}),children:[n.jsx(oe,{index:!0,element:n.jsx(t0,{})}),n.jsx(oe,{path:"dashboard",element:n.jsx(_t,{to:"/admin",replace:!0})}),n.jsx(oe,{path:"students",element:n.jsx(g0,{})}),n.jsx(oe,{path:"teachers",element:n.jsx(w0,{})}),n.jsx(oe,{path:"classes",element:n.jsx(r0,{})}),n.jsx(oe,{path:"subjects",element:n.jsx(v0,{})}),n.jsx(oe,{path:"feedback",element:n.jsx(s0,{})}),n.jsx(oe,{path:"import-users",element:n.jsx(c0,{})}),n.jsx(oe,{path:"surveys",element:n.jsx(N0,{})}),n.jsx(oe,{path:"schedule",element:n.jsx(m0,{})}),n.jsx(oe,{path:"notifications",element:n.jsx(d0,{})}),n.jsx(oe,{path:"reports",element:n.jsx(p0,{})}),n.jsx(oe,{path:"settings",element:n.jsx(x0,{})})]})}),n.jsxs(oe,{element:n.jsx(iu,{allow:"teacher"}),children:[n.jsx(oe,{path:"/teacher",element:n.jsx(Ib,{})}),n.jsx(oe,{path:"/teacher/schedule",element:n.jsx(Ob,{})})]}),n.jsxs(oe,{element:n.jsx(iu,{allow:"student"}),children:[n.jsx(oe,{path:"/student",element:n.jsx(ub,{})}),n.jsx(oe,{path:"/student/schedule",element:n.jsx(mb,{})})]}),n.jsx(oe,{path:"*",element:n.jsx(Iu,{})})]})}const Ru="/edu-bridge/",Bb=Ru==="/"?"":Ru.replace(/\/$/,"");Sl.createRoot(document.getElementById("root")).render(n.jsx(Gu.StrictMode,{children:n.jsx(Xg,{children:n.jsx(_g,{basename:Bb,future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:n.jsx($b,{})})})}));
